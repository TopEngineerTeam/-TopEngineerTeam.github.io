import{r as go,c as _e,d as Rn,i as Nt,B as Se,b as ve,t as id,g as od}from"./index.4d3a7601.js";import{e as yo,b as sd,i as ad}from"./index.2db9452f.js";function ud(t,e){for(var r=0;r<e.length;r++){const n=e[r];if(typeof n!="string"&&!Array.isArray(n)){for(const i in n)if(i!=="default"&&!(i in t)){const o=Object.getOwnPropertyDescriptor(n,i);o&&Object.defineProperty(t,i,o.get?o:{enumerable:!0,get:()=>n[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}var Sa={},si={},bo={};Object.defineProperty(bo,"__esModule",{value:!0});bo.walletLogo=void 0;const cd=(t,e)=>{let r;switch(t){case"standard":return r=e,`data:image/svg+xml,%3Csvg width='${e}' height='${r}' viewBox='0 0 1024 1024' fill='none' xmlns='http://www.w3.org/2000/svg'%3E %3Crect width='1024' height='1024' fill='%230052FF'/%3E %3Cpath fill-rule='evenodd' clip-rule='evenodd' d='M152 512C152 710.823 313.177 872 512 872C710.823 872 872 710.823 872 512C872 313.177 710.823 152 512 152C313.177 152 152 313.177 152 512ZM420 396C406.745 396 396 406.745 396 420V604C396 617.255 406.745 628 420 628H604C617.255 628 628 617.255 628 604V420C628 406.745 617.255 396 604 396H420Z' fill='white'/%3E %3C/svg%3E `;case"circle":return r=e,`data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='${e}' height='${r}' viewBox='0 0 999.81 999.81'%3E%3Cdefs%3E%3Cstyle%3E.cls-1%7Bfill:%230052fe;%7D.cls-2%7Bfill:%23fefefe;%7D.cls-3%7Bfill:%230152fe;%7D%3C/style%3E%3C/defs%3E%3Cpath class='cls-1' d='M655-115.9h56c.83,1.59,2.36.88,3.56,1a478,478,0,0,1,75.06,10.42C891.4-81.76,978.33-32.58,1049.19,44q116.7,126,131.94,297.61c.38,4.14-.34,8.53,1.78,12.45v59c-1.58.84-.91,2.35-1,3.56a482.05,482.05,0,0,1-10.38,74.05c-24,106.72-76.64,196.76-158.83,268.93s-178.18,112.82-287.2,122.6c-4.83.43-9.86-.25-14.51,1.77H654c-1-1.68-2.69-.91-4.06-1a496.89,496.89,0,0,1-105.9-18.59c-93.54-27.42-172.78-77.59-236.91-150.94Q199.34,590.1,184.87,426.58c-.47-5.19.25-10.56-1.77-15.59V355c1.68-1,.91-2.7,1-4.06a498.12,498.12,0,0,1,18.58-105.9c26-88.75,72.64-164.9,140.6-227.57q126-116.27,297.21-131.61C645.32-114.57,650.35-113.88,655-115.9Zm377.92,500c0-192.44-156.31-349.49-347.56-350.15-194.13-.68-350.94,155.13-352.29,347.42-1.37,194.55,155.51,352.1,348.56,352.47C876.15,734.23,1032.93,577.84,1032.93,384.11Z' transform='translate(-183.1 115.9)'/%3E%3Cpath class='cls-2' d='M1032.93,384.11c0,193.73-156.78,350.12-351.29,349.74-193-.37-349.93-157.92-348.56-352.47C334.43,189.09,491.24,33.28,685.37,34,876.62,34.62,1032.94,191.67,1032.93,384.11ZM683,496.81q43.74,0,87.48,0c15.55,0,25.32-9.72,25.33-25.21q0-87.48,0-175c0-15.83-9.68-25.46-25.59-25.46H595.77c-15.88,0-25.57,9.64-25.58,25.46q0,87.23,0,174.45c0,16.18,9.59,25.7,25.84,25.71Z' transform='translate(-183.1 115.9)'/%3E%3Cpath class='cls-3' d='M683,496.81H596c-16.25,0-25.84-9.53-25.84-25.71q0-87.23,0-174.45c0-15.82,9.7-25.46,25.58-25.46H770.22c15.91,0,25.59,9.63,25.59,25.46q0,87.47,0,175c0,15.49-9.78,25.2-25.33,25.21Q726.74,496.84,683,496.81Z' transform='translate(-183.1 115.9)'/%3E%3C/svg%3E`;case"text":return r=(.1*e).toFixed(2),`data:image/svg+xml,%3Csvg width='${e}' height='${r}' xmlns='http://www.w3.org/2000/svg' viewBox='0 0 528.15 53.64'%3E%3Cdefs%3E%3Cstyle%3E.cls-1%7Bfill:%230052ff;%7D%3C/style%3E%3C/defs%3E%3Ctitle%3ECoinbase_Wordmark_SubBrands_ALL%3C/title%3E%3Cpath class='cls-1' d='M164.45,15a15,15,0,0,0-11.74,5.4V0h-8.64V52.92h8.5V48a15,15,0,0,0,11.88,5.62c10.37,0,18.21-8.21,18.21-19.3S174.67,15,164.45,15Zm-1.3,30.67c-6.19,0-10.73-4.83-10.73-11.31S157,23,163.22,23s10.66,4.82,10.66,11.37S169.34,45.65,163.15,45.65Zm83.31-14.91-6.34-.93c-3-.43-5.18-1.44-5.18-3.82,0-2.59,2.8-3.89,6.62-3.89,4.18,0,6.84,1.8,7.42,4.76h8.35c-.94-7.49-6.7-11.88-15.55-11.88-9.15,0-15.2,4.68-15.2,11.3,0,6.34,4,10,12,11.16l6.33.94c3.1.43,4.83,1.65,4.83,4,0,2.95-3,4.17-7.2,4.17-5.12,0-8-2.09-8.43-5.25h-8.49c.79,7.27,6.48,12.38,16.84,12.38,9.44,0,15.7-4.32,15.7-11.74C258.12,35.28,253.58,31.82,246.46,30.74Zm-27.65-2.3c0-8.06-4.9-13.46-15.27-13.46-9.79,0-15.26,5-16.34,12.6h8.57c.43-3,2.73-5.4,7.63-5.4,4.39,0,6.55,1.94,6.55,4.32,0,3.09-4,3.88-8.85,4.39-6.63.72-14.84,3-14.84,11.66,0,6.7,5,11,12.89,11,6.19,0,10.08-2.59,12-6.7.28,3.67,3,6.05,6.84,6.05h5v-7.7h-4.25Zm-8.5,9.36c0,5-4.32,8.64-9.57,8.64-3.24,0-6-1.37-6-4.25,0-3.67,4.39-4.68,8.42-5.11s6-1.22,7.13-2.88ZM281.09,15c-11.09,0-19.23,8.35-19.23,19.36,0,11.6,8.72,19.3,19.37,19.3,9,0,16.06-5.33,17.86-12.89h-9c-1.3,3.31-4.47,5.19-8.71,5.19-5.55,0-9.72-3.46-10.66-9.51H299.3V33.12C299.3,22.46,291.53,15,281.09,15Zm-9.87,15.26c1.37-5.18,5.26-7.7,9.72-7.7,4.9,0,8.64,2.8,9.51,7.7ZM19.3,23a9.84,9.84,0,0,1,9.5,7h9.14c-1.65-8.93-9-15-18.57-15A19,19,0,0,0,0,34.34c0,11.09,8.28,19.3,19.37,19.3,9.36,0,16.85-6,18.5-15H28.8a9.75,9.75,0,0,1-9.43,7.06c-6.27,0-10.66-4.83-10.66-11.31S13,23,19.3,23Zm41.11-8A19,19,0,0,0,41,34.34c0,11.09,8.28,19.3,19.37,19.3A19,19,0,0,0,79.92,34.27C79.92,23.33,71.64,15,60.41,15Zm.07,30.67c-6.19,0-10.73-4.83-10.73-11.31S54.22,23,60.41,23s10.8,4.89,10.8,11.37S66.67,45.65,60.48,45.65ZM123.41,15c-5.62,0-9.29,2.3-11.45,5.54V15.7h-8.57V52.92H112V32.69C112,27,115.63,23,121,23c5,0,8.06,3.53,8.06,8.64V52.92h8.64V31C137.66,21.6,132.84,15,123.41,15ZM92,.36a5.36,5.36,0,0,0-5.55,5.47,5.55,5.55,0,0,0,11.09,0A5.35,5.35,0,0,0,92,.36Zm-9.72,23h5.4V52.92h8.64V15.7h-14Zm298.17-7.7L366.2,52.92H372L375.29,44H392l3.33,8.88h6L386.87,15.7ZM377,39.23l6.45-17.56h.1l6.56,17.56ZM362.66,15.7l-7.88,29h-.11l-8.14-29H341l-8,28.93h-.1l-8-28.87H319L329.82,53h5.45l8.19-29.24h.11L352,53h5.66L368.1,15.7Zm135.25,0v4.86h12.32V52.92h5.6V20.56h12.32V15.7ZM467.82,52.92h25.54V48.06H473.43v-12h18.35V31.35H473.43V20.56h19.93V15.7H467.82ZM443,15.7h-5.6V52.92h24.32V48.06H443Zm-30.45,0h-5.61V52.92h24.32V48.06H412.52Z'/%3E%3C/svg%3E`;case"textWithLogo":return r=(.25*e).toFixed(2),`data:image/svg+xml,%3Csvg width='${e}' height='${r}' xmlns='http://www.w3.org/2000/svg' viewBox='0 0 308.44 77.61'%3E%3Cdefs%3E%3Cstyle%3E.cls-1%7Bfill:%230052ff;%7D%3C/style%3E%3C/defs%3E%3Cpath class='cls-1' d='M142.94,20.2l-7.88,29H135l-8.15-29h-5.55l-8,28.93h-.11l-8-28.87H99.27l10.84,37.27h5.44l8.2-29.24h.1l8.41,29.24h5.66L148.39,20.2Zm17.82,0L146.48,57.42h5.82l3.28-8.88h16.65l3.34,8.88h6L167.16,20.2Zm-3.44,23.52,6.45-17.55h.11l6.56,17.55ZM278.2,20.2v4.86h12.32V57.42h5.6V25.06h12.32V20.2ZM248.11,57.42h25.54V52.55H253.71V40.61h18.35V35.85H253.71V25.06h19.94V20.2H248.11ZM223.26,20.2h-5.61V57.42H242V52.55H223.26Zm-30.46,0h-5.6V57.42h24.32V52.55H192.8Zm-154,38A19.41,19.41,0,1,1,57.92,35.57H77.47a38.81,38.81,0,1,0,0,6.47H57.92A19.39,19.39,0,0,1,38.81,58.21Z'/%3E%3C/svg%3E`;case"textLight":return r=(.1*e).toFixed(2),`data:image/svg+xml,%3Csvg width='${e}' height='${r}' xmlns='http://www.w3.org/2000/svg' viewBox='0 0 528.15 53.64'%3E%3Cdefs%3E%3Cstyle%3E.cls-1%7Bfill:%23fefefe;%7D%3C/style%3E%3C/defs%3E%3Ctitle%3ECoinbase_Wordmark_SubBrands_ALL%3C/title%3E%3Cpath class='cls-1' d='M164.45,15a15,15,0,0,0-11.74,5.4V0h-8.64V52.92h8.5V48a15,15,0,0,0,11.88,5.62c10.37,0,18.21-8.21,18.21-19.3S174.67,15,164.45,15Zm-1.3,30.67c-6.19,0-10.73-4.83-10.73-11.31S157,23,163.22,23s10.66,4.82,10.66,11.37S169.34,45.65,163.15,45.65Zm83.31-14.91-6.34-.93c-3-.43-5.18-1.44-5.18-3.82,0-2.59,2.8-3.89,6.62-3.89,4.18,0,6.84,1.8,7.42,4.76h8.35c-.94-7.49-6.7-11.88-15.55-11.88-9.15,0-15.2,4.68-15.2,11.3,0,6.34,4,10,12,11.16l6.33.94c3.1.43,4.83,1.65,4.83,4,0,2.95-3,4.17-7.2,4.17-5.12,0-8-2.09-8.43-5.25h-8.49c.79,7.27,6.48,12.38,16.84,12.38,9.44,0,15.7-4.32,15.7-11.74C258.12,35.28,253.58,31.82,246.46,30.74Zm-27.65-2.3c0-8.06-4.9-13.46-15.27-13.46-9.79,0-15.26,5-16.34,12.6h8.57c.43-3,2.73-5.4,7.63-5.4,4.39,0,6.55,1.94,6.55,4.32,0,3.09-4,3.88-8.85,4.39-6.63.72-14.84,3-14.84,11.66,0,6.7,5,11,12.89,11,6.19,0,10.08-2.59,12-6.7.28,3.67,3,6.05,6.84,6.05h5v-7.7h-4.25Zm-8.5,9.36c0,5-4.32,8.64-9.57,8.64-3.24,0-6-1.37-6-4.25,0-3.67,4.39-4.68,8.42-5.11s6-1.22,7.13-2.88ZM281.09,15c-11.09,0-19.23,8.35-19.23,19.36,0,11.6,8.72,19.3,19.37,19.3,9,0,16.06-5.33,17.86-12.89h-9c-1.3,3.31-4.47,5.19-8.71,5.19-5.55,0-9.72-3.46-10.66-9.51H299.3V33.12C299.3,22.46,291.53,15,281.09,15Zm-9.87,15.26c1.37-5.18,5.26-7.7,9.72-7.7,4.9,0,8.64,2.8,9.51,7.7ZM19.3,23a9.84,9.84,0,0,1,9.5,7h9.14c-1.65-8.93-9-15-18.57-15A19,19,0,0,0,0,34.34c0,11.09,8.28,19.3,19.37,19.3,9.36,0,16.85-6,18.5-15H28.8a9.75,9.75,0,0,1-9.43,7.06c-6.27,0-10.66-4.83-10.66-11.31S13,23,19.3,23Zm41.11-8A19,19,0,0,0,41,34.34c0,11.09,8.28,19.3,19.37,19.3A19,19,0,0,0,79.92,34.27C79.92,23.33,71.64,15,60.41,15Zm.07,30.67c-6.19,0-10.73-4.83-10.73-11.31S54.22,23,60.41,23s10.8,4.89,10.8,11.37S66.67,45.65,60.48,45.65ZM123.41,15c-5.62,0-9.29,2.3-11.45,5.54V15.7h-8.57V52.92H112V32.69C112,27,115.63,23,121,23c5,0,8.06,3.53,8.06,8.64V52.92h8.64V31C137.66,21.6,132.84,15,123.41,15ZM92,.36a5.36,5.36,0,0,0-5.55,5.47,5.55,5.55,0,0,0,11.09,0A5.35,5.35,0,0,0,92,.36Zm-9.72,23h5.4V52.92h8.64V15.7h-14Zm298.17-7.7L366.2,52.92H372L375.29,44H392l3.33,8.88h6L386.87,15.7ZM377,39.23l6.45-17.56h.1l6.56,17.56ZM362.66,15.7l-7.88,29h-.11l-8.14-29H341l-8,28.93h-.1l-8-28.87H319L329.82,53h5.45l8.19-29.24h.11L352,53h5.66L368.1,15.7Zm135.25,0v4.86h12.32V52.92h5.6V20.56h12.32V15.7ZM467.82,52.92h25.54V48.06H473.43v-12h18.35V31.35H473.43V20.56h19.93V15.7H467.82ZM443,15.7h-5.6V52.92h24.32V48.06H443Zm-30.45,0h-5.61V52.92h24.32V48.06H412.52Z'/%3E%3C/svg%3E`;case"textWithLogoLight":return r=(.25*e).toFixed(2),`data:image/svg+xml,%3Csvg width='${e}' height='${r}' xmlns='http://www.w3.org/2000/svg' viewBox='0 0 308.44 77.61'%3E%3Cdefs%3E%3Cstyle%3E.cls-1%7Bfill:%23fefefe;%7D%3C/style%3E%3C/defs%3E%3Cpath class='cls-1' d='M142.94,20.2l-7.88,29H135l-8.15-29h-5.55l-8,28.93h-.11l-8-28.87H99.27l10.84,37.27h5.44l8.2-29.24h.1l8.41,29.24h5.66L148.39,20.2Zm17.82,0L146.48,57.42h5.82l3.28-8.88h16.65l3.34,8.88h6L167.16,20.2Zm-3.44,23.52,6.45-17.55h.11l6.56,17.55ZM278.2,20.2v4.86h12.32V57.42h5.6V25.06h12.32V20.2ZM248.11,57.42h25.54V52.55H253.71V40.61h18.35V35.85H253.71V25.06h19.94V20.2H248.11ZM223.26,20.2h-5.61V57.42H242V52.55H223.26Zm-30.46,0h-5.6V57.42h24.32V52.55H192.8Zm-154,38A19.41,19.41,0,1,1,57.92,35.57H77.47a38.81,38.81,0,1,0,0,6.47H57.92A19.39,19.39,0,0,1,38.81,58.21Z'/%3E%3C/svg%3E`;default:return r=e,`data:image/svg+xml,%3Csvg width='${e}' height='${r}' viewBox='0 0 1024 1024' fill='none' xmlns='http://www.w3.org/2000/svg'%3E %3Crect width='1024' height='1024' fill='%230052FF'/%3E %3Cpath fill-rule='evenodd' clip-rule='evenodd' d='M152 512C152 710.823 313.177 872 512 872C710.823 872 872 710.823 872 512C872 313.177 710.823 152 512 152C313.177 152 152 313.177 152 512ZM420 396C406.745 396 396 406.745 396 420V604C396 617.255 406.745 628 420 628H604C617.255 628 628 617.255 628 604V420C628 406.745 617.255 396 604 396H420Z' fill='white'/%3E %3C/svg%3E `}};bo.walletLogo=cd;var vo={};Object.defineProperty(vo,"__esModule",{value:!0});vo.ScopedLocalStorage=void 0;class ld{constructor(e){this.scope=e}setItem(e,r){localStorage.setItem(this.scopedKey(e),r)}getItem(e){return localStorage.getItem(this.scopedKey(e))}removeItem(e){localStorage.removeItem(this.scopedKey(e))}clear(){const e=this.scopedKey(""),r=[];for(let n=0;n<localStorage.length;n++){const i=localStorage.key(n);typeof i=="string"&&i.startsWith(e)&&r.push(i)}r.forEach(n=>localStorage.removeItem(n))}scopedKey(e){return`${this.scope}:${e}`}}vo.ScopedLocalStorage=ld;var yn={},Tn={};Object.defineProperty(Tn,"__esModule",{value:!0});const fd=yo.exports;function yu(t,e,r){try{Reflect.apply(t,e,r)}catch(n){setTimeout(()=>{throw n})}}function hd(t){const e=t.length,r=new Array(e);for(let n=0;n<e;n+=1)r[n]=t[n];return r}class dd extends fd.EventEmitter{emit(e,...r){let n=e==="error";const i=this._events;if(i!==void 0)n=n&&i.error===void 0;else if(!n)return!1;if(n){let s;if(r.length>0&&([s]=r),s instanceof Error)throw s;const a=new Error(`Unhandled error.${s?` (${s.message})`:""}`);throw a.context=s,a}const o=i[e];if(o===void 0)return!1;if(typeof o=="function")yu(o,this,r);else{const s=o.length,a=hd(o);for(let f=0;f<s;f+=1)yu(a[f],this,r)}return!0}}Tn.default=dd;var di={exports:{}};(function(t){(function(e,r){function n(M,u){if(!M)throw new Error(u||"Assertion failed")}function i(M,u){M.super_=u;var d=function(){};d.prototype=u.prototype,M.prototype=new d,M.prototype.constructor=M}function o(M,u,d){if(o.isBN(M))return M;this.negative=0,this.words=null,this.length=0,this.red=null,M!==null&&((u==="le"||u==="be")&&(d=u,u=10),this._init(M||0,u||10,d||"be"))}typeof e=="object"?e.exports=o:r.BN=o,o.BN=o,o.wordSize=26;var s;try{typeof window<"u"&&typeof window.Buffer<"u"?s=window.Buffer:s=go.Buffer}catch{}o.isBN=function(u){return u instanceof o?!0:u!==null&&typeof u=="object"&&u.constructor.wordSize===o.wordSize&&Array.isArray(u.words)},o.max=function(u,d){return u.cmp(d)>0?u:d},o.min=function(u,d){return u.cmp(d)<0?u:d},o.prototype._init=function(u,d,v){if(typeof u=="number")return this._initNumber(u,d,v);if(typeof u=="object")return this._initArray(u,d,v);d==="hex"&&(d=16),n(d===(d|0)&&d>=2&&d<=36),u=u.toString().replace(/\s+/g,"");var x=0;u[0]==="-"&&(x++,this.negative=1),x<u.length&&(d===16?this._parseHex(u,x,v):(this._parseBase(u,d,x),v==="le"&&this._initArray(this.toArray(),d,v)))},o.prototype._initNumber=function(u,d,v){u<0&&(this.negative=1,u=-u),u<67108864?(this.words=[u&67108863],this.length=1):u<4503599627370496?(this.words=[u&67108863,u/67108864&67108863],this.length=2):(n(u<9007199254740992),this.words=[u&67108863,u/67108864&67108863,1],this.length=3),v==="le"&&this._initArray(this.toArray(),d,v)},o.prototype._initArray=function(u,d,v){if(n(typeof u.length=="number"),u.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(u.length/3),this.words=new Array(this.length);for(var x=0;x<this.length;x++)this.words[x]=0;var A,T,L=0;if(v==="be")for(x=u.length-1,A=0;x>=0;x-=3)T=u[x]|u[x-1]<<8|u[x-2]<<16,this.words[A]|=T<<L&67108863,this.words[A+1]=T>>>26-L&67108863,L+=24,L>=26&&(L-=26,A++);else if(v==="le")for(x=0,A=0;x<u.length;x+=3)T=u[x]|u[x+1]<<8|u[x+2]<<16,this.words[A]|=T<<L&67108863,this.words[A+1]=T>>>26-L&67108863,L+=24,L>=26&&(L-=26,A++);return this._strip()};function a(M,u){var d=M.charCodeAt(u);if(d>=48&&d<=57)return d-48;if(d>=65&&d<=70)return d-55;if(d>=97&&d<=102)return d-87;n(!1,"Invalid character in "+M)}function f(M,u,d){var v=a(M,d);return d-1>=u&&(v|=a(M,d-1)<<4),v}o.prototype._parseHex=function(u,d,v){this.length=Math.ceil((u.length-d)/6),this.words=new Array(this.length);for(var x=0;x<this.length;x++)this.words[x]=0;var A=0,T=0,L;if(v==="be")for(x=u.length-1;x>=d;x-=2)L=f(u,d,x)<<A,this.words[T]|=L&67108863,A>=18?(A-=18,T+=1,this.words[T]|=L>>>26):A+=8;else{var S=u.length-d;for(x=S%2===0?d+1:d;x<u.length;x+=2)L=f(u,d,x)<<A,this.words[T]|=L&67108863,A>=18?(A-=18,T+=1,this.words[T]|=L>>>26):A+=8}this._strip()};function p(M,u,d,v){for(var x=0,A=0,T=Math.min(M.length,d),L=u;L<T;L++){var S=M.charCodeAt(L)-48;x*=v,S>=49?A=S-49+10:S>=17?A=S-17+10:A=S,n(S>=0&&A<v,"Invalid character"),x+=A}return x}o.prototype._parseBase=function(u,d,v){this.words=[0],this.length=1;for(var x=0,A=1;A<=67108863;A*=d)x++;x--,A=A/d|0;for(var T=u.length-v,L=T%x,S=Math.min(T,T-L)+v,c=0,b=v;b<S;b+=x)c=p(u,b,b+x,d),this.imuln(A),this.words[0]+c<67108864?this.words[0]+=c:this._iaddn(c);if(L!==0){var $=1;for(c=p(u,b,u.length,d),b=0;b<L;b++)$*=d;this.imuln($),this.words[0]+c<67108864?this.words[0]+=c:this._iaddn(c)}this._strip()},o.prototype.copy=function(u){u.words=new Array(this.length);for(var d=0;d<this.length;d++)u.words[d]=this.words[d];u.length=this.length,u.negative=this.negative,u.red=this.red};function g(M,u){M.words=u.words,M.length=u.length,M.negative=u.negative,M.red=u.red}if(o.prototype._move=function(u){g(u,this)},o.prototype.clone=function(){var u=new o(null);return this.copy(u),u},o.prototype._expand=function(u){for(;this.length<u;)this.words[this.length++]=0;return this},o.prototype._strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},o.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},typeof Symbol<"u"&&typeof Symbol.for=="function")try{o.prototype[Symbol.for("nodejs.util.inspect.custom")]=I}catch{o.prototype.inspect=I}else o.prototype.inspect=I;function I(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"}var m=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],C=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],N=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];o.prototype.toString=function(u,d){u=u||10,d=d|0||1;var v;if(u===16||u==="hex"){v="";for(var x=0,A=0,T=0;T<this.length;T++){var L=this.words[T],S=((L<<x|A)&16777215).toString(16);A=L>>>24-x&16777215,x+=2,x>=26&&(x-=26,T--),A!==0||T!==this.length-1?v=m[6-S.length]+S+v:v=S+v}for(A!==0&&(v=A.toString(16)+v);v.length%d!==0;)v="0"+v;return this.negative!==0&&(v="-"+v),v}if(u===(u|0)&&u>=2&&u<=36){var c=C[u],b=N[u];v="";var $=this.clone();for($.negative=0;!$.isZero();){var K=$.modrn(b).toString(u);$=$.idivn(b),$.isZero()?v=K+v:v=m[c-K.length]+K+v}for(this.isZero()&&(v="0"+v);v.length%d!==0;)v="0"+v;return this.negative!==0&&(v="-"+v),v}n(!1,"Base should be between 2 and 36")},o.prototype.toNumber=function(){var u=this.words[0];return this.length===2?u+=this.words[1]*67108864:this.length===3&&this.words[2]===1?u+=4503599627370496+this.words[1]*67108864:this.length>2&&n(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-u:u},o.prototype.toJSON=function(){return this.toString(16,2)},s&&(o.prototype.toBuffer=function(u,d){return this.toArrayLike(s,u,d)}),o.prototype.toArray=function(u,d){return this.toArrayLike(Array,u,d)};var H=function(u,d){return u.allocUnsafe?u.allocUnsafe(d):new u(d)};o.prototype.toArrayLike=function(u,d,v){this._strip();var x=this.byteLength(),A=v||Math.max(1,x);n(x<=A,"byte array longer than desired length"),n(A>0,"Requested array length <= 0");var T=H(u,A),L=d==="le"?"LE":"BE";return this["_toArrayLike"+L](T,x),T},o.prototype._toArrayLikeLE=function(u,d){for(var v=0,x=0,A=0,T=0;A<this.length;A++){var L=this.words[A]<<T|x;u[v++]=L&255,v<u.length&&(u[v++]=L>>8&255),v<u.length&&(u[v++]=L>>16&255),T===6?(v<u.length&&(u[v++]=L>>24&255),x=0,T=0):(x=L>>>24,T+=2)}if(v<u.length)for(u[v++]=x;v<u.length;)u[v++]=0},o.prototype._toArrayLikeBE=function(u,d){for(var v=u.length-1,x=0,A=0,T=0;A<this.length;A++){var L=this.words[A]<<T|x;u[v--]=L&255,v>=0&&(u[v--]=L>>8&255),v>=0&&(u[v--]=L>>16&255),T===6?(v>=0&&(u[v--]=L>>24&255),x=0,T=0):(x=L>>>24,T+=2)}if(v>=0)for(u[v--]=x;v>=0;)u[v--]=0},Math.clz32?o.prototype._countBits=function(u){return 32-Math.clz32(u)}:o.prototype._countBits=function(u){var d=u,v=0;return d>=4096&&(v+=13,d>>>=13),d>=64&&(v+=7,d>>>=7),d>=8&&(v+=4,d>>>=4),d>=2&&(v+=2,d>>>=2),v+d},o.prototype._zeroBits=function(u){if(u===0)return 26;var d=u,v=0;return(d&8191)===0&&(v+=13,d>>>=13),(d&127)===0&&(v+=7,d>>>=7),(d&15)===0&&(v+=4,d>>>=4),(d&3)===0&&(v+=2,d>>>=2),(d&1)===0&&v++,v},o.prototype.bitLength=function(){var u=this.words[this.length-1],d=this._countBits(u);return(this.length-1)*26+d};function U(M){for(var u=new Array(M.bitLength()),d=0;d<u.length;d++){var v=d/26|0,x=d%26;u[d]=M.words[v]>>>x&1}return u}o.prototype.zeroBits=function(){if(this.isZero())return 0;for(var u=0,d=0;d<this.length;d++){var v=this._zeroBits(this.words[d]);if(u+=v,v!==26)break}return u},o.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},o.prototype.toTwos=function(u){return this.negative!==0?this.abs().inotn(u).iaddn(1):this.clone()},o.prototype.fromTwos=function(u){return this.testn(u-1)?this.notn(u).iaddn(1).ineg():this.clone()},o.prototype.isNeg=function(){return this.negative!==0},o.prototype.neg=function(){return this.clone().ineg()},o.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},o.prototype.iuor=function(u){for(;this.length<u.length;)this.words[this.length++]=0;for(var d=0;d<u.length;d++)this.words[d]=this.words[d]|u.words[d];return this._strip()},o.prototype.ior=function(u){return n((this.negative|u.negative)===0),this.iuor(u)},o.prototype.or=function(u){return this.length>u.length?this.clone().ior(u):u.clone().ior(this)},o.prototype.uor=function(u){return this.length>u.length?this.clone().iuor(u):u.clone().iuor(this)},o.prototype.iuand=function(u){var d;this.length>u.length?d=u:d=this;for(var v=0;v<d.length;v++)this.words[v]=this.words[v]&u.words[v];return this.length=d.length,this._strip()},o.prototype.iand=function(u){return n((this.negative|u.negative)===0),this.iuand(u)},o.prototype.and=function(u){return this.length>u.length?this.clone().iand(u):u.clone().iand(this)},o.prototype.uand=function(u){return this.length>u.length?this.clone().iuand(u):u.clone().iuand(this)},o.prototype.iuxor=function(u){var d,v;this.length>u.length?(d=this,v=u):(d=u,v=this);for(var x=0;x<v.length;x++)this.words[x]=d.words[x]^v.words[x];if(this!==d)for(;x<d.length;x++)this.words[x]=d.words[x];return this.length=d.length,this._strip()},o.prototype.ixor=function(u){return n((this.negative|u.negative)===0),this.iuxor(u)},o.prototype.xor=function(u){return this.length>u.length?this.clone().ixor(u):u.clone().ixor(this)},o.prototype.uxor=function(u){return this.length>u.length?this.clone().iuxor(u):u.clone().iuxor(this)},o.prototype.inotn=function(u){n(typeof u=="number"&&u>=0);var d=Math.ceil(u/26)|0,v=u%26;this._expand(d),v>0&&d--;for(var x=0;x<d;x++)this.words[x]=~this.words[x]&67108863;return v>0&&(this.words[x]=~this.words[x]&67108863>>26-v),this._strip()},o.prototype.notn=function(u){return this.clone().inotn(u)},o.prototype.setn=function(u,d){n(typeof u=="number"&&u>=0);var v=u/26|0,x=u%26;return this._expand(v+1),d?this.words[v]=this.words[v]|1<<x:this.words[v]=this.words[v]&~(1<<x),this._strip()},o.prototype.iadd=function(u){var d;if(this.negative!==0&&u.negative===0)return this.negative=0,d=this.isub(u),this.negative^=1,this._normSign();if(this.negative===0&&u.negative!==0)return u.negative=0,d=this.isub(u),u.negative=1,d._normSign();var v,x;this.length>u.length?(v=this,x=u):(v=u,x=this);for(var A=0,T=0;T<x.length;T++)d=(v.words[T]|0)+(x.words[T]|0)+A,this.words[T]=d&67108863,A=d>>>26;for(;A!==0&&T<v.length;T++)d=(v.words[T]|0)+A,this.words[T]=d&67108863,A=d>>>26;if(this.length=v.length,A!==0)this.words[this.length]=A,this.length++;else if(v!==this)for(;T<v.length;T++)this.words[T]=v.words[T];return this},o.prototype.add=function(u){var d;return u.negative!==0&&this.negative===0?(u.negative=0,d=this.sub(u),u.negative^=1,d):u.negative===0&&this.negative!==0?(this.negative=0,d=u.sub(this),this.negative=1,d):this.length>u.length?this.clone().iadd(u):u.clone().iadd(this)},o.prototype.isub=function(u){if(u.negative!==0){u.negative=0;var d=this.iadd(u);return u.negative=1,d._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(u),this.negative=1,this._normSign();var v=this.cmp(u);if(v===0)return this.negative=0,this.length=1,this.words[0]=0,this;var x,A;v>0?(x=this,A=u):(x=u,A=this);for(var T=0,L=0;L<A.length;L++)d=(x.words[L]|0)-(A.words[L]|0)+T,T=d>>26,this.words[L]=d&67108863;for(;T!==0&&L<x.length;L++)d=(x.words[L]|0)+T,T=d>>26,this.words[L]=d&67108863;if(T===0&&L<x.length&&x!==this)for(;L<x.length;L++)this.words[L]=x.words[L];return this.length=Math.max(this.length,L),x!==this&&(this.negative=1),this._strip()},o.prototype.sub=function(u){return this.clone().isub(u)};function R(M,u,d){d.negative=u.negative^M.negative;var v=M.length+u.length|0;d.length=v,v=v-1|0;var x=M.words[0]|0,A=u.words[0]|0,T=x*A,L=T&67108863,S=T/67108864|0;d.words[0]=L;for(var c=1;c<v;c++){for(var b=S>>>26,$=S&67108863,K=Math.min(c,u.length-1),k=Math.max(0,c-M.length+1);k<=K;k++){var O=c-k|0;x=M.words[O]|0,A=u.words[k]|0,T=x*A+$,b+=T/67108864|0,$=T&67108863}d.words[c]=$|0,S=b|0}return S!==0?d.words[c]=S|0:d.length--,d._strip()}var B=function(u,d,v){var x=u.words,A=d.words,T=v.words,L=0,S,c,b,$=x[0]|0,K=$&8191,k=$>>>13,O=x[1]|0,j=O&8191,z=O>>>13,X=x[2]|0,_=X&8191,E=X>>>13,q=x[3]|0,Y=q&8191,ue=q>>>13,fe=x[4]|0,ie=fe&8191,Me=fe>>>13,V=x[5]|0,Ce=V&8191,ke=V>>>13,ot=x[6]|0,Ie=ot&8191,Oe=ot>>>13,st=x[7]|0,Re=st&8191,y=st>>>13,l=x[8]|0,h=l&8191,w=l>>>13,P=x[9]|0,F=P&8191,W=P>>>13,de=A[0]|0,he=de&8191,le=de>>>13,Ne=A[1]|0,ce=Ne&8191,Pe=Ne>>>13,Zr=A[2]|0,Le=Zr&8191,De=Zr>>>13,Kr=A[3]|0,Fe=Kr&8191,je=Kr>>>13,Yr=A[4]|0,$e=Yr&8191,Ue=Yr>>>13,Qr=A[5]|0,We=Qr&8191,He=Qr>>>13,Jr=A[6]|0,Ve=Jr&8191,ze=Jr>>>13,Xr=A[7]|0,qe=Xr&8191,Ge=Xr>>>13,en=A[8]|0,Ze=en&8191,Ke=en>>>13,tn=A[9]|0,Ye=tn&8191,Qe=tn>>>13;v.negative=u.negative^d.negative,v.length=19,S=Math.imul(K,he),c=Math.imul(K,le),c=c+Math.imul(k,he)|0,b=Math.imul(k,le);var vr=(L+S|0)+((c&8191)<<13)|0;L=(b+(c>>>13)|0)+(vr>>>26)|0,vr&=67108863,S=Math.imul(j,he),c=Math.imul(j,le),c=c+Math.imul(z,he)|0,b=Math.imul(z,le),S=S+Math.imul(K,ce)|0,c=c+Math.imul(K,Pe)|0,c=c+Math.imul(k,ce)|0,b=b+Math.imul(k,Pe)|0;var mr=(L+S|0)+((c&8191)<<13)|0;L=(b+(c>>>13)|0)+(mr>>>26)|0,mr&=67108863,S=Math.imul(_,he),c=Math.imul(_,le),c=c+Math.imul(E,he)|0,b=Math.imul(E,le),S=S+Math.imul(j,ce)|0,c=c+Math.imul(j,Pe)|0,c=c+Math.imul(z,ce)|0,b=b+Math.imul(z,Pe)|0,S=S+Math.imul(K,Le)|0,c=c+Math.imul(K,De)|0,c=c+Math.imul(k,Le)|0,b=b+Math.imul(k,De)|0;var _r=(L+S|0)+((c&8191)<<13)|0;L=(b+(c>>>13)|0)+(_r>>>26)|0,_r&=67108863,S=Math.imul(Y,he),c=Math.imul(Y,le),c=c+Math.imul(ue,he)|0,b=Math.imul(ue,le),S=S+Math.imul(_,ce)|0,c=c+Math.imul(_,Pe)|0,c=c+Math.imul(E,ce)|0,b=b+Math.imul(E,Pe)|0,S=S+Math.imul(j,Le)|0,c=c+Math.imul(j,De)|0,c=c+Math.imul(z,Le)|0,b=b+Math.imul(z,De)|0,S=S+Math.imul(K,Fe)|0,c=c+Math.imul(K,je)|0,c=c+Math.imul(k,Fe)|0,b=b+Math.imul(k,je)|0;var wr=(L+S|0)+((c&8191)<<13)|0;L=(b+(c>>>13)|0)+(wr>>>26)|0,wr&=67108863,S=Math.imul(ie,he),c=Math.imul(ie,le),c=c+Math.imul(Me,he)|0,b=Math.imul(Me,le),S=S+Math.imul(Y,ce)|0,c=c+Math.imul(Y,Pe)|0,c=c+Math.imul(ue,ce)|0,b=b+Math.imul(ue,Pe)|0,S=S+Math.imul(_,Le)|0,c=c+Math.imul(_,De)|0,c=c+Math.imul(E,Le)|0,b=b+Math.imul(E,De)|0,S=S+Math.imul(j,Fe)|0,c=c+Math.imul(j,je)|0,c=c+Math.imul(z,Fe)|0,b=b+Math.imul(z,je)|0,S=S+Math.imul(K,$e)|0,c=c+Math.imul(K,Ue)|0,c=c+Math.imul(k,$e)|0,b=b+Math.imul(k,Ue)|0;var Sr=(L+S|0)+((c&8191)<<13)|0;L=(b+(c>>>13)|0)+(Sr>>>26)|0,Sr&=67108863,S=Math.imul(Ce,he),c=Math.imul(Ce,le),c=c+Math.imul(ke,he)|0,b=Math.imul(ke,le),S=S+Math.imul(ie,ce)|0,c=c+Math.imul(ie,Pe)|0,c=c+Math.imul(Me,ce)|0,b=b+Math.imul(Me,Pe)|0,S=S+Math.imul(Y,Le)|0,c=c+Math.imul(Y,De)|0,c=c+Math.imul(ue,Le)|0,b=b+Math.imul(ue,De)|0,S=S+Math.imul(_,Fe)|0,c=c+Math.imul(_,je)|0,c=c+Math.imul(E,Fe)|0,b=b+Math.imul(E,je)|0,S=S+Math.imul(j,$e)|0,c=c+Math.imul(j,Ue)|0,c=c+Math.imul(z,$e)|0,b=b+Math.imul(z,Ue)|0,S=S+Math.imul(K,We)|0,c=c+Math.imul(K,He)|0,c=c+Math.imul(k,We)|0,b=b+Math.imul(k,He)|0;var Er=(L+S|0)+((c&8191)<<13)|0;L=(b+(c>>>13)|0)+(Er>>>26)|0,Er&=67108863,S=Math.imul(Ie,he),c=Math.imul(Ie,le),c=c+Math.imul(Oe,he)|0,b=Math.imul(Oe,le),S=S+Math.imul(Ce,ce)|0,c=c+Math.imul(Ce,Pe)|0,c=c+Math.imul(ke,ce)|0,b=b+Math.imul(ke,Pe)|0,S=S+Math.imul(ie,Le)|0,c=c+Math.imul(ie,De)|0,c=c+Math.imul(Me,Le)|0,b=b+Math.imul(Me,De)|0,S=S+Math.imul(Y,Fe)|0,c=c+Math.imul(Y,je)|0,c=c+Math.imul(ue,Fe)|0,b=b+Math.imul(ue,je)|0,S=S+Math.imul(_,$e)|0,c=c+Math.imul(_,Ue)|0,c=c+Math.imul(E,$e)|0,b=b+Math.imul(E,Ue)|0,S=S+Math.imul(j,We)|0,c=c+Math.imul(j,He)|0,c=c+Math.imul(z,We)|0,b=b+Math.imul(z,He)|0,S=S+Math.imul(K,Ve)|0,c=c+Math.imul(K,ze)|0,c=c+Math.imul(k,Ve)|0,b=b+Math.imul(k,ze)|0;var xr=(L+S|0)+((c&8191)<<13)|0;L=(b+(c>>>13)|0)+(xr>>>26)|0,xr&=67108863,S=Math.imul(Re,he),c=Math.imul(Re,le),c=c+Math.imul(y,he)|0,b=Math.imul(y,le),S=S+Math.imul(Ie,ce)|0,c=c+Math.imul(Ie,Pe)|0,c=c+Math.imul(Oe,ce)|0,b=b+Math.imul(Oe,Pe)|0,S=S+Math.imul(Ce,Le)|0,c=c+Math.imul(Ce,De)|0,c=c+Math.imul(ke,Le)|0,b=b+Math.imul(ke,De)|0,S=S+Math.imul(ie,Fe)|0,c=c+Math.imul(ie,je)|0,c=c+Math.imul(Me,Fe)|0,b=b+Math.imul(Me,je)|0,S=S+Math.imul(Y,$e)|0,c=c+Math.imul(Y,Ue)|0,c=c+Math.imul(ue,$e)|0,b=b+Math.imul(ue,Ue)|0,S=S+Math.imul(_,We)|0,c=c+Math.imul(_,He)|0,c=c+Math.imul(E,We)|0,b=b+Math.imul(E,He)|0,S=S+Math.imul(j,Ve)|0,c=c+Math.imul(j,ze)|0,c=c+Math.imul(z,Ve)|0,b=b+Math.imul(z,ze)|0,S=S+Math.imul(K,qe)|0,c=c+Math.imul(K,Ge)|0,c=c+Math.imul(k,qe)|0,b=b+Math.imul(k,Ge)|0;var Mr=(L+S|0)+((c&8191)<<13)|0;L=(b+(c>>>13)|0)+(Mr>>>26)|0,Mr&=67108863,S=Math.imul(h,he),c=Math.imul(h,le),c=c+Math.imul(w,he)|0,b=Math.imul(w,le),S=S+Math.imul(Re,ce)|0,c=c+Math.imul(Re,Pe)|0,c=c+Math.imul(y,ce)|0,b=b+Math.imul(y,Pe)|0,S=S+Math.imul(Ie,Le)|0,c=c+Math.imul(Ie,De)|0,c=c+Math.imul(Oe,Le)|0,b=b+Math.imul(Oe,De)|0,S=S+Math.imul(Ce,Fe)|0,c=c+Math.imul(Ce,je)|0,c=c+Math.imul(ke,Fe)|0,b=b+Math.imul(ke,je)|0,S=S+Math.imul(ie,$e)|0,c=c+Math.imul(ie,Ue)|0,c=c+Math.imul(Me,$e)|0,b=b+Math.imul(Me,Ue)|0,S=S+Math.imul(Y,We)|0,c=c+Math.imul(Y,He)|0,c=c+Math.imul(ue,We)|0,b=b+Math.imul(ue,He)|0,S=S+Math.imul(_,Ve)|0,c=c+Math.imul(_,ze)|0,c=c+Math.imul(E,Ve)|0,b=b+Math.imul(E,ze)|0,S=S+Math.imul(j,qe)|0,c=c+Math.imul(j,Ge)|0,c=c+Math.imul(z,qe)|0,b=b+Math.imul(z,Ge)|0,S=S+Math.imul(K,Ze)|0,c=c+Math.imul(K,Ke)|0,c=c+Math.imul(k,Ze)|0,b=b+Math.imul(k,Ke)|0;var Ar=(L+S|0)+((c&8191)<<13)|0;L=(b+(c>>>13)|0)+(Ar>>>26)|0,Ar&=67108863,S=Math.imul(F,he),c=Math.imul(F,le),c=c+Math.imul(W,he)|0,b=Math.imul(W,le),S=S+Math.imul(h,ce)|0,c=c+Math.imul(h,Pe)|0,c=c+Math.imul(w,ce)|0,b=b+Math.imul(w,Pe)|0,S=S+Math.imul(Re,Le)|0,c=c+Math.imul(Re,De)|0,c=c+Math.imul(y,Le)|0,b=b+Math.imul(y,De)|0,S=S+Math.imul(Ie,Fe)|0,c=c+Math.imul(Ie,je)|0,c=c+Math.imul(Oe,Fe)|0,b=b+Math.imul(Oe,je)|0,S=S+Math.imul(Ce,$e)|0,c=c+Math.imul(Ce,Ue)|0,c=c+Math.imul(ke,$e)|0,b=b+Math.imul(ke,Ue)|0,S=S+Math.imul(ie,We)|0,c=c+Math.imul(ie,He)|0,c=c+Math.imul(Me,We)|0,b=b+Math.imul(Me,He)|0,S=S+Math.imul(Y,Ve)|0,c=c+Math.imul(Y,ze)|0,c=c+Math.imul(ue,Ve)|0,b=b+Math.imul(ue,ze)|0,S=S+Math.imul(_,qe)|0,c=c+Math.imul(_,Ge)|0,c=c+Math.imul(E,qe)|0,b=b+Math.imul(E,Ge)|0,S=S+Math.imul(j,Ze)|0,c=c+Math.imul(j,Ke)|0,c=c+Math.imul(z,Ze)|0,b=b+Math.imul(z,Ke)|0,S=S+Math.imul(K,Ye)|0,c=c+Math.imul(K,Qe)|0,c=c+Math.imul(k,Ye)|0,b=b+Math.imul(k,Qe)|0;var Cr=(L+S|0)+((c&8191)<<13)|0;L=(b+(c>>>13)|0)+(Cr>>>26)|0,Cr&=67108863,S=Math.imul(F,ce),c=Math.imul(F,Pe),c=c+Math.imul(W,ce)|0,b=Math.imul(W,Pe),S=S+Math.imul(h,Le)|0,c=c+Math.imul(h,De)|0,c=c+Math.imul(w,Le)|0,b=b+Math.imul(w,De)|0,S=S+Math.imul(Re,Fe)|0,c=c+Math.imul(Re,je)|0,c=c+Math.imul(y,Fe)|0,b=b+Math.imul(y,je)|0,S=S+Math.imul(Ie,$e)|0,c=c+Math.imul(Ie,Ue)|0,c=c+Math.imul(Oe,$e)|0,b=b+Math.imul(Oe,Ue)|0,S=S+Math.imul(Ce,We)|0,c=c+Math.imul(Ce,He)|0,c=c+Math.imul(ke,We)|0,b=b+Math.imul(ke,He)|0,S=S+Math.imul(ie,Ve)|0,c=c+Math.imul(ie,ze)|0,c=c+Math.imul(Me,Ve)|0,b=b+Math.imul(Me,ze)|0,S=S+Math.imul(Y,qe)|0,c=c+Math.imul(Y,Ge)|0,c=c+Math.imul(ue,qe)|0,b=b+Math.imul(ue,Ge)|0,S=S+Math.imul(_,Ze)|0,c=c+Math.imul(_,Ke)|0,c=c+Math.imul(E,Ze)|0,b=b+Math.imul(E,Ke)|0,S=S+Math.imul(j,Ye)|0,c=c+Math.imul(j,Qe)|0,c=c+Math.imul(z,Ye)|0,b=b+Math.imul(z,Qe)|0;var kr=(L+S|0)+((c&8191)<<13)|0;L=(b+(c>>>13)|0)+(kr>>>26)|0,kr&=67108863,S=Math.imul(F,Le),c=Math.imul(F,De),c=c+Math.imul(W,Le)|0,b=Math.imul(W,De),S=S+Math.imul(h,Fe)|0,c=c+Math.imul(h,je)|0,c=c+Math.imul(w,Fe)|0,b=b+Math.imul(w,je)|0,S=S+Math.imul(Re,$e)|0,c=c+Math.imul(Re,Ue)|0,c=c+Math.imul(y,$e)|0,b=b+Math.imul(y,Ue)|0,S=S+Math.imul(Ie,We)|0,c=c+Math.imul(Ie,He)|0,c=c+Math.imul(Oe,We)|0,b=b+Math.imul(Oe,He)|0,S=S+Math.imul(Ce,Ve)|0,c=c+Math.imul(Ce,ze)|0,c=c+Math.imul(ke,Ve)|0,b=b+Math.imul(ke,ze)|0,S=S+Math.imul(ie,qe)|0,c=c+Math.imul(ie,Ge)|0,c=c+Math.imul(Me,qe)|0,b=b+Math.imul(Me,Ge)|0,S=S+Math.imul(Y,Ze)|0,c=c+Math.imul(Y,Ke)|0,c=c+Math.imul(ue,Ze)|0,b=b+Math.imul(ue,Ke)|0,S=S+Math.imul(_,Ye)|0,c=c+Math.imul(_,Qe)|0,c=c+Math.imul(E,Ye)|0,b=b+Math.imul(E,Qe)|0;var Ir=(L+S|0)+((c&8191)<<13)|0;L=(b+(c>>>13)|0)+(Ir>>>26)|0,Ir&=67108863,S=Math.imul(F,Fe),c=Math.imul(F,je),c=c+Math.imul(W,Fe)|0,b=Math.imul(W,je),S=S+Math.imul(h,$e)|0,c=c+Math.imul(h,Ue)|0,c=c+Math.imul(w,$e)|0,b=b+Math.imul(w,Ue)|0,S=S+Math.imul(Re,We)|0,c=c+Math.imul(Re,He)|0,c=c+Math.imul(y,We)|0,b=b+Math.imul(y,He)|0,S=S+Math.imul(Ie,Ve)|0,c=c+Math.imul(Ie,ze)|0,c=c+Math.imul(Oe,Ve)|0,b=b+Math.imul(Oe,ze)|0,S=S+Math.imul(Ce,qe)|0,c=c+Math.imul(Ce,Ge)|0,c=c+Math.imul(ke,qe)|0,b=b+Math.imul(ke,Ge)|0,S=S+Math.imul(ie,Ze)|0,c=c+Math.imul(ie,Ke)|0,c=c+Math.imul(Me,Ze)|0,b=b+Math.imul(Me,Ke)|0,S=S+Math.imul(Y,Ye)|0,c=c+Math.imul(Y,Qe)|0,c=c+Math.imul(ue,Ye)|0,b=b+Math.imul(ue,Qe)|0;var Rr=(L+S|0)+((c&8191)<<13)|0;L=(b+(c>>>13)|0)+(Rr>>>26)|0,Rr&=67108863,S=Math.imul(F,$e),c=Math.imul(F,Ue),c=c+Math.imul(W,$e)|0,b=Math.imul(W,Ue),S=S+Math.imul(h,We)|0,c=c+Math.imul(h,He)|0,c=c+Math.imul(w,We)|0,b=b+Math.imul(w,He)|0,S=S+Math.imul(Re,Ve)|0,c=c+Math.imul(Re,ze)|0,c=c+Math.imul(y,Ve)|0,b=b+Math.imul(y,ze)|0,S=S+Math.imul(Ie,qe)|0,c=c+Math.imul(Ie,Ge)|0,c=c+Math.imul(Oe,qe)|0,b=b+Math.imul(Oe,Ge)|0,S=S+Math.imul(Ce,Ze)|0,c=c+Math.imul(Ce,Ke)|0,c=c+Math.imul(ke,Ze)|0,b=b+Math.imul(ke,Ke)|0,S=S+Math.imul(ie,Ye)|0,c=c+Math.imul(ie,Qe)|0,c=c+Math.imul(Me,Ye)|0,b=b+Math.imul(Me,Qe)|0;var Tr=(L+S|0)+((c&8191)<<13)|0;L=(b+(c>>>13)|0)+(Tr>>>26)|0,Tr&=67108863,S=Math.imul(F,We),c=Math.imul(F,He),c=c+Math.imul(W,We)|0,b=Math.imul(W,He),S=S+Math.imul(h,Ve)|0,c=c+Math.imul(h,ze)|0,c=c+Math.imul(w,Ve)|0,b=b+Math.imul(w,ze)|0,S=S+Math.imul(Re,qe)|0,c=c+Math.imul(Re,Ge)|0,c=c+Math.imul(y,qe)|0,b=b+Math.imul(y,Ge)|0,S=S+Math.imul(Ie,Ze)|0,c=c+Math.imul(Ie,Ke)|0,c=c+Math.imul(Oe,Ze)|0,b=b+Math.imul(Oe,Ke)|0,S=S+Math.imul(Ce,Ye)|0,c=c+Math.imul(Ce,Qe)|0,c=c+Math.imul(ke,Ye)|0,b=b+Math.imul(ke,Qe)|0;var as=(L+S|0)+((c&8191)<<13)|0;L=(b+(c>>>13)|0)+(as>>>26)|0,as&=67108863,S=Math.imul(F,Ve),c=Math.imul(F,ze),c=c+Math.imul(W,Ve)|0,b=Math.imul(W,ze),S=S+Math.imul(h,qe)|0,c=c+Math.imul(h,Ge)|0,c=c+Math.imul(w,qe)|0,b=b+Math.imul(w,Ge)|0,S=S+Math.imul(Re,Ze)|0,c=c+Math.imul(Re,Ke)|0,c=c+Math.imul(y,Ze)|0,b=b+Math.imul(y,Ke)|0,S=S+Math.imul(Ie,Ye)|0,c=c+Math.imul(Ie,Qe)|0,c=c+Math.imul(Oe,Ye)|0,b=b+Math.imul(Oe,Qe)|0;var us=(L+S|0)+((c&8191)<<13)|0;L=(b+(c>>>13)|0)+(us>>>26)|0,us&=67108863,S=Math.imul(F,qe),c=Math.imul(F,Ge),c=c+Math.imul(W,qe)|0,b=Math.imul(W,Ge),S=S+Math.imul(h,Ze)|0,c=c+Math.imul(h,Ke)|0,c=c+Math.imul(w,Ze)|0,b=b+Math.imul(w,Ke)|0,S=S+Math.imul(Re,Ye)|0,c=c+Math.imul(Re,Qe)|0,c=c+Math.imul(y,Ye)|0,b=b+Math.imul(y,Qe)|0;var cs=(L+S|0)+((c&8191)<<13)|0;L=(b+(c>>>13)|0)+(cs>>>26)|0,cs&=67108863,S=Math.imul(F,Ze),c=Math.imul(F,Ke),c=c+Math.imul(W,Ze)|0,b=Math.imul(W,Ke),S=S+Math.imul(h,Ye)|0,c=c+Math.imul(h,Qe)|0,c=c+Math.imul(w,Ye)|0,b=b+Math.imul(w,Qe)|0;var ls=(L+S|0)+((c&8191)<<13)|0;L=(b+(c>>>13)|0)+(ls>>>26)|0,ls&=67108863,S=Math.imul(F,Ye),c=Math.imul(F,Qe),c=c+Math.imul(W,Ye)|0,b=Math.imul(W,Qe);var fs=(L+S|0)+((c&8191)<<13)|0;return L=(b+(c>>>13)|0)+(fs>>>26)|0,fs&=67108863,T[0]=vr,T[1]=mr,T[2]=_r,T[3]=wr,T[4]=Sr,T[5]=Er,T[6]=xr,T[7]=Mr,T[8]=Ar,T[9]=Cr,T[10]=kr,T[11]=Ir,T[12]=Rr,T[13]=Tr,T[14]=as,T[15]=us,T[16]=cs,T[17]=ls,T[18]=fs,L!==0&&(T[19]=L,v.length++),v};Math.imul||(B=R);function D(M,u,d){d.negative=u.negative^M.negative,d.length=M.length+u.length;for(var v=0,x=0,A=0;A<d.length-1;A++){var T=x;x=0;for(var L=v&67108863,S=Math.min(A,u.length-1),c=Math.max(0,A-M.length+1);c<=S;c++){var b=A-c,$=M.words[b]|0,K=u.words[c]|0,k=$*K,O=k&67108863;T=T+(k/67108864|0)|0,O=O+L|0,L=O&67108863,T=T+(O>>>26)|0,x+=T>>>26,T&=67108863}d.words[A]=L,v=T,T=x}return v!==0?d.words[A]=v:d.length--,d._strip()}function G(M,u,d){return D(M,u,d)}o.prototype.mulTo=function(u,d){var v,x=this.length+u.length;return this.length===10&&u.length===10?v=B(this,u,d):x<63?v=R(this,u,d):x<1024?v=D(this,u,d):v=G(this,u,d),v},o.prototype.mul=function(u){var d=new o(null);return d.words=new Array(this.length+u.length),this.mulTo(u,d)},o.prototype.mulf=function(u){var d=new o(null);return d.words=new Array(this.length+u.length),G(this,u,d)},o.prototype.imul=function(u){return this.clone().mulTo(u,this)},o.prototype.imuln=function(u){var d=u<0;d&&(u=-u),n(typeof u=="number"),n(u<67108864);for(var v=0,x=0;x<this.length;x++){var A=(this.words[x]|0)*u,T=(A&67108863)+(v&67108863);v>>=26,v+=A/67108864|0,v+=T>>>26,this.words[x]=T&67108863}return v!==0&&(this.words[x]=v,this.length++),d?this.ineg():this},o.prototype.muln=function(u){return this.clone().imuln(u)},o.prototype.sqr=function(){return this.mul(this)},o.prototype.isqr=function(){return this.imul(this.clone())},o.prototype.pow=function(u){var d=U(u);if(d.length===0)return new o(1);for(var v=this,x=0;x<d.length&&d[x]===0;x++,v=v.sqr());if(++x<d.length)for(var A=v.sqr();x<d.length;x++,A=A.sqr())d[x]!==0&&(v=v.mul(A));return v},o.prototype.iushln=function(u){n(typeof u=="number"&&u>=0);var d=u%26,v=(u-d)/26,x=67108863>>>26-d<<26-d,A;if(d!==0){var T=0;for(A=0;A<this.length;A++){var L=this.words[A]&x,S=(this.words[A]|0)-L<<d;this.words[A]=S|T,T=L>>>26-d}T&&(this.words[A]=T,this.length++)}if(v!==0){for(A=this.length-1;A>=0;A--)this.words[A+v]=this.words[A];for(A=0;A<v;A++)this.words[A]=0;this.length+=v}return this._strip()},o.prototype.ishln=function(u){return n(this.negative===0),this.iushln(u)},o.prototype.iushrn=function(u,d,v){n(typeof u=="number"&&u>=0);var x;d?x=(d-d%26)/26:x=0;var A=u%26,T=Math.min((u-A)/26,this.length),L=67108863^67108863>>>A<<A,S=v;if(x-=T,x=Math.max(0,x),S){for(var c=0;c<T;c++)S.words[c]=this.words[c];S.length=T}if(T!==0)if(this.length>T)for(this.length-=T,c=0;c<this.length;c++)this.words[c]=this.words[c+T];else this.words[0]=0,this.length=1;var b=0;for(c=this.length-1;c>=0&&(b!==0||c>=x);c--){var $=this.words[c]|0;this.words[c]=b<<26-A|$>>>A,b=$&L}return S&&b!==0&&(S.words[S.length++]=b),this.length===0&&(this.words[0]=0,this.length=1),this._strip()},o.prototype.ishrn=function(u,d,v){return n(this.negative===0),this.iushrn(u,d,v)},o.prototype.shln=function(u){return this.clone().ishln(u)},o.prototype.ushln=function(u){return this.clone().iushln(u)},o.prototype.shrn=function(u){return this.clone().ishrn(u)},o.prototype.ushrn=function(u){return this.clone().iushrn(u)},o.prototype.testn=function(u){n(typeof u=="number"&&u>=0);var d=u%26,v=(u-d)/26,x=1<<d;if(this.length<=v)return!1;var A=this.words[v];return!!(A&x)},o.prototype.imaskn=function(u){n(typeof u=="number"&&u>=0);var d=u%26,v=(u-d)/26;if(n(this.negative===0,"imaskn works only with positive numbers"),this.length<=v)return this;if(d!==0&&v++,this.length=Math.min(v,this.length),d!==0){var x=67108863^67108863>>>d<<d;this.words[this.length-1]&=x}return this._strip()},o.prototype.maskn=function(u){return this.clone().imaskn(u)},o.prototype.iaddn=function(u){return n(typeof u=="number"),n(u<67108864),u<0?this.isubn(-u):this.negative!==0?this.length===1&&(this.words[0]|0)<=u?(this.words[0]=u-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(u),this.negative=1,this):this._iaddn(u)},o.prototype._iaddn=function(u){this.words[0]+=u;for(var d=0;d<this.length&&this.words[d]>=67108864;d++)this.words[d]-=67108864,d===this.length-1?this.words[d+1]=1:this.words[d+1]++;return this.length=Math.max(this.length,d+1),this},o.prototype.isubn=function(u){if(n(typeof u=="number"),n(u<67108864),u<0)return this.iaddn(-u);if(this.negative!==0)return this.negative=0,this.iaddn(u),this.negative=1,this;if(this.words[0]-=u,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var d=0;d<this.length&&this.words[d]<0;d++)this.words[d]+=67108864,this.words[d+1]-=1;return this._strip()},o.prototype.addn=function(u){return this.clone().iaddn(u)},o.prototype.subn=function(u){return this.clone().isubn(u)},o.prototype.iabs=function(){return this.negative=0,this},o.prototype.abs=function(){return this.clone().iabs()},o.prototype._ishlnsubmul=function(u,d,v){var x=u.length+v,A;this._expand(x);var T,L=0;for(A=0;A<u.length;A++){T=(this.words[A+v]|0)+L;var S=(u.words[A]|0)*d;T-=S&67108863,L=(T>>26)-(S/67108864|0),this.words[A+v]=T&67108863}for(;A<this.length-v;A++)T=(this.words[A+v]|0)+L,L=T>>26,this.words[A+v]=T&67108863;if(L===0)return this._strip();for(n(L===-1),L=0,A=0;A<this.length;A++)T=-(this.words[A]|0)+L,L=T>>26,this.words[A]=T&67108863;return this.negative=1,this._strip()},o.prototype._wordDiv=function(u,d){var v=this.length-u.length,x=this.clone(),A=u,T=A.words[A.length-1]|0,L=this._countBits(T);v=26-L,v!==0&&(A=A.ushln(v),x.iushln(v),T=A.words[A.length-1]|0);var S=x.length-A.length,c;if(d!=="mod"){c=new o(null),c.length=S+1,c.words=new Array(c.length);for(var b=0;b<c.length;b++)c.words[b]=0}var $=x.clone()._ishlnsubmul(A,1,S);$.negative===0&&(x=$,c&&(c.words[S]=1));for(var K=S-1;K>=0;K--){var k=(x.words[A.length+K]|0)*67108864+(x.words[A.length+K-1]|0);for(k=Math.min(k/T|0,67108863),x._ishlnsubmul(A,k,K);x.negative!==0;)k--,x.negative=0,x._ishlnsubmul(A,1,K),x.isZero()||(x.negative^=1);c&&(c.words[K]=k)}return c&&c._strip(),x._strip(),d!=="div"&&v!==0&&x.iushrn(v),{div:c||null,mod:x}},o.prototype.divmod=function(u,d,v){if(n(!u.isZero()),this.isZero())return{div:new o(0),mod:new o(0)};var x,A,T;return this.negative!==0&&u.negative===0?(T=this.neg().divmod(u,d),d!=="mod"&&(x=T.div.neg()),d!=="div"&&(A=T.mod.neg(),v&&A.negative!==0&&A.iadd(u)),{div:x,mod:A}):this.negative===0&&u.negative!==0?(T=this.divmod(u.neg(),d),d!=="mod"&&(x=T.div.neg()),{div:x,mod:T.mod}):(this.negative&u.negative)!==0?(T=this.neg().divmod(u.neg(),d),d!=="div"&&(A=T.mod.neg(),v&&A.negative!==0&&A.isub(u)),{div:T.div,mod:A}):u.length>this.length||this.cmp(u)<0?{div:new o(0),mod:this}:u.length===1?d==="div"?{div:this.divn(u.words[0]),mod:null}:d==="mod"?{div:null,mod:new o(this.modrn(u.words[0]))}:{div:this.divn(u.words[0]),mod:new o(this.modrn(u.words[0]))}:this._wordDiv(u,d)},o.prototype.div=function(u){return this.divmod(u,"div",!1).div},o.prototype.mod=function(u){return this.divmod(u,"mod",!1).mod},o.prototype.umod=function(u){return this.divmod(u,"mod",!0).mod},o.prototype.divRound=function(u){var d=this.divmod(u);if(d.mod.isZero())return d.div;var v=d.div.negative!==0?d.mod.isub(u):d.mod,x=u.ushrn(1),A=u.andln(1),T=v.cmp(x);return T<0||A===1&&T===0?d.div:d.div.negative!==0?d.div.isubn(1):d.div.iaddn(1)},o.prototype.modrn=function(u){var d=u<0;d&&(u=-u),n(u<=67108863);for(var v=(1<<26)%u,x=0,A=this.length-1;A>=0;A--)x=(v*x+(this.words[A]|0))%u;return d?-x:x},o.prototype.modn=function(u){return this.modrn(u)},o.prototype.idivn=function(u){var d=u<0;d&&(u=-u),n(u<=67108863);for(var v=0,x=this.length-1;x>=0;x--){var A=(this.words[x]|0)+v*67108864;this.words[x]=A/u|0,v=A%u}return this._strip(),d?this.ineg():this},o.prototype.divn=function(u){return this.clone().idivn(u)},o.prototype.egcd=function(u){n(u.negative===0),n(!u.isZero());var d=this,v=u.clone();d.negative!==0?d=d.umod(u):d=d.clone();for(var x=new o(1),A=new o(0),T=new o(0),L=new o(1),S=0;d.isEven()&&v.isEven();)d.iushrn(1),v.iushrn(1),++S;for(var c=v.clone(),b=d.clone();!d.isZero();){for(var $=0,K=1;(d.words[0]&K)===0&&$<26;++$,K<<=1);if($>0)for(d.iushrn($);$-- >0;)(x.isOdd()||A.isOdd())&&(x.iadd(c),A.isub(b)),x.iushrn(1),A.iushrn(1);for(var k=0,O=1;(v.words[0]&O)===0&&k<26;++k,O<<=1);if(k>0)for(v.iushrn(k);k-- >0;)(T.isOdd()||L.isOdd())&&(T.iadd(c),L.isub(b)),T.iushrn(1),L.iushrn(1);d.cmp(v)>=0?(d.isub(v),x.isub(T),A.isub(L)):(v.isub(d),T.isub(x),L.isub(A))}return{a:T,b:L,gcd:v.iushln(S)}},o.prototype._invmp=function(u){n(u.negative===0),n(!u.isZero());var d=this,v=u.clone();d.negative!==0?d=d.umod(u):d=d.clone();for(var x=new o(1),A=new o(0),T=v.clone();d.cmpn(1)>0&&v.cmpn(1)>0;){for(var L=0,S=1;(d.words[0]&S)===0&&L<26;++L,S<<=1);if(L>0)for(d.iushrn(L);L-- >0;)x.isOdd()&&x.iadd(T),x.iushrn(1);for(var c=0,b=1;(v.words[0]&b)===0&&c<26;++c,b<<=1);if(c>0)for(v.iushrn(c);c-- >0;)A.isOdd()&&A.iadd(T),A.iushrn(1);d.cmp(v)>=0?(d.isub(v),x.isub(A)):(v.isub(d),A.isub(x))}var $;return d.cmpn(1)===0?$=x:$=A,$.cmpn(0)<0&&$.iadd(u),$},o.prototype.gcd=function(u){if(this.isZero())return u.abs();if(u.isZero())return this.abs();var d=this.clone(),v=u.clone();d.negative=0,v.negative=0;for(var x=0;d.isEven()&&v.isEven();x++)d.iushrn(1),v.iushrn(1);do{for(;d.isEven();)d.iushrn(1);for(;v.isEven();)v.iushrn(1);var A=d.cmp(v);if(A<0){var T=d;d=v,v=T}else if(A===0||v.cmpn(1)===0)break;d.isub(v)}while(!0);return v.iushln(x)},o.prototype.invm=function(u){return this.egcd(u).a.umod(u)},o.prototype.isEven=function(){return(this.words[0]&1)===0},o.prototype.isOdd=function(){return(this.words[0]&1)===1},o.prototype.andln=function(u){return this.words[0]&u},o.prototype.bincn=function(u){n(typeof u=="number");var d=u%26,v=(u-d)/26,x=1<<d;if(this.length<=v)return this._expand(v+1),this.words[v]|=x,this;for(var A=x,T=v;A!==0&&T<this.length;T++){var L=this.words[T]|0;L+=A,A=L>>>26,L&=67108863,this.words[T]=L}return A!==0&&(this.words[T]=A,this.length++),this},o.prototype.isZero=function(){return this.length===1&&this.words[0]===0},o.prototype.cmpn=function(u){var d=u<0;if(this.negative!==0&&!d)return-1;if(this.negative===0&&d)return 1;this._strip();var v;if(this.length>1)v=1;else{d&&(u=-u),n(u<=67108863,"Number is too big");var x=this.words[0]|0;v=x===u?0:x<u?-1:1}return this.negative!==0?-v|0:v},o.prototype.cmp=function(u){if(this.negative!==0&&u.negative===0)return-1;if(this.negative===0&&u.negative!==0)return 1;var d=this.ucmp(u);return this.negative!==0?-d|0:d},o.prototype.ucmp=function(u){if(this.length>u.length)return 1;if(this.length<u.length)return-1;for(var d=0,v=this.length-1;v>=0;v--){var x=this.words[v]|0,A=u.words[v]|0;if(x!==A){x<A?d=-1:x>A&&(d=1);break}}return d},o.prototype.gtn=function(u){return this.cmpn(u)===1},o.prototype.gt=function(u){return this.cmp(u)===1},o.prototype.gten=function(u){return this.cmpn(u)>=0},o.prototype.gte=function(u){return this.cmp(u)>=0},o.prototype.ltn=function(u){return this.cmpn(u)===-1},o.prototype.lt=function(u){return this.cmp(u)===-1},o.prototype.lten=function(u){return this.cmpn(u)<=0},o.prototype.lte=function(u){return this.cmp(u)<=0},o.prototype.eqn=function(u){return this.cmpn(u)===0},o.prototype.eq=function(u){return this.cmp(u)===0},o.red=function(u){return new oe(u)},o.prototype.toRed=function(u){return n(!this.red,"Already a number in reduction context"),n(this.negative===0,"red works only with positives"),u.convertTo(this)._forceRed(u)},o.prototype.fromRed=function(){return n(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},o.prototype._forceRed=function(u){return this.red=u,this},o.prototype.forceRed=function(u){return n(!this.red,"Already a number in reduction context"),this._forceRed(u)},o.prototype.redAdd=function(u){return n(this.red,"redAdd works only with red numbers"),this.red.add(this,u)},o.prototype.redIAdd=function(u){return n(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,u)},o.prototype.redSub=function(u){return n(this.red,"redSub works only with red numbers"),this.red.sub(this,u)},o.prototype.redISub=function(u){return n(this.red,"redISub works only with red numbers"),this.red.isub(this,u)},o.prototype.redShl=function(u){return n(this.red,"redShl works only with red numbers"),this.red.shl(this,u)},o.prototype.redMul=function(u){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,u),this.red.mul(this,u)},o.prototype.redIMul=function(u){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,u),this.red.imul(this,u)},o.prototype.redSqr=function(){return n(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},o.prototype.redISqr=function(){return n(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},o.prototype.redSqrt=function(){return n(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},o.prototype.redInvm=function(){return n(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},o.prototype.redNeg=function(){return n(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},o.prototype.redPow=function(u){return n(this.red&&!u.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,u)};var Q={k256:null,p224:null,p192:null,p25519:null};function J(M,u){this.name=M,this.p=new o(u,16),this.n=this.p.bitLength(),this.k=new o(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}J.prototype._tmp=function(){var u=new o(null);return u.words=new Array(Math.ceil(this.n/13)),u},J.prototype.ireduce=function(u){var d=u,v;do this.split(d,this.tmp),d=this.imulK(d),d=d.iadd(this.tmp),v=d.bitLength();while(v>this.n);var x=v<this.n?-1:d.ucmp(this.p);return x===0?(d.words[0]=0,d.length=1):x>0?d.isub(this.p):d.strip!==void 0?d.strip():d._strip(),d},J.prototype.split=function(u,d){u.iushrn(this.n,0,d)},J.prototype.imulK=function(u){return u.imul(this.k)};function te(){J.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}i(te,J),te.prototype.split=function(u,d){for(var v=4194303,x=Math.min(u.length,9),A=0;A<x;A++)d.words[A]=u.words[A];if(d.length=x,u.length<=9){u.words[0]=0,u.length=1;return}var T=u.words[9];for(d.words[d.length++]=T&v,A=10;A<u.length;A++){var L=u.words[A]|0;u.words[A-10]=(L&v)<<4|T>>>22,T=L}T>>>=22,u.words[A-10]=T,T===0&&u.length>10?u.length-=10:u.length-=9},te.prototype.imulK=function(u){u.words[u.length]=0,u.words[u.length+1]=0,u.length+=2;for(var d=0,v=0;v<u.length;v++){var x=u.words[v]|0;d+=x*977,u.words[v]=d&67108863,d=x*64+(d/67108864|0)}return u.words[u.length-1]===0&&(u.length--,u.words[u.length-1]===0&&u.length--),u};function re(){J.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}i(re,J);function ee(){J.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}i(ee,J);function ye(){J.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}i(ye,J),ye.prototype.imulK=function(u){for(var d=0,v=0;v<u.length;v++){var x=(u.words[v]|0)*19+d,A=x&67108863;x>>>=26,u.words[v]=A,d=x}return d!==0&&(u.words[u.length++]=d),u},o._prime=function(u){if(Q[u])return Q[u];var d;if(u==="k256")d=new te;else if(u==="p224")d=new re;else if(u==="p192")d=new ee;else if(u==="p25519")d=new ye;else throw new Error("Unknown prime "+u);return Q[u]=d,d};function oe(M){if(typeof M=="string"){var u=o._prime(M);this.m=u.p,this.prime=u}else n(M.gtn(1),"modulus must be greater than 1"),this.m=M,this.prime=null}oe.prototype._verify1=function(u){n(u.negative===0,"red works only with positives"),n(u.red,"red works only with red numbers")},oe.prototype._verify2=function(u,d){n((u.negative|d.negative)===0,"red works only with positives"),n(u.red&&u.red===d.red,"red works only with red numbers")},oe.prototype.imod=function(u){return this.prime?this.prime.ireduce(u)._forceRed(this):(g(u,u.umod(this.m)._forceRed(this)),u)},oe.prototype.neg=function(u){return u.isZero()?u.clone():this.m.sub(u)._forceRed(this)},oe.prototype.add=function(u,d){this._verify2(u,d);var v=u.add(d);return v.cmp(this.m)>=0&&v.isub(this.m),v._forceRed(this)},oe.prototype.iadd=function(u,d){this._verify2(u,d);var v=u.iadd(d);return v.cmp(this.m)>=0&&v.isub(this.m),v},oe.prototype.sub=function(u,d){this._verify2(u,d);var v=u.sub(d);return v.cmpn(0)<0&&v.iadd(this.m),v._forceRed(this)},oe.prototype.isub=function(u,d){this._verify2(u,d);var v=u.isub(d);return v.cmpn(0)<0&&v.iadd(this.m),v},oe.prototype.shl=function(u,d){return this._verify1(u),this.imod(u.ushln(d))},oe.prototype.imul=function(u,d){return this._verify2(u,d),this.imod(u.imul(d))},oe.prototype.mul=function(u,d){return this._verify2(u,d),this.imod(u.mul(d))},oe.prototype.isqr=function(u){return this.imul(u,u.clone())},oe.prototype.sqr=function(u){return this.mul(u,u)},oe.prototype.sqrt=function(u){if(u.isZero())return u.clone();var d=this.m.andln(3);if(n(d%2===1),d===3){var v=this.m.add(new o(1)).iushrn(2);return this.pow(u,v)}for(var x=this.m.subn(1),A=0;!x.isZero()&&x.andln(1)===0;)A++,x.iushrn(1);n(!x.isZero());var T=new o(1).toRed(this),L=T.redNeg(),S=this.m.subn(1).iushrn(1),c=this.m.bitLength();for(c=new o(2*c*c).toRed(this);this.pow(c,S).cmp(L)!==0;)c.redIAdd(L);for(var b=this.pow(c,x),$=this.pow(u,x.addn(1).iushrn(1)),K=this.pow(u,x),k=A;K.cmp(T)!==0;){for(var O=K,j=0;O.cmp(T)!==0;j++)O=O.redSqr();n(j<k);var z=this.pow(b,new o(1).iushln(k-j-1));$=$.redMul(z),b=z.redSqr(),K=K.redMul(b),k=j}return $},oe.prototype.invm=function(u){var d=u._invmp(this.m);return d.negative!==0?(d.negative=0,this.imod(d).redNeg()):this.imod(d)},oe.prototype.pow=function(u,d){if(d.isZero())return new o(1).toRed(this);if(d.cmpn(1)===0)return u.clone();var v=4,x=new Array(1<<v);x[0]=new o(1).toRed(this),x[1]=u;for(var A=2;A<x.length;A++)x[A]=this.mul(x[A-1],u);var T=x[0],L=0,S=0,c=d.bitLength()%26;for(c===0&&(c=26),A=d.length-1;A>=0;A--){for(var b=d.words[A],$=c-1;$>=0;$--){var K=b>>$&1;if(T!==x[0]&&(T=this.sqr(T)),K===0&&L===0){S=0;continue}L<<=1,L|=K,S++,!(S!==v&&(A!==0||$!==0))&&(T=this.mul(T,x[L]),S=0,L=0)}c=26}return T},oe.prototype.convertTo=function(u){var d=u.umod(this.m);return d===u?d.clone():d},oe.prototype.convertFrom=function(u){var d=u.clone();return d.red=null,d},o.mont=function(u){return new ae(u)};function ae(M){oe.call(this,M),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new o(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}i(ae,oe),ae.prototype.convertTo=function(u){return this.imod(u.ushln(this.shift))},ae.prototype.convertFrom=function(u){var d=this.imod(u.mul(this.rinv));return d.red=null,d},ae.prototype.imul=function(u,d){if(u.isZero()||d.isZero())return u.words[0]=0,u.length=1,u;var v=u.imul(d),x=v.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),A=v.isub(x).iushrn(this.shift),T=A;return A.cmp(this.m)>=0?T=A.isub(this.m):A.cmpn(0)<0&&(T=A.iadd(this.m)),T._forceRed(this)},ae.prototype.mul=function(u,d){if(u.isZero()||d.isZero())return new o(0)._forceRed(this);var v=u.mul(d),x=v.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),A=v.isub(x).iushrn(this.shift),T=A;return A.cmp(this.m)>=0?T=A.isub(this.m):A.cmpn(0)<0&&(T=A.iadd(this.m)),T._forceRed(this)},ae.prototype.invm=function(u){var d=this.imod(u._invmp(this.m).mul(this.r2));return d._forceRed(this)}})(t,_e)})(di);var mo={},lr={},nl=ai;ai.default=ai;ai.stable=sl;ai.stableStringify=sl;var Ji="[...]",il="[Circular]",$r=[],Lr=[];function ol(){return{depthLimit:Number.MAX_SAFE_INTEGER,edgesLimit:Number.MAX_SAFE_INTEGER}}function ai(t,e,r,n){typeof n>"u"&&(n=ol()),Xs(t,"",0,[],void 0,0,n);var i;try{Lr.length===0?i=JSON.stringify(t,e,r):i=JSON.stringify(t,al(e),r)}catch{return JSON.stringify("[unable to serialize, circular reference is too complex to analyze]")}finally{for(;$r.length!==0;){var o=$r.pop();o.length===4?Object.defineProperty(o[0],o[1],o[3]):o[0][o[1]]=o[2]}}return i}function fn(t,e,r,n){var i=Object.getOwnPropertyDescriptor(n,r);i.get!==void 0?i.configurable?(Object.defineProperty(n,r,{value:t}),$r.push([n,r,e,i])):Lr.push([e,r,t]):(n[r]=t,$r.push([n,r,e]))}function Xs(t,e,r,n,i,o,s){o+=1;var a;if(typeof t=="object"&&t!==null){for(a=0;a<n.length;a++)if(n[a]===t){fn(il,t,e,i);return}if(typeof s.depthLimit<"u"&&o>s.depthLimit){fn(Ji,t,e,i);return}if(typeof s.edgesLimit<"u"&&r+1>s.edgesLimit){fn(Ji,t,e,i);return}if(n.push(t),Array.isArray(t))for(a=0;a<t.length;a++)Xs(t[a],a,a,n,t,o,s);else{var f=Object.keys(t);for(a=0;a<f.length;a++){var p=f[a];Xs(t[p],p,a,n,t,o,s)}}n.pop()}}function pd(t,e){return t<e?-1:t>e?1:0}function sl(t,e,r,n){typeof n>"u"&&(n=ol());var i=ea(t,"",0,[],void 0,0,n)||t,o;try{Lr.length===0?o=JSON.stringify(i,e,r):o=JSON.stringify(i,al(e),r)}catch{return JSON.stringify("[unable to serialize, circular reference is too complex to analyze]")}finally{for(;$r.length!==0;){var s=$r.pop();s.length===4?Object.defineProperty(s[0],s[1],s[3]):s[0][s[1]]=s[2]}}return o}function ea(t,e,r,n,i,o,s){o+=1;var a;if(typeof t=="object"&&t!==null){for(a=0;a<n.length;a++)if(n[a]===t){fn(il,t,e,i);return}try{if(typeof t.toJSON=="function")return}catch{return}if(typeof s.depthLimit<"u"&&o>s.depthLimit){fn(Ji,t,e,i);return}if(typeof s.edgesLimit<"u"&&r+1>s.edgesLimit){fn(Ji,t,e,i);return}if(n.push(t),Array.isArray(t))for(a=0;a<t.length;a++)ea(t[a],a,a,n,t,o,s);else{var f={},p=Object.keys(t).sort(pd);for(a=0;a<p.length;a++){var g=p[a];ea(t[g],g,a,n,t,o,s),f[g]=t[g]}if(typeof i<"u")$r.push([i,e,t]),i[e]=f;else return f}n.pop()}}function al(t){return t=typeof t<"u"?t:function(e,r){return r},function(e,r){if(Lr.length>0)for(var n=0;n<Lr.length;n++){var i=Lr[n];if(i[1]===e&&i[0]===r){r=i[2],Lr.splice(n,1);break}}return t.call(this,e,r)}}Object.defineProperty(lr,"__esModule",{value:!0});lr.EthereumProviderError=lr.EthereumRpcError=void 0;const gd=nl;class ul extends Error{constructor(e,r,n){if(!Number.isInteger(e))throw new Error('"code" must be an integer.');if(!r||typeof r!="string")throw new Error('"message" must be a nonempty string.');super(r),this.code=e,n!==void 0&&(this.data=n)}serialize(){const e={code:this.code,message:this.message};return this.data!==void 0&&(e.data=this.data),this.stack&&(e.stack=this.stack),e}toString(){return gd.default(this.serialize(),vd,2)}}lr.EthereumRpcError=ul;class yd extends ul{constructor(e,r,n){if(!bd(e))throw new Error('"code" must be an integer such that: 1000 <= code <= 4999');super(e,r,n)}}lr.EthereumProviderError=yd;function bd(t){return Number.isInteger(t)&&t>=1e3&&t<=4999}function vd(t,e){if(e!=="[Circular]")return e}var Ea={},fr={};Object.defineProperty(fr,"__esModule",{value:!0});fr.errorValues=fr.errorCodes=void 0;fr.errorCodes={rpc:{invalidInput:-32e3,resourceNotFound:-32001,resourceUnavailable:-32002,transactionRejected:-32003,methodNotSupported:-32004,limitExceeded:-32005,parse:-32700,invalidRequest:-32600,methodNotFound:-32601,invalidParams:-32602,internal:-32603},provider:{userRejectedRequest:4001,unauthorized:4100,unsupportedMethod:4200,disconnected:4900,chainDisconnected:4901}};fr.errorValues={"-32700":{standard:"JSON RPC 2.0",message:"Invalid JSON was received by the server. An error occurred on the server while parsing the JSON text."},"-32600":{standard:"JSON RPC 2.0",message:"The JSON sent is not a valid Request object."},"-32601":{standard:"JSON RPC 2.0",message:"The method does not exist / is not available."},"-32602":{standard:"JSON RPC 2.0",message:"Invalid method parameter(s)."},"-32603":{standard:"JSON RPC 2.0",message:"Internal JSON-RPC error."},"-32000":{standard:"EIP-1474",message:"Invalid input."},"-32001":{standard:"EIP-1474",message:"Resource not found."},"-32002":{standard:"EIP-1474",message:"Resource unavailable."},"-32003":{standard:"EIP-1474",message:"Transaction rejected."},"-32004":{standard:"EIP-1474",message:"Method not supported."},"-32005":{standard:"EIP-1474",message:"Request limit exceeded."},4001:{standard:"EIP-1193",message:"User rejected the request."},4100:{standard:"EIP-1193",message:"The requested account and/or method has not been authorized by the user."},4200:{standard:"EIP-1193",message:"The requested method is not supported by this Ethereum provider."},4900:{standard:"EIP-1193",message:"The provider is disconnected from all chains."},4901:{standard:"EIP-1193",message:"The provider is disconnected from the specified chain."}};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.serializeError=t.isValidCode=t.getMessageFromCode=t.JSON_RPC_SERVER_ERROR_MESSAGE=void 0;const e=fr,r=lr,n=e.errorCodes.rpc.internal,i="Unspecified error message. This is a bug, please report it.",o={code:n,message:s(n)};t.JSON_RPC_SERVER_ERROR_MESSAGE="Unspecified server error.";function s(m,C=i){if(Number.isInteger(m)){const N=m.toString();if(I(e.errorValues,N))return e.errorValues[N].message;if(p(m))return t.JSON_RPC_SERVER_ERROR_MESSAGE}return C}t.getMessageFromCode=s;function a(m){if(!Number.isInteger(m))return!1;const C=m.toString();return!!(e.errorValues[C]||p(m))}t.isValidCode=a;function f(m,{fallbackError:C=o,shouldIncludeStack:N=!1}={}){var H,U;if(!C||!Number.isInteger(C.code)||typeof C.message!="string")throw new Error("Must provide fallback error with integer number code and string message.");if(m instanceof r.EthereumRpcError)return m.serialize();const R={};if(m&&typeof m=="object"&&!Array.isArray(m)&&I(m,"code")&&a(m.code)){const D=m;R.code=D.code,D.message&&typeof D.message=="string"?(R.message=D.message,I(D,"data")&&(R.data=D.data)):(R.message=s(R.code),R.data={originalError:g(m)})}else{R.code=C.code;const D=(H=m)===null||H===void 0?void 0:H.message;R.message=D&&typeof D=="string"?D:C.message,R.data={originalError:g(m)}}const B=(U=m)===null||U===void 0?void 0:U.stack;return N&&m&&B&&typeof B=="string"&&(R.stack=B),R}t.serializeError=f;function p(m){return m>=-32099&&m<=-32e3}function g(m){return m&&typeof m=="object"&&!Array.isArray(m)?Object.assign({},m):m}function I(m,C){return Object.prototype.hasOwnProperty.call(m,C)}})(Ea);var _o={};Object.defineProperty(_o,"__esModule",{value:!0});_o.ethErrors=void 0;const xa=lr,cl=Ea,gt=fr;_o.ethErrors={rpc:{parse:t=>Ct(gt.errorCodes.rpc.parse,t),invalidRequest:t=>Ct(gt.errorCodes.rpc.invalidRequest,t),invalidParams:t=>Ct(gt.errorCodes.rpc.invalidParams,t),methodNotFound:t=>Ct(gt.errorCodes.rpc.methodNotFound,t),internal:t=>Ct(gt.errorCodes.rpc.internal,t),server:t=>{if(!t||typeof t!="object"||Array.isArray(t))throw new Error("Ethereum RPC Server errors must provide single object argument.");const{code:e}=t;if(!Number.isInteger(e)||e>-32005||e<-32099)throw new Error('"code" must be an integer such that: -32099 <= code <= -32005');return Ct(e,t)},invalidInput:t=>Ct(gt.errorCodes.rpc.invalidInput,t),resourceNotFound:t=>Ct(gt.errorCodes.rpc.resourceNotFound,t),resourceUnavailable:t=>Ct(gt.errorCodes.rpc.resourceUnavailable,t),transactionRejected:t=>Ct(gt.errorCodes.rpc.transactionRejected,t),methodNotSupported:t=>Ct(gt.errorCodes.rpc.methodNotSupported,t),limitExceeded:t=>Ct(gt.errorCodes.rpc.limitExceeded,t)},provider:{userRejectedRequest:t=>Vn(gt.errorCodes.provider.userRejectedRequest,t),unauthorized:t=>Vn(gt.errorCodes.provider.unauthorized,t),unsupportedMethod:t=>Vn(gt.errorCodes.provider.unsupportedMethod,t),disconnected:t=>Vn(gt.errorCodes.provider.disconnected,t),chainDisconnected:t=>Vn(gt.errorCodes.provider.chainDisconnected,t),custom:t=>{if(!t||typeof t!="object"||Array.isArray(t))throw new Error("Ethereum Provider custom errors must provide single object argument.");const{code:e,message:r,data:n}=t;if(!r||typeof r!="string")throw new Error('"message" must be a nonempty string');return new xa.EthereumProviderError(e,r,n)}}};function Ct(t,e){const[r,n]=ll(e);return new xa.EthereumRpcError(t,r||cl.getMessageFromCode(t),n)}function Vn(t,e){const[r,n]=ll(e);return new xa.EthereumProviderError(t,r||cl.getMessageFromCode(t),n)}function ll(t){if(t){if(typeof t=="string")return[t];if(typeof t=="object"&&!Array.isArray(t)){const{message:e,data:r}=t;if(e&&typeof e!="string")throw new Error("Must specify string message.");return[e||void 0,r]}}return[]}(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.getMessageFromCode=t.serializeError=t.EthereumProviderError=t.EthereumRpcError=t.ethErrors=t.errorCodes=void 0;const e=lr;Object.defineProperty(t,"EthereumRpcError",{enumerable:!0,get:function(){return e.EthereumRpcError}}),Object.defineProperty(t,"EthereumProviderError",{enumerable:!0,get:function(){return e.EthereumProviderError}});const r=Ea;Object.defineProperty(t,"serializeError",{enumerable:!0,get:function(){return r.serializeError}}),Object.defineProperty(t,"getMessageFromCode",{enumerable:!0,get:function(){return r.getMessageFromCode}});const n=_o;Object.defineProperty(t,"ethErrors",{enumerable:!0,get:function(){return n.ethErrors}});const i=fr;Object.defineProperty(t,"errorCodes",{enumerable:!0,get:function(){return i.errorCodes}})})(mo);var On={};Object.defineProperty(On,"__esModule",{value:!0});On.EVENTS=void 0;On.EVENTS={STARTED_CONNECTING:"walletlink_sdk.started.connecting",CONNECTED_STATE_CHANGE:"walletlink_sdk.connected",DISCONNECTED:"walletlink_sdk.disconnected",METADATA_DESTROYED:"walletlink_sdk_metadata_destroyed",LINKED:"walletlink_sdk.linked",FAILURE:"walletlink_sdk.generic_failure",SESSION_CONFIG_RECEIVED:"walletlink_sdk.session_config_event_received",ETH_ACCOUNTS_STATE:"walletlink_sdk.eth_accounts_state",SESSION_STATE_CHANGE:"walletlink_sdk.session_state_change",UNLINKED_ERROR_STATE:"walletlink_sdk.unlinked_error_state",SKIPPED_CLEARING_SESSION:"walletlink_sdk.skipped_clearing_session",GENERAL_ERROR:"walletlink_sdk.general_error",WEB3_REQUEST:"walletlink_sdk.web3.request",WEB3_REQUEST_PUBLISHED:"walletlink_sdk.web3.request_published",WEB3_RESPONSE:"walletlink_sdk.web3.response",UNKNOWN_ADDRESS_ENCOUNTERED:"walletlink_sdk.unknown_address_encountered"};var Nn={};/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var ta=function(t,e){return ta=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)n.hasOwnProperty(i)&&(r[i]=n[i])},ta(t,e)};function Z(t,e){ta(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}function bn(t){return typeof t=="function"}var bu=!1,Rt={Promise:void 0,set useDeprecatedSynchronousErrorHandling(t){if(t){var e=new Error;""+e.stack}bu=t},get useDeprecatedSynchronousErrorHandling(){return bu}};function un(t){setTimeout(function(){throw t},0)}var Xi={closed:!0,next:function(t){},error:function(t){if(Rt.useDeprecatedSynchronousErrorHandling)throw t;un(t)},complete:function(){}},St=function(){return Array.isArray||function(t){return t&&typeof t.length=="number"}}();function Ma(t){return t!==null&&typeof t=="object"}var md=function(){function t(e){return Error.call(this),this.message=e?e.length+` errors occurred during unsubscription:
`+e.map(function(r,n){return n+1+") "+r.toString()}).join(`
  `):"",this.name="UnsubscriptionError",this.errors=e,this}return t.prototype=Object.create(Error.prototype),t}(),Qn=md,tt=function(){function t(e){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,e&&(this._ctorUnsubscribe=!0,this._unsubscribe=e)}return t.prototype.unsubscribe=function(){var e;if(!this.closed){var r=this,n=r._parentOrParents,i=r._ctorUnsubscribe,o=r._unsubscribe,s=r._subscriptions;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,n instanceof t)n.remove(this);else if(n!==null)for(var a=0;a<n.length;++a){var f=n[a];f.remove(this)}if(bn(o)){i&&(this._unsubscribe=void 0);try{o.call(this)}catch(I){e=I instanceof Qn?vu(I.errors):[I]}}if(St(s))for(var a=-1,p=s.length;++a<p;){var g=s[a];if(Ma(g))try{g.unsubscribe()}catch(m){e=e||[],m instanceof Qn?e=e.concat(vu(m.errors)):e.push(m)}}if(e)throw new Qn(e)}},t.prototype.add=function(e){var r=e;if(!e)return t.EMPTY;switch(typeof e){case"function":r=new t(e);case"object":if(r===this||r.closed||typeof r.unsubscribe!="function")return r;if(this.closed)return r.unsubscribe(),r;if(!(r instanceof t)){var n=r;r=new t,r._subscriptions=[n]}break;default:throw new Error("unrecognized teardown "+e+" added to Subscription.")}var i=r._parentOrParents;if(i===null)r._parentOrParents=this;else if(i instanceof t){if(i===this)return r;r._parentOrParents=[i,this]}else if(i.indexOf(this)===-1)i.push(this);else return r;var o=this._subscriptions;return o===null?this._subscriptions=[r]:o.push(r),r},t.prototype.remove=function(e){var r=this._subscriptions;if(r){var n=r.indexOf(e);n!==-1&&r.splice(n,1)}},t.EMPTY=function(e){return e.closed=!0,e}(new t),t}();function vu(t){return t.reduce(function(e,r){return e.concat(r instanceof Qn?r.errors:r)},[])}var eo=function(){return typeof Symbol=="function"?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random()}(),se=function(t){Z(e,t);function e(r,n,i){var o=t.call(this)||this;switch(o.syncErrorValue=null,o.syncErrorThrown=!1,o.syncErrorThrowable=!1,o.isStopped=!1,arguments.length){case 0:o.destination=Xi;break;case 1:if(!r){o.destination=Xi;break}if(typeof r=="object"){r instanceof e?(o.syncErrorThrowable=r.syncErrorThrowable,o.destination=r,r.add(o)):(o.syncErrorThrowable=!0,o.destination=new mu(o,r));break}default:o.syncErrorThrowable=!0,o.destination=new mu(o,r,n,i);break}return o}return e.prototype[eo]=function(){return this},e.create=function(r,n,i){var o=new e(r,n,i);return o.syncErrorThrowable=!1,o},e.prototype.next=function(r){this.isStopped||this._next(r)},e.prototype.error=function(r){this.isStopped||(this.isStopped=!0,this._error(r))},e.prototype.complete=function(){this.isStopped||(this.isStopped=!0,this._complete())},e.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,t.prototype.unsubscribe.call(this))},e.prototype._next=function(r){this.destination.next(r)},e.prototype._error=function(r){this.destination.error(r),this.unsubscribe()},e.prototype._complete=function(){this.destination.complete(),this.unsubscribe()},e.prototype._unsubscribeAndRecycle=function(){var r=this._parentOrParents;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=r,this},e}(tt),mu=function(t){Z(e,t);function e(r,n,i,o){var s=t.call(this)||this;s._parentSubscriber=r;var a,f=s;return bn(n)?a=n:n&&(a=n.next,i=n.error,o=n.complete,n!==Xi&&(f=Object.create(n),bn(f.unsubscribe)&&s.add(f.unsubscribe.bind(f)),f.unsubscribe=s.unsubscribe.bind(s))),s._context=f,s._next=a,s._error=i,s._complete=o,s}return e.prototype.next=function(r){if(!this.isStopped&&this._next){var n=this._parentSubscriber;!Rt.useDeprecatedSynchronousErrorHandling||!n.syncErrorThrowable?this.__tryOrUnsub(this._next,r):this.__tryOrSetError(n,this._next,r)&&this.unsubscribe()}},e.prototype.error=function(r){if(!this.isStopped){var n=this._parentSubscriber,i=Rt.useDeprecatedSynchronousErrorHandling;if(this._error)!i||!n.syncErrorThrowable?(this.__tryOrUnsub(this._error,r),this.unsubscribe()):(this.__tryOrSetError(n,this._error,r),this.unsubscribe());else if(n.syncErrorThrowable)i?(n.syncErrorValue=r,n.syncErrorThrown=!0):un(r),this.unsubscribe();else{if(this.unsubscribe(),i)throw r;un(r)}}},e.prototype.complete=function(){var r=this;if(!this.isStopped){var n=this._parentSubscriber;if(this._complete){var i=function(){return r._complete.call(r._context)};!Rt.useDeprecatedSynchronousErrorHandling||!n.syncErrorThrowable?(this.__tryOrUnsub(i),this.unsubscribe()):(this.__tryOrSetError(n,i),this.unsubscribe())}else this.unsubscribe()}},e.prototype.__tryOrUnsub=function(r,n){try{r.call(this._context,n)}catch(i){if(this.unsubscribe(),Rt.useDeprecatedSynchronousErrorHandling)throw i;un(i)}},e.prototype.__tryOrSetError=function(r,n,i){if(!Rt.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{n.call(this._context,i)}catch(o){return Rt.useDeprecatedSynchronousErrorHandling?(r.syncErrorValue=o,r.syncErrorThrown=!0,!0):(un(o),!0)}return!1},e.prototype._unsubscribe=function(){var r=this._parentSubscriber;this._context=null,this._parentSubscriber=null,r.unsubscribe()},e}(se);function Aa(t){for(;t;){var e=t,r=e.closed,n=e.destination,i=e.isStopped;if(r||i)return!1;n&&n instanceof se?t=n:t=null}return!0}function _d(t,e,r){if(t){if(t instanceof se)return t;if(t[eo])return t[eo]()}return!t&&!e&&!r?new se(Xi):new se(t,e,r)}var Bn=function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}();function hr(t){return t}function ra(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return fl(t)}function fl(t){return t.length===0?hr:t.length===1?t[0]:function(r){return t.reduce(function(n,i){return i(n)},r)}}var me=function(){function t(e){this._isScalar=!1,e&&(this._subscribe=e)}return t.prototype.lift=function(e){var r=new t;return r.source=this,r.operator=e,r},t.prototype.subscribe=function(e,r,n){var i=this.operator,o=_d(e,r,n);if(i?o.add(i.call(o,this.source)):o.add(this.source||Rt.useDeprecatedSynchronousErrorHandling&&!o.syncErrorThrowable?this._subscribe(o):this._trySubscribe(o)),Rt.useDeprecatedSynchronousErrorHandling&&o.syncErrorThrowable&&(o.syncErrorThrowable=!1,o.syncErrorThrown))throw o.syncErrorValue;return o},t.prototype._trySubscribe=function(e){try{return this._subscribe(e)}catch(r){Rt.useDeprecatedSynchronousErrorHandling&&(e.syncErrorThrown=!0,e.syncErrorValue=r),Aa(e)?e.error(r):console.warn(r)}},t.prototype.forEach=function(e,r){var n=this;return r=_u(r),new r(function(i,o){var s;s=n.subscribe(function(a){try{e(a)}catch(f){o(f),s&&s.unsubscribe()}},o,i)})},t.prototype._subscribe=function(e){var r=this.source;return r&&r.subscribe(e)},t.prototype[Bn]=function(){return this},t.prototype.pipe=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];return e.length===0?this:fl(e)(this)},t.prototype.toPromise=function(e){var r=this;return e=_u(e),new e(function(n,i){var o;r.subscribe(function(s){return o=s},function(s){return i(s)},function(){return n(o)})})},t.create=function(e){return new t(e)},t}();function _u(t){if(t||(t=Rt.Promise||Promise),!t)throw new Error("no Promise impl found");return t}var wd=function(){function t(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return t.prototype=Object.create(Error.prototype),t}(),sr=wd,hl=function(t){Z(e,t);function e(r,n){var i=t.call(this)||this;return i.subject=r,i.subscriber=n,i.closed=!1,i}return e.prototype.unsubscribe=function(){if(!this.closed){this.closed=!0;var r=this.subject,n=r.observers;if(this.subject=null,!(!n||n.length===0||r.isStopped||r.closed)){var i=n.indexOf(this.subscriber);i!==-1&&n.splice(i,1)}}},e}(tt),dl=function(t){Z(e,t);function e(r){var n=t.call(this,r)||this;return n.destination=r,n}return e}(se),ft=function(t){Z(e,t);function e(){var r=t.call(this)||this;return r.observers=[],r.closed=!1,r.isStopped=!1,r.hasError=!1,r.thrownError=null,r}return e.prototype[eo]=function(){return new dl(this)},e.prototype.lift=function(r){var n=new wu(this,this);return n.operator=r,n},e.prototype.next=function(r){if(this.closed)throw new sr;if(!this.isStopped)for(var n=this.observers,i=n.length,o=n.slice(),s=0;s<i;s++)o[s].next(r)},e.prototype.error=function(r){if(this.closed)throw new sr;this.hasError=!0,this.thrownError=r,this.isStopped=!0;for(var n=this.observers,i=n.length,o=n.slice(),s=0;s<i;s++)o[s].error(r);this.observers.length=0},e.prototype.complete=function(){if(this.closed)throw new sr;this.isStopped=!0;for(var r=this.observers,n=r.length,i=r.slice(),o=0;o<n;o++)i[o].complete();this.observers.length=0},e.prototype.unsubscribe=function(){this.isStopped=!0,this.closed=!0,this.observers=null},e.prototype._trySubscribe=function(r){if(this.closed)throw new sr;return t.prototype._trySubscribe.call(this,r)},e.prototype._subscribe=function(r){if(this.closed)throw new sr;return this.hasError?(r.error(this.thrownError),tt.EMPTY):this.isStopped?(r.complete(),tt.EMPTY):(this.observers.push(r),new hl(this,r))},e.prototype.asObservable=function(){var r=new me;return r.source=this,r},e.create=function(r,n){return new wu(r,n)},e}(me),wu=function(t){Z(e,t);function e(r,n){var i=t.call(this)||this;return i.destination=r,i.source=n,i}return e.prototype.next=function(r){var n=this.destination;n&&n.next&&n.next(r)},e.prototype.error=function(r){var n=this.destination;n&&n.error&&this.destination.error(r)},e.prototype.complete=function(){var r=this.destination;r&&r.complete&&this.destination.complete()},e.prototype._subscribe=function(r){var n=this.source;return n?this.source.subscribe(r):tt.EMPTY},e}(ft);function Ca(){return function(e){return e.lift(new Sd(e))}}var Sd=function(){function t(e){this.connectable=e}return t.prototype.call=function(e,r){var n=this.connectable;n._refCount++;var i=new Ed(e,n),o=r.subscribe(i);return i.closed||(i.connection=n.connect()),o},t}(),Ed=function(t){Z(e,t);function e(r,n){var i=t.call(this,r)||this;return i.connectable=n,i}return e.prototype._unsubscribe=function(){var r=this.connectable;if(!r){this.connection=null;return}this.connectable=null;var n=r._refCount;if(n<=0){this.connection=null;return}if(r._refCount=n-1,n>1){this.connection=null;return}var i=this.connection,o=r._connection;this.connection=null,o&&(!i||o===i)&&o.unsubscribe()},e}(se),pl=function(t){Z(e,t);function e(r,n){var i=t.call(this)||this;return i.source=r,i.subjectFactory=n,i._refCount=0,i._isComplete=!1,i}return e.prototype._subscribe=function(r){return this.getSubject().subscribe(r)},e.prototype.getSubject=function(){var r=this._subject;return(!r||r.isStopped)&&(this._subject=this.subjectFactory()),this._subject},e.prototype.connect=function(){var r=this._connection;return r||(this._isComplete=!1,r=this._connection=new tt,r.add(this.source.subscribe(new Md(this.getSubject(),this))),r.closed&&(this._connection=null,r=tt.EMPTY)),r},e.prototype.refCount=function(){return Ca()(this)},e}(me),xd=function(){var t=pl.prototype;return{operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:t._subscribe},_isComplete:{value:t._isComplete,writable:!0},getSubject:{value:t.getSubject},connect:{value:t.connect},refCount:{value:t.refCount}}}(),Md=function(t){Z(e,t);function e(r,n){var i=t.call(this,r)||this;return i.connectable=n,i}return e.prototype._error=function(r){this._unsubscribe(),t.prototype._error.call(this,r)},e.prototype._complete=function(){this.connectable._isComplete=!0,this._unsubscribe(),t.prototype._complete.call(this)},e.prototype._unsubscribe=function(){var r=this.connectable;if(r){this.connectable=null;var n=r._connection;r._refCount=0,r._subject=null,r._connection=null,n&&n.unsubscribe()}},e}(dl);function Ad(t,e,r,n){return function(i){return i.lift(new Cd(t,e,r,n))}}var Cd=function(){function t(e,r,n,i){this.keySelector=e,this.elementSelector=r,this.durationSelector=n,this.subjectSelector=i}return t.prototype.call=function(e,r){return r.subscribe(new kd(e,this.keySelector,this.elementSelector,this.durationSelector,this.subjectSelector))},t}(),kd=function(t){Z(e,t);function e(r,n,i,o,s){var a=t.call(this,r)||this;return a.keySelector=n,a.elementSelector=i,a.durationSelector=o,a.subjectSelector=s,a.groups=null,a.attemptedToUnsubscribe=!1,a.count=0,a}return e.prototype._next=function(r){var n;try{n=this.keySelector(r)}catch(i){this.error(i);return}this._group(r,n)},e.prototype._group=function(r,n){var i=this.groups;i||(i=this.groups=new Map);var o=i.get(n),s;if(this.elementSelector)try{s=this.elementSelector(r)}catch(p){this.error(p)}else s=r;if(!o){o=this.subjectSelector?this.subjectSelector():new ft,i.set(n,o);var a=new na(n,o,this);if(this.destination.next(a),this.durationSelector){var f=void 0;try{f=this.durationSelector(new na(n,o))}catch(p){this.error(p);return}this.add(f.subscribe(new Id(n,o,this)))}}o.closed||o.next(s)},e.prototype._error=function(r){var n=this.groups;n&&(n.forEach(function(i,o){i.error(r)}),n.clear()),this.destination.error(r)},e.prototype._complete=function(){var r=this.groups;r&&(r.forEach(function(n,i){n.complete()}),r.clear()),this.destination.complete()},e.prototype.removeGroup=function(r){this.groups.delete(r)},e.prototype.unsubscribe=function(){this.closed||(this.attemptedToUnsubscribe=!0,this.count===0&&t.prototype.unsubscribe.call(this))},e}(se),Id=function(t){Z(e,t);function e(r,n,i){var o=t.call(this,n)||this;return o.key=r,o.group=n,o.parent=i,o}return e.prototype._next=function(r){this.complete()},e.prototype._unsubscribe=function(){var r=this,n=r.parent,i=r.key;this.key=this.parent=null,n&&n.removeGroup(i)},e}(se),na=function(t){Z(e,t);function e(r,n,i){var o=t.call(this)||this;return o.key=r,o.groupSubject=n,o.refCountSubscription=i,o}return e.prototype._subscribe=function(r){var n=new tt,i=this,o=i.refCountSubscription,s=i.groupSubject;return o&&!o.closed&&n.add(new Rd(o)),n.add(s.subscribe(r)),n},e}(me),Rd=function(t){Z(e,t);function e(r){var n=t.call(this)||this;return n.parent=r,r.count++,n}return e.prototype.unsubscribe=function(){var r=this.parent;!r.closed&&!this.closed&&(t.prototype.unsubscribe.call(this),r.count-=1,r.count===0&&r.attemptedToUnsubscribe&&r.unsubscribe())},e}(tt),gl=function(t){Z(e,t);function e(r){var n=t.call(this)||this;return n._value=r,n}return Object.defineProperty(e.prototype,"value",{get:function(){return this.getValue()},enumerable:!0,configurable:!0}),e.prototype._subscribe=function(r){var n=t.prototype._subscribe.call(this,r);return n&&!n.closed&&r.next(this._value),n},e.prototype.getValue=function(){if(this.hasError)throw this.thrownError;if(this.closed)throw new sr;return this._value},e.prototype.next=function(r){t.prototype.next.call(this,this._value=r)},e}(ft),Td=function(t){Z(e,t);function e(r,n){return t.call(this)||this}return e.prototype.schedule=function(r,n){return this},e}(tt),pi=function(t){Z(e,t);function e(r,n){var i=t.call(this,r,n)||this;return i.scheduler=r,i.work=n,i.pending=!1,i}return e.prototype.schedule=function(r,n){if(n===void 0&&(n=0),this.closed)return this;this.state=r;var i=this.id,o=this.scheduler;return i!=null&&(this.id=this.recycleAsyncId(o,i,n)),this.pending=!0,this.delay=n,this.id=this.id||this.requestAsyncId(o,this.id,n),this},e.prototype.requestAsyncId=function(r,n,i){return i===void 0&&(i=0),setInterval(r.flush.bind(r,this),i)},e.prototype.recycleAsyncId=function(r,n,i){if(i===void 0&&(i=0),i!==null&&this.delay===i&&this.pending===!1)return n;clearInterval(n)},e.prototype.execute=function(r,n){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;var i=this._execute(r,n);if(i)return i;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))},e.prototype._execute=function(r,n){var i=!1,o=void 0;try{this.work(r)}catch(s){i=!0,o=!!s&&s||new Error(s)}if(i)return this.unsubscribe(),o},e.prototype._unsubscribe=function(){var r=this.id,n=this.scheduler,i=n.actions,o=i.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,o!==-1&&i.splice(o,1),r!=null&&(this.id=this.recycleAsyncId(n,r,null)),this.delay=null},e}(Td),Od=function(t){Z(e,t);function e(r,n){var i=t.call(this,r,n)||this;return i.scheduler=r,i.work=n,i}return e.prototype.schedule=function(r,n){return n===void 0&&(n=0),n>0?t.prototype.schedule.call(this,r,n):(this.delay=n,this.state=r,this.scheduler.flush(this),this)},e.prototype.execute=function(r,n){return n>0||this.closed?t.prototype.execute.call(this,r,n):this._execute(r,n)},e.prototype.requestAsyncId=function(r,n,i){return i===void 0&&(i=0),i!==null&&i>0||i===null&&this.delay>0?t.prototype.requestAsyncId.call(this,r,n,i):r.flush(this)},e}(pi),ia=function(){function t(e,r){r===void 0&&(r=t.now),this.SchedulerAction=e,this.now=r}return t.prototype.schedule=function(e,r,n){return r===void 0&&(r=0),new this.SchedulerAction(this,e).schedule(n,r)},t.now=function(){return Date.now()},t}(),gi=function(t){Z(e,t);function e(r,n){n===void 0&&(n=ia.now);var i=t.call(this,r,function(){return e.delegate&&e.delegate!==i?e.delegate.now():n()})||this;return i.actions=[],i.active=!1,i.scheduled=void 0,i}return e.prototype.schedule=function(r,n,i){return n===void 0&&(n=0),e.delegate&&e.delegate!==this?e.delegate.schedule(r,n,i):t.prototype.schedule.call(this,r,n,i)},e.prototype.flush=function(r){var n=this.actions;if(this.active){n.push(r);return}var i;this.active=!0;do if(i=r.execute(r.state,r.delay))break;while(r=n.shift());if(this.active=!1,i){for(;r=n.shift();)r.unsubscribe();throw i}},e}(ia),Nd=function(t){Z(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e}(gi),yl=new Nd(Od),bl=yl,vn=new me(function(t){return t.complete()});function Pn(t){return t?Bd(t):vn}function Bd(t){return new me(function(e){return t.schedule(function(){return e.complete()})})}function At(t){return t&&typeof t.schedule=="function"}var vl=function(t){return function(e){for(var r=0,n=t.length;r<n&&!e.closed;r++)e.next(t[r]);e.complete()}};function ka(t,e){return new me(function(r){var n=new tt,i=0;return n.add(e.schedule(function(){if(i===t.length){r.complete();return}r.next(t[i++]),r.closed||n.add(this.schedule())})),n})}function yi(t,e){return e?ka(t,e):new me(vl(t))}function wo(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var r=t[t.length-1];return At(r)?(t.pop(),ka(t,r)):yi(t)}function Ia(t,e){return e?new me(function(r){return e.schedule(Pd,0,{error:t,subscriber:r})}):new me(function(r){return r.error(t)})}function Pd(t){var e=t.error,r=t.subscriber;r.error(e)}var oa;oa||(oa={});var Yt=function(){function t(e,r,n){this.kind=e,this.value=r,this.error=n,this.hasValue=e==="N"}return t.prototype.observe=function(e){switch(this.kind){case"N":return e.next&&e.next(this.value);case"E":return e.error&&e.error(this.error);case"C":return e.complete&&e.complete()}},t.prototype.do=function(e,r,n){var i=this.kind;switch(i){case"N":return e&&e(this.value);case"E":return r&&r(this.error);case"C":return n&&n()}},t.prototype.accept=function(e,r,n){return e&&typeof e.next=="function"?this.observe(e):this.do(e,r,n)},t.prototype.toObservable=function(){var e=this.kind;switch(e){case"N":return wo(this.value);case"E":return Ia(this.error);case"C":return Pn()}throw new Error("unexpected notification kind value")},t.createNext=function(e){return typeof e<"u"?new t("N",e):t.undefinedValueNotification},t.createError=function(e){return new t("E",void 0,e)},t.createComplete=function(){return t.completeNotification},t.completeNotification=new t("C"),t.undefinedValueNotification=new t("N",void 0),t}();function Ld(t,e){return e===void 0&&(e=0),function(n){return n.lift(new Dd(t,e))}}var Dd=function(){function t(e,r){r===void 0&&(r=0),this.scheduler=e,this.delay=r}return t.prototype.call=function(e,r){return r.subscribe(new ml(e,this.scheduler,this.delay))},t}(),ml=function(t){Z(e,t);function e(r,n,i){i===void 0&&(i=0);var o=t.call(this,r)||this;return o.scheduler=n,o.delay=i,o}return e.dispatch=function(r){var n=r.notification,i=r.destination;n.observe(i),this.unsubscribe()},e.prototype.scheduleMessage=function(r){var n=this.destination;n.add(this.scheduler.schedule(e.dispatch,this.delay,new Fd(r,this.destination)))},e.prototype._next=function(r){this.scheduleMessage(Yt.createNext(r))},e.prototype._error=function(r){this.scheduleMessage(Yt.createError(r)),this.unsubscribe()},e.prototype._complete=function(){this.scheduleMessage(Yt.createComplete()),this.unsubscribe()},e}(se),Fd=function(){function t(e,r){this.notification=e,this.destination=r}return t}(),Ra=function(t){Z(e,t);function e(r,n,i){r===void 0&&(r=Number.POSITIVE_INFINITY),n===void 0&&(n=Number.POSITIVE_INFINITY);var o=t.call(this)||this;return o.scheduler=i,o._events=[],o._infiniteTimeWindow=!1,o._bufferSize=r<1?1:r,o._windowTime=n<1?1:n,n===Number.POSITIVE_INFINITY?(o._infiniteTimeWindow=!0,o.next=o.nextInfiniteTimeWindow):o.next=o.nextTimeWindow,o}return e.prototype.nextInfiniteTimeWindow=function(r){if(!this.isStopped){var n=this._events;n.push(r),n.length>this._bufferSize&&n.shift()}t.prototype.next.call(this,r)},e.prototype.nextTimeWindow=function(r){this.isStopped||(this._events.push(new jd(this._getNow(),r)),this._trimBufferThenGetEvents()),t.prototype.next.call(this,r)},e.prototype._subscribe=function(r){var n=this._infiniteTimeWindow,i=n?this._events:this._trimBufferThenGetEvents(),o=this.scheduler,s=i.length,a;if(this.closed)throw new sr;if(this.isStopped||this.hasError?a=tt.EMPTY:(this.observers.push(r),a=new hl(this,r)),o&&r.add(r=new ml(r,o)),n)for(var f=0;f<s&&!r.closed;f++)r.next(i[f]);else for(var f=0;f<s&&!r.closed;f++)r.next(i[f].value);return this.hasError?r.error(this.thrownError):this.isStopped&&r.complete(),a},e.prototype._getNow=function(){return(this.scheduler||bl).now()},e.prototype._trimBufferThenGetEvents=function(){for(var r=this._getNow(),n=this._bufferSize,i=this._windowTime,o=this._events,s=o.length,a=0;a<s&&!(r-o[a].time<i);)a++;return s>n&&(a=Math.max(a,s-n)),a>0&&o.splice(0,a),o},e}(ft),jd=function(){function t(e,r){this.time=e,this.value=r}return t}(),Ln=function(t){Z(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.value=null,r.hasNext=!1,r.hasCompleted=!1,r}return e.prototype._subscribe=function(r){return this.hasError?(r.error(this.thrownError),tt.EMPTY):this.hasCompleted&&this.hasNext?(r.next(this.value),r.complete(),tt.EMPTY):t.prototype._subscribe.call(this,r)},e.prototype.next=function(r){this.hasCompleted||(this.value=r,this.hasNext=!0)},e.prototype.error=function(r){this.hasCompleted||t.prototype.error.call(this,r)},e.prototype.complete=function(){this.hasCompleted=!0,this.hasNext&&t.prototype.next.call(this,this.value),t.prototype.complete.call(this)},e}(ft),$d=1,Ud=function(){return Promise.resolve()}(),sa={};function Su(t){return t in sa?(delete sa[t],!0):!1}var Eu={setImmediate:function(t){var e=$d++;return sa[e]=!0,Ud.then(function(){return Su(e)&&t()}),e},clearImmediate:function(t){Su(t)}},Wd=function(t){Z(e,t);function e(r,n){var i=t.call(this,r,n)||this;return i.scheduler=r,i.work=n,i}return e.prototype.requestAsyncId=function(r,n,i){return i===void 0&&(i=0),i!==null&&i>0?t.prototype.requestAsyncId.call(this,r,n,i):(r.actions.push(this),r.scheduled||(r.scheduled=Eu.setImmediate(r.flush.bind(r,null))))},e.prototype.recycleAsyncId=function(r,n,i){if(i===void 0&&(i=0),i!==null&&i>0||i===null&&this.delay>0)return t.prototype.recycleAsyncId.call(this,r,n,i);r.actions.length===0&&(Eu.clearImmediate(n),r.scheduled=void 0)},e}(pi),Hd=function(t){Z(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.flush=function(r){this.active=!0,this.scheduled=void 0;var n=this.actions,i,o=-1,s=n.length;r=r||n.shift();do if(i=r.execute(r.state,r.delay))break;while(++o<s&&(r=n.shift()));if(this.active=!1,i){for(;++o<s&&(r=n.shift());)r.unsubscribe();throw i}},e}(gi),_l=new Hd(Wd),zi=_l,wl=new gi(pi),Et=wl,Vd=function(t){Z(e,t);function e(r,n){var i=t.call(this,r,n)||this;return i.scheduler=r,i.work=n,i}return e.prototype.requestAsyncId=function(r,n,i){return i===void 0&&(i=0),i!==null&&i>0?t.prototype.requestAsyncId.call(this,r,n,i):(r.actions.push(this),r.scheduled||(r.scheduled=requestAnimationFrame(function(){return r.flush(null)})))},e.prototype.recycleAsyncId=function(r,n,i){if(i===void 0&&(i=0),i!==null&&i>0||i===null&&this.delay>0)return t.prototype.recycleAsyncId.call(this,r,n,i);r.actions.length===0&&(cancelAnimationFrame(n),r.scheduled=void 0)},e}(pi),zd=function(t){Z(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.flush=function(r){this.active=!0,this.scheduled=void 0;var n=this.actions,i,o=-1,s=n.length;r=r||n.shift();do if(i=r.execute(r.state,r.delay))break;while(++o<s&&(r=n.shift()));if(this.active=!1,i){for(;++o<s&&(r=n.shift());)r.unsubscribe();throw i}},e}(gi),Sl=new zd(Vd),qd=Sl,Gd=function(t){Z(e,t);function e(r,n){r===void 0&&(r=El),n===void 0&&(n=Number.POSITIVE_INFINITY);var i=t.call(this,r,function(){return i.frame})||this;return i.maxFrames=n,i.frame=0,i.index=-1,i}return e.prototype.flush=function(){for(var r=this,n=r.actions,i=r.maxFrames,o,s;(s=n[0])&&s.delay<=i&&(n.shift(),this.frame=s.delay,!(o=s.execute(s.state,s.delay))););if(o){for(;s=n.shift();)s.unsubscribe();throw o}},e.frameTimeFactor=10,e}(gi),El=function(t){Z(e,t);function e(r,n,i){i===void 0&&(i=r.index+=1);var o=t.call(this,r,n)||this;return o.scheduler=r,o.work=n,o.index=i,o.active=!0,o.index=r.index=i,o}return e.prototype.schedule=function(r,n){if(n===void 0&&(n=0),!this.id)return t.prototype.schedule.call(this,r,n);this.active=!1;var i=new e(this.scheduler,this.work);return this.add(i),i.schedule(r,n)},e.prototype.requestAsyncId=function(r,n,i){i===void 0&&(i=0),this.delay=r.frame+i;var o=r.actions;return o.push(this),o.sort(e.sortActions),!0},e.prototype.recycleAsyncId=function(r,n,i){},e.prototype._execute=function(r,n){if(this.active===!0)return t.prototype._execute.call(this,r,n)},e.sortActions=function(r,n){return r.delay===n.delay?r.index===n.index?0:r.index>n.index?1:-1:r.delay>n.delay?1:-1},e}(pi);function Wt(){}function Zd(t){return!!t&&(t instanceof me||typeof t.lift=="function"&&typeof t.subscribe=="function")}var Kd=function(){function t(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return t.prototype=Object.create(Error.prototype),t}(),mn=Kd,Yd=function(){function t(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}return t.prototype=Object.create(Error.prototype),t}(),bi=Yd,Qd=function(){function t(){return Error.call(this),this.message="Timeout has occurred",this.name="TimeoutError",this}return t.prototype=Object.create(Error.prototype),t}(),xl=Qd;function Bt(t,e){return function(n){if(typeof t!="function")throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return n.lift(new Jd(t,e))}}var Jd=function(){function t(e,r){this.project=e,this.thisArg=r}return t.prototype.call=function(e,r){return r.subscribe(new Xd(e,this.project,this.thisArg))},t}(),Xd=function(t){Z(e,t);function e(r,n,i){var o=t.call(this,r)||this;return o.project=n,o.count=0,o.thisArg=i||o,o}return e.prototype._next=function(r){var n;try{n=this.project.call(this.thisArg,r,this.count++)}catch(i){this.destination.error(i);return}this.destination.next(n)},e}(se);function Ml(t,e,r){if(e)if(At(e))r=e;else return function(){for(var n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];return Ml(t,r).apply(void 0,n).pipe(Bt(function(o){return St(o)?e.apply(void 0,o):e(o)}))};return function(){for(var n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];var o=this,s,a={context:o,subject:s,callbackFunc:t,scheduler:r};return new me(function(f){if(r){var g={args:n,subscriber:f,params:a};return r.schedule(ep,0,g)}else{if(!s){s=new Ln;var p=function(){for(var I=[],m=0;m<arguments.length;m++)I[m]=arguments[m];s.next(I.length<=1?I[0]:I),s.complete()};try{t.apply(o,n.concat([p]))}catch(I){Aa(s)?s.error(I):console.warn(I)}}return s.subscribe(f)}})}}function ep(t){var e=this,r=t.args,n=t.subscriber,i=t.params,o=i.callbackFunc,s=i.context,a=i.scheduler,f=i.subject;if(!f){f=i.subject=new Ln;var p=function(){for(var g=[],I=0;I<arguments.length;I++)g[I]=arguments[I];var m=g.length<=1?g[0]:g;e.add(a.schedule(tp,0,{value:m,subject:f}))};try{o.apply(s,r.concat([p]))}catch(g){f.error(g)}}this.add(f.subscribe(n))}function tp(t){var e=t.value,r=t.subject;r.next(e),r.complete()}function Al(t,e,r){if(e)if(At(e))r=e;else return function(){for(var n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];return Al(t,r).apply(void 0,n).pipe(Bt(function(o){return St(o)?e.apply(void 0,o):e(o)}))};return function(){for(var n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];var o={subject:void 0,args:n,callbackFunc:t,scheduler:r,context:this};return new me(function(s){var a=o.context,f=o.subject;if(r)return r.schedule(rp,0,{params:o,subscriber:s,context:a});if(!f){f=o.subject=new Ln;var p=function(){for(var g=[],I=0;I<arguments.length;I++)g[I]=arguments[I];var m=g.shift();if(m){f.error(m);return}f.next(g.length<=1?g[0]:g),f.complete()};try{t.apply(a,n.concat([p]))}catch(g){Aa(f)?f.error(g):console.warn(g)}}return f.subscribe(s)})}}function rp(t){var e=this,r=t.params,n=t.subscriber,i=t.context,o=r.callbackFunc,s=r.args,a=r.scheduler,f=r.subject;if(!f){f=r.subject=new Ln;var p=function(){for(var g=[],I=0;I<arguments.length;I++)g[I]=arguments[I];var m=g.shift();if(m)e.add(a.schedule(xu,0,{err:m,subject:f}));else{var C=g.length<=1?g[0]:g;e.add(a.schedule(np,0,{value:C,subject:f}))}};try{o.apply(i,s.concat([p]))}catch(g){this.add(a.schedule(xu,0,{err:g,subject:f}))}}this.add(f.subscribe(n))}function np(t){var e=t.value,r=t.subject;r.next(e),r.complete()}function xu(t){var e=t.err,r=t.subject;r.error(e)}var Vr=function(t){Z(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.notifyNext=function(r,n,i,o,s){this.destination.next(n)},e.prototype.notifyError=function(r,n){this.destination.error(r)},e.prototype.notifyComplete=function(r){this.destination.complete()},e}(se),ip=function(t){Z(e,t);function e(r,n,i){var o=t.call(this)||this;return o.parent=r,o.outerValue=n,o.outerIndex=i,o.index=0,o}return e.prototype._next=function(r){this.parent.notifyNext(this.outerValue,r,this.outerIndex,this.index++,this)},e.prototype._error=function(r){this.parent.notifyError(r,this),this.unsubscribe()},e.prototype._complete=function(){this.parent.notifyComplete(this),this.unsubscribe()},e}(se),op=function(t){return function(e){return t.then(function(r){e.closed||(e.next(r),e.complete())},function(r){return e.error(r)}).then(null,un),e}};function sp(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var dr=sp(),ap=function(t){return function(e){var r=t[dr]();do{var n=void 0;try{n=r.next()}catch(i){return e.error(i),e}if(n.done){e.complete();break}if(e.next(n.value),e.closed)break}while(!0);return typeof r.return=="function"&&e.add(function(){r.return&&r.return()}),e}},up=function(t){return function(e){var r=t[Bn]();if(typeof r.subscribe!="function")throw new TypeError("Provided object does not correctly implement Symbol.observable");return r.subscribe(e)}},Cl=function(t){return t&&typeof t.length=="number"&&typeof t!="function"};function kl(t){return!!t&&typeof t.subscribe!="function"&&typeof t.then=="function"}var ui=function(t){if(!!t&&typeof t[Bn]=="function")return up(t);if(Cl(t))return vl(t);if(kl(t))return op(t);if(!!t&&typeof t[dr]=="function")return ap(t);var e=Ma(t)?"an invalid object":"'"+t+"'",r="You provided "+e+" where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.";throw new TypeError(r)};function Qt(t,e,r,n,i){if(i===void 0&&(i=new ip(t,r,n)),!i.closed)return e instanceof me?e.subscribe(i):ui(e)(i)}var Mu={};function cp(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var r=void 0,n=void 0;return At(t[t.length-1])&&(n=t.pop()),typeof t[t.length-1]=="function"&&(r=t.pop()),t.length===1&&St(t[0])&&(t=t[0]),yi(t,n).lift(new Ta(r))}var Ta=function(){function t(e){this.resultSelector=e}return t.prototype.call=function(e,r){return r.subscribe(new lp(e,this.resultSelector))},t}(),lp=function(t){Z(e,t);function e(r,n){var i=t.call(this,r)||this;return i.resultSelector=n,i.active=0,i.values=[],i.observables=[],i}return e.prototype._next=function(r){this.values.push(Mu),this.observables.push(r)},e.prototype._complete=function(){var r=this.observables,n=r.length;if(n===0)this.destination.complete();else{this.active=n,this.toRespond=n;for(var i=0;i<n;i++){var o=r[i];this.add(Qt(this,o,void 0,i))}}},e.prototype.notifyComplete=function(r){(this.active-=1)===0&&this.destination.complete()},e.prototype.notifyNext=function(r,n,i){var o=this.values,s=o[i],a=this.toRespond?s===Mu?--this.toRespond:this.toRespond:0;o[i]=n,a===0&&(this.resultSelector?this._tryResultSelector(o):this.destination.next(o.slice()))},e.prototype._tryResultSelector=function(r){var n;try{n=this.resultSelector.apply(this,r)}catch(i){this.destination.error(i);return}this.destination.next(n)},e}(Vr);function fp(t,e){return new me(function(r){var n=new tt;return n.add(e.schedule(function(){var i=t[Bn]();n.add(i.subscribe({next:function(o){n.add(e.schedule(function(){return r.next(o)}))},error:function(o){n.add(e.schedule(function(){return r.error(o)}))},complete:function(){n.add(e.schedule(function(){return r.complete()}))}}))})),n})}function hp(t,e){return new me(function(r){var n=new tt;return n.add(e.schedule(function(){return t.then(function(i){n.add(e.schedule(function(){r.next(i),n.add(e.schedule(function(){return r.complete()}))}))},function(i){n.add(e.schedule(function(){return r.error(i)}))})})),n})}function dp(t,e){if(!t)throw new Error("Iterable cannot be null");return new me(function(r){var n=new tt,i;return n.add(function(){i&&typeof i.return=="function"&&i.return()}),n.add(e.schedule(function(){i=t[dr](),n.add(e.schedule(function(){if(!r.closed){var o,s;try{var a=i.next();o=a.value,s=a.done}catch(f){r.error(f);return}s?r.complete():(r.next(o),this.schedule())}}))})),n})}function pp(t){return t&&typeof t[Bn]=="function"}function gp(t){return t&&typeof t[dr]=="function"}function Il(t,e){if(t!=null){if(pp(t))return fp(t,e);if(kl(t))return hp(t,e);if(Cl(t))return ka(t,e);if(gp(t)||typeof t=="string")return dp(t,e)}throw new TypeError((t!==null&&typeof t||t)+" is not observable")}function tr(t,e){return e?Il(t,e):t instanceof me?t:new me(ui(t))}var rt=function(t){Z(e,t);function e(r){var n=t.call(this)||this;return n.parent=r,n}return e.prototype._next=function(r){this.parent.notifyNext(r)},e.prototype._error=function(r){this.parent.notifyError(r),this.unsubscribe()},e.prototype._complete=function(){this.parent.notifyComplete(),this.unsubscribe()},e}(se),nt=function(t){Z(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.notifyNext=function(r){this.destination.next(r)},e.prototype.notifyError=function(r){this.destination.error(r)},e.prototype.notifyComplete=function(){this.destination.complete()},e}(se);function it(t,e){if(!e.closed){if(t instanceof me)return t.subscribe(e);var r;try{r=ui(t)(e)}catch(n){e.error(n)}return r}}function Ur(t,e,r){return r===void 0&&(r=Number.POSITIVE_INFINITY),typeof e=="function"?function(n){return n.pipe(Ur(function(i,o){return tr(t(i,o)).pipe(Bt(function(s,a){return e(i,s,o,a)}))},r))}:(typeof e=="number"&&(r=e),function(n){return n.lift(new yp(t,r))})}var yp=function(){function t(e,r){r===void 0&&(r=Number.POSITIVE_INFINITY),this.project=e,this.concurrent=r}return t.prototype.call=function(e,r){return r.subscribe(new bp(e,this.project,this.concurrent))},t}(),bp=function(t){Z(e,t);function e(r,n,i){i===void 0&&(i=Number.POSITIVE_INFINITY);var o=t.call(this,r)||this;return o.project=n,o.concurrent=i,o.hasCompleted=!1,o.buffer=[],o.active=0,o.index=0,o}return e.prototype._next=function(r){this.active<this.concurrent?this._tryNext(r):this.buffer.push(r)},e.prototype._tryNext=function(r){var n,i=this.index++;try{n=this.project(r,i)}catch(o){this.destination.error(o);return}this.active++,this._innerSub(n)},e.prototype._innerSub=function(r){var n=new rt(this),i=this.destination;i.add(n);var o=it(r,n);o!==n&&i.add(o)},e.prototype._complete=function(){this.hasCompleted=!0,this.active===0&&this.buffer.length===0&&this.destination.complete(),this.unsubscribe()},e.prototype.notifyNext=function(r){this.destination.next(r)},e.prototype.notifyComplete=function(){var r=this.buffer;this.active--,r.length>0?this._next(r.shift()):this.active===0&&this.hasCompleted&&this.destination.complete()},e}(nt),vp=Ur;function Oa(t){return t===void 0&&(t=Number.POSITIVE_INFINITY),Ur(hr,t)}function Rl(){return Oa(1)}function ci(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return Rl()(wo.apply(void 0,t))}function Na(t){return new me(function(e){var r;try{r=t()}catch(i){e.error(i);return}var n=r?tr(r):Pn();return n.subscribe(e)})}function mp(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(t.length===1){var r=t[0];if(St(r))return Ni(r,null);if(Ma(r)&&Object.getPrototypeOf(r)===Object.prototype){var n=Object.keys(r);return Ni(n.map(function(o){return r[o]}),n)}}if(typeof t[t.length-1]=="function"){var i=t.pop();return t=t.length===1&&St(t[0])?t[0]:t,Ni(t,null).pipe(Bt(function(o){return i.apply(void 0,o)}))}return Ni(t,null)}function Ni(t,e){return new me(function(r){var n=t.length;if(n===0){r.complete();return}for(var i=new Array(n),o=0,s=0,a=function(p){var g=tr(t[p]),I=!1;r.add(g.subscribe({next:function(m){I||(I=!0,s++),i[p]=m},error:function(m){return r.error(m)},complete:function(){o++,(o===n||!I)&&(s===n&&r.next(e?e.reduce(function(m,C,N){return m[C]=i[N],m},{}):i),r.complete())}}))},f=0;f<n;f++)a(f)})}function Tl(t,e,r,n){return bn(r)&&(n=r,r=void 0),n?Tl(t,e,r).pipe(Bt(function(i){return St(i)?n.apply(void 0,i):n(i)})):new me(function(i){function o(s){arguments.length>1?i.next(Array.prototype.slice.call(arguments)):i.next(s)}Ol(t,e,o,i,r)})}function Ol(t,e,r,n,i){var o;if(Sp(t)){var s=t;t.addEventListener(e,r,i),o=function(){return s.removeEventListener(e,r,i)}}else if(wp(t)){var a=t;t.on(e,r),o=function(){return a.off(e,r)}}else if(_p(t)){var f=t;t.addListener(e,r),o=function(){return f.removeListener(e,r)}}else if(t&&t.length)for(var p=0,g=t.length;p<g;p++)Ol(t[p],e,r,n,i);else throw new TypeError("Invalid event target");n.add(o)}function _p(t){return t&&typeof t.addListener=="function"&&typeof t.removeListener=="function"}function wp(t){return t&&typeof t.on=="function"&&typeof t.off=="function"}function Sp(t){return t&&typeof t.addEventListener=="function"&&typeof t.removeEventListener=="function"}function Nl(t,e,r){return r?Nl(t,e).pipe(Bt(function(n){return St(n)?r.apply(void 0,n):r(n)})):new me(function(n){var i=function(){for(var s=[],a=0;a<arguments.length;a++)s[a]=arguments[a];return n.next(s.length===1?s[0]:s)},o;try{o=t(i)}catch(s){n.error(s);return}if(!!bn(e))return function(){return e(i,o)}})}function Ep(t,e,r,n,i){var o,s;if(arguments.length==1){var a=t;s=a.initialState,e=a.condition,r=a.iterate,o=a.resultSelector||hr,i=a.scheduler}else n===void 0||At(n)?(s=t,o=hr,i=n):(s=t,o=n);return new me(function(f){var p=s;if(i)return i.schedule(xp,0,{subscriber:f,iterate:r,condition:e,resultSelector:o,state:p});do{if(e){var g=void 0;try{g=e(p)}catch(m){f.error(m);return}if(!g){f.complete();break}}var I=void 0;try{I=o(p)}catch(m){f.error(m);return}if(f.next(I),f.closed)break;try{p=r(p)}catch(m){f.error(m);return}}while(!0)})}function xp(t){var e=t.subscriber,r=t.condition;if(!e.closed){if(t.needIterate)try{t.state=t.iterate(t.state)}catch(o){e.error(o);return}else t.needIterate=!0;if(r){var n=void 0;try{n=r(t.state)}catch(o){e.error(o);return}if(!n){e.complete();return}if(e.closed)return}var i;try{i=t.resultSelector(t.state)}catch(o){e.error(o);return}if(!e.closed&&(e.next(i),!e.closed))return this.schedule(t)}}function Mp(t,e,r){return e===void 0&&(e=vn),r===void 0&&(r=vn),Na(function(){return t()?e:r})}function _n(t){return!St(t)&&t-parseFloat(t)+1>=0}function Ap(t,e){return t===void 0&&(t=0),e===void 0&&(e=Et),(!_n(t)||t<0)&&(t=0),(!e||typeof e.schedule!="function")&&(e=Et),new me(function(r){return r.add(e.schedule(Cp,t,{subscriber:r,counter:0,period:t})),r})}function Cp(t){var e=t.subscriber,r=t.counter,n=t.period;e.next(r),this.schedule({subscriber:e,counter:r+1,period:n},n)}function Bl(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var r=Number.POSITIVE_INFINITY,n=null,i=t[t.length-1];return At(i)?(n=t.pop(),t.length>1&&typeof t[t.length-1]=="number"&&(r=t.pop())):typeof i=="number"&&(r=t.pop()),n===null&&t.length===1&&t[0]instanceof me?t[0]:Oa(r)(yi(t,n))}var Pl=new me(Wt);function kp(){return Pl}function aa(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(t.length===0)return vn;var r=t[0],n=t.slice(1);return t.length===1&&St(r)?aa.apply(void 0,r):new me(function(i){var o=function(){return i.add(aa.apply(void 0,n).subscribe(i))};return tr(r).subscribe({next:function(s){i.next(s)},error:o,complete:o})})}function Ip(t,e){return e?new me(function(r){var n=Object.keys(t),i=new tt;return i.add(e.schedule(Rp,0,{keys:n,index:0,subscriber:r,subscription:i,obj:t})),i}):new me(function(r){for(var n=Object.keys(t),i=0;i<n.length&&!r.closed;i++){var o=n[i];t.hasOwnProperty(o)&&r.next([o,t[o]])}r.complete()})}function Rp(t){var e=t.keys,r=t.index,n=t.subscriber,i=t.subscription,o=t.obj;if(!n.closed)if(r<e.length){var s=e[r];n.next([s,o[s]]),i.add(this.schedule({keys:e,index:r+1,subscriber:n,subscription:i,obj:o}))}else n.complete()}function Ll(t,e){function r(){return!r.pred.apply(r.thisArg,arguments)}return r.pred=t,r.thisArg=e,r}function pr(t,e){return function(n){return n.lift(new Tp(t,e))}}var Tp=function(){function t(e,r){this.predicate=e,this.thisArg=r}return t.prototype.call=function(e,r){return r.subscribe(new Op(e,this.predicate,this.thisArg))},t}(),Op=function(t){Z(e,t);function e(r,n,i){var o=t.call(this,r)||this;return o.predicate=n,o.thisArg=i,o.count=0,o}return e.prototype._next=function(r){var n;try{n=this.predicate.call(this.thisArg,r,this.count++)}catch(i){this.destination.error(i);return}n&&this.destination.next(r)},e}(se);function Np(t,e,r){return[pr(e,r)(new me(ui(t))),pr(Ll(e,r))(new me(ui(t)))]}function Dl(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(t.length===1)if(St(t[0]))t=t[0];else return t[0];return yi(t,void 0).lift(new Bp)}var Bp=function(){function t(){}return t.prototype.call=function(e,r){return r.subscribe(new Pp(e))},t}(),Pp=function(t){Z(e,t);function e(r){var n=t.call(this,r)||this;return n.hasFirst=!1,n.observables=[],n.subscriptions=[],n}return e.prototype._next=function(r){this.observables.push(r)},e.prototype._complete=function(){var r=this.observables,n=r.length;if(n===0)this.destination.complete();else{for(var i=0;i<n&&!this.hasFirst;i++){var o=r[i],s=Qt(this,o,void 0,i);this.subscriptions&&this.subscriptions.push(s),this.add(s)}this.observables=null}},e.prototype.notifyNext=function(r,n,i){if(!this.hasFirst){this.hasFirst=!0;for(var o=0;o<this.subscriptions.length;o++)if(o!==i){var s=this.subscriptions[o];s.unsubscribe(),this.remove(s)}this.subscriptions=null}this.destination.next(n)},e}(Vr);function Lp(t,e,r){return t===void 0&&(t=0),new me(function(n){e===void 0&&(e=t,t=0);var i=0,o=t;if(r)return r.schedule(Dp,0,{index:i,count:e,start:t,subscriber:n});do{if(i++>=e){n.complete();break}if(n.next(o++),n.closed)break}while(!0)})}function Dp(t){var e=t.start,r=t.index,n=t.count,i=t.subscriber;if(r>=n){i.complete();return}i.next(e),!i.closed&&(t.index=r+1,t.start=e+1,this.schedule(t))}function Fl(t,e,r){t===void 0&&(t=0);var n=-1;return _n(e)?n=Number(e)<1&&1||Number(e):At(e)&&(r=e),At(r)||(r=Et),new me(function(i){var o=_n(t)?t:+t-r.now();return r.schedule(Fp,o,{index:0,period:n,subscriber:i})})}function Fp(t){var e=t.index,r=t.period,n=t.subscriber;if(n.next(e),!n.closed){if(r===-1)return n.complete();t.index=e+1,this.schedule(t,r)}}function jp(t,e){return new me(function(r){var n;try{n=t()}catch(a){r.error(a);return}var i;try{i=e(n)}catch(a){r.error(a);return}var o=i?tr(i):vn,s=o.subscribe(r);return function(){s.unsubscribe(),n&&n.unsubscribe()}})}function jl(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var r=t[t.length-1];return typeof r=="function"&&t.pop(),yi(t,void 0).lift(new $l(r))}var $l=function(){function t(e){this.resultSelector=e}return t.prototype.call=function(e,r){return r.subscribe(new $p(e,this.resultSelector))},t}(),$p=function(t){Z(e,t);function e(r,n,i){var o=t.call(this,r)||this;return o.resultSelector=n,o.iterators=[],o.active=0,o.resultSelector=typeof n=="function"?n:void 0,o}return e.prototype._next=function(r){var n=this.iterators;St(r)?n.push(new Wp(r)):typeof r[dr]=="function"?n.push(new Up(r[dr]())):n.push(new Hp(this.destination,this,r))},e.prototype._complete=function(){var r=this.iterators,n=r.length;if(this.unsubscribe(),n===0){this.destination.complete();return}this.active=n;for(var i=0;i<n;i++){var o=r[i];if(o.stillUnsubscribed){var s=this.destination;s.add(o.subscribe())}else this.active--}},e.prototype.notifyInactive=function(){this.active--,this.active===0&&this.destination.complete()},e.prototype.checkIterators=function(){for(var r=this.iterators,n=r.length,i=this.destination,o=0;o<n;o++){var s=r[o];if(typeof s.hasValue=="function"&&!s.hasValue())return}for(var a=!1,f=[],o=0;o<n;o++){var s=r[o],p=s.next();if(s.hasCompleted()&&(a=!0),p.done){i.complete();return}f.push(p.value)}this.resultSelector?this._tryresultSelector(f):i.next(f),a&&i.complete()},e.prototype._tryresultSelector=function(r){var n;try{n=this.resultSelector.apply(this,r)}catch(i){this.destination.error(i);return}this.destination.next(n)},e}(se),Up=function(){function t(e){this.iterator=e,this.nextResult=e.next()}return t.prototype.hasValue=function(){return!0},t.prototype.next=function(){var e=this.nextResult;return this.nextResult=this.iterator.next(),e},t.prototype.hasCompleted=function(){var e=this.nextResult;return Boolean(e&&e.done)},t}(),Wp=function(){function t(e){this.array=e,this.index=0,this.length=0,this.length=e.length}return t.prototype[dr]=function(){return this},t.prototype.next=function(e){var r=this.index++,n=this.array;return r<this.length?{value:n[r],done:!1}:{value:null,done:!0}},t.prototype.hasValue=function(){return this.array.length>this.index},t.prototype.hasCompleted=function(){return this.array.length===this.index},t}(),Hp=function(t){Z(e,t);function e(r,n,i){var o=t.call(this,r)||this;return o.parent=n,o.observable=i,o.stillUnsubscribed=!0,o.buffer=[],o.isComplete=!1,o}return e.prototype[dr]=function(){return this},e.prototype.next=function(){var r=this.buffer;return r.length===0&&this.isComplete?{value:null,done:!0}:{value:r.shift(),done:!1}},e.prototype.hasValue=function(){return this.buffer.length>0},e.prototype.hasCompleted=function(){return this.buffer.length===0&&this.isComplete},e.prototype.notifyComplete=function(){this.buffer.length>0?(this.isComplete=!0,this.parent.notifyInactive()):this.destination.complete()},e.prototype.notifyNext=function(r){this.buffer.push(r),this.parent.checkIterators()},e.prototype.subscribe=function(){return it(this.observable,new rt(this))},e}(nt);const Vp=Object.freeze(Object.defineProperty({__proto__:null,Observable:me,ConnectableObservable:pl,GroupedObservable:na,observable:Bn,Subject:ft,BehaviorSubject:gl,ReplaySubject:Ra,AsyncSubject:Ln,asap:zi,asapScheduler:_l,async:Et,asyncScheduler:wl,queue:bl,queueScheduler:yl,animationFrame:qd,animationFrameScheduler:Sl,VirtualTimeScheduler:Gd,VirtualAction:El,Scheduler:ia,Subscription:tt,Subscriber:se,Notification:Yt,get NotificationKind(){return oa},pipe:ra,noop:Wt,identity:hr,isObservable:Zd,ArgumentOutOfRangeError:mn,EmptyError:bi,ObjectUnsubscribedError:sr,UnsubscriptionError:Qn,TimeoutError:xl,bindCallback:Ml,bindNodeCallback:Al,combineLatest:cp,concat:ci,defer:Na,empty:Pn,forkJoin:mp,from:tr,fromEvent:Tl,fromEventPattern:Nl,generate:Ep,iif:Mp,interval:Ap,merge:Bl,never:kp,of:wo,onErrorResumeNext:aa,pairs:Ip,partition:Np,race:Dl,range:Lp,throwError:Ia,timer:Fl,using:jp,zip:jl,scheduled:Il,EMPTY:vn,NEVER:Pl,config:Rt},Symbol.toStringTag,{value:"Module"})),Dn=Rn(Vp);function Ul(t){return function(r){return r.lift(new zp(t))}}var zp=function(){function t(e){this.durationSelector=e}return t.prototype.call=function(e,r){return r.subscribe(new qp(e,this.durationSelector))},t}(),qp=function(t){Z(e,t);function e(r,n){var i=t.call(this,r)||this;return i.durationSelector=n,i.hasValue=!1,i}return e.prototype._next=function(r){if(this.value=r,this.hasValue=!0,!this.throttled){var n=void 0;try{var i=this.durationSelector;n=i(r)}catch(s){return this.destination.error(s)}var o=it(n,new rt(this));!o||o.closed?this.clearThrottle():this.add(this.throttled=o)}},e.prototype.clearThrottle=function(){var r=this,n=r.value,i=r.hasValue,o=r.throttled;o&&(this.remove(o),this.throttled=void 0,o.unsubscribe()),i&&(this.value=void 0,this.hasValue=!1,this.destination.next(n))},e.prototype.notifyNext=function(){this.clearThrottle()},e.prototype.notifyComplete=function(){this.clearThrottle()},e}(nt);function Gp(t,e){return e===void 0&&(e=Et),Ul(function(){return Fl(t,e)})}function Zp(t){return function(r){return r.lift(new Kp(t))}}var Kp=function(){function t(e){this.closingNotifier=e}return t.prototype.call=function(e,r){return r.subscribe(new Yp(e,this.closingNotifier))},t}(),Yp=function(t){Z(e,t);function e(r,n){var i=t.call(this,r)||this;return i.buffer=[],i.add(it(n,new rt(i))),i}return e.prototype._next=function(r){this.buffer.push(r)},e.prototype.notifyNext=function(){var r=this.buffer;this.buffer=[],this.destination.next(r)},e}(nt);function Qp(t,e){return e===void 0&&(e=null),function(n){return n.lift(new Jp(t,e))}}var Jp=function(){function t(e,r){this.bufferSize=e,this.startBufferEvery=r,!r||e===r?this.subscriberClass=Xp:this.subscriberClass=e0}return t.prototype.call=function(e,r){return r.subscribe(new this.subscriberClass(e,this.bufferSize,this.startBufferEvery))},t}(),Xp=function(t){Z(e,t);function e(r,n){var i=t.call(this,r)||this;return i.bufferSize=n,i.buffer=[],i}return e.prototype._next=function(r){var n=this.buffer;n.push(r),n.length==this.bufferSize&&(this.destination.next(n),this.buffer=[])},e.prototype._complete=function(){var r=this.buffer;r.length>0&&this.destination.next(r),t.prototype._complete.call(this)},e}(se),e0=function(t){Z(e,t);function e(r,n,i){var o=t.call(this,r)||this;return o.bufferSize=n,o.startBufferEvery=i,o.buffers=[],o.count=0,o}return e.prototype._next=function(r){var n=this,i=n.bufferSize,o=n.startBufferEvery,s=n.buffers,a=n.count;this.count++,a%o===0&&s.push([]);for(var f=s.length;f--;){var p=s[f];p.push(r),p.length===i&&(s.splice(f,1),this.destination.next(p))}},e.prototype._complete=function(){for(var r=this,n=r.buffers,i=r.destination;n.length>0;){var o=n.shift();o.length>0&&i.next(o)}t.prototype._complete.call(this)},e}(se);function t0(t){var e=arguments.length,r=Et;At(arguments[arguments.length-1])&&(r=arguments[arguments.length-1],e--);var n=null;e>=2&&(n=arguments[1]);var i=Number.POSITIVE_INFINITY;return e>=3&&(i=arguments[2]),function(s){return s.lift(new r0(t,n,i,r))}}var r0=function(){function t(e,r,n,i){this.bufferTimeSpan=e,this.bufferCreationInterval=r,this.maxBufferSize=n,this.scheduler=i}return t.prototype.call=function(e,r){return r.subscribe(new i0(e,this.bufferTimeSpan,this.bufferCreationInterval,this.maxBufferSize,this.scheduler))},t}(),n0=function(){function t(){this.buffer=[]}return t}(),i0=function(t){Z(e,t);function e(r,n,i,o,s){var a=t.call(this,r)||this;a.bufferTimeSpan=n,a.bufferCreationInterval=i,a.maxBufferSize=o,a.scheduler=s,a.contexts=[];var f=a.openContext();if(a.timespanOnly=i==null||i<0,a.timespanOnly){var p={subscriber:a,context:f,bufferTimeSpan:n};a.add(f.closeAction=s.schedule(Au,n,p))}else{var g={subscriber:a,context:f},I={bufferTimeSpan:n,bufferCreationInterval:i,subscriber:a,scheduler:s};a.add(f.closeAction=s.schedule(Wl,n,g)),a.add(s.schedule(o0,i,I))}return a}return e.prototype._next=function(r){for(var n=this.contexts,i=n.length,o,s=0;s<i;s++){var a=n[s],f=a.buffer;f.push(r),f.length==this.maxBufferSize&&(o=a)}o&&this.onBufferFull(o)},e.prototype._error=function(r){this.contexts.length=0,t.prototype._error.call(this,r)},e.prototype._complete=function(){for(var r=this,n=r.contexts,i=r.destination;n.length>0;){var o=n.shift();i.next(o.buffer)}t.prototype._complete.call(this)},e.prototype._unsubscribe=function(){this.contexts=null},e.prototype.onBufferFull=function(r){this.closeContext(r);var n=r.closeAction;if(n.unsubscribe(),this.remove(n),!this.closed&&this.timespanOnly){r=this.openContext();var i=this.bufferTimeSpan,o={subscriber:this,context:r,bufferTimeSpan:i};this.add(r.closeAction=this.scheduler.schedule(Au,i,o))}},e.prototype.openContext=function(){var r=new n0;return this.contexts.push(r),r},e.prototype.closeContext=function(r){this.destination.next(r.buffer);var n=this.contexts,i=n?n.indexOf(r):-1;i>=0&&n.splice(n.indexOf(r),1)},e}(se);function Au(t){var e=t.subscriber,r=t.context;r&&e.closeContext(r),e.closed||(t.context=e.openContext(),t.context.closeAction=this.schedule(t,t.bufferTimeSpan))}function o0(t){var e=t.bufferCreationInterval,r=t.bufferTimeSpan,n=t.subscriber,i=t.scheduler,o=n.openContext(),s=this;n.closed||(n.add(o.closeAction=i.schedule(Wl,r,{subscriber:n,context:o})),s.schedule(t,e))}function Wl(t){var e=t.subscriber,r=t.context;e.closeContext(r)}function s0(t,e){return function(n){return n.lift(new a0(t,e))}}var a0=function(){function t(e,r){this.openings=e,this.closingSelector=r}return t.prototype.call=function(e,r){return r.subscribe(new u0(e,this.openings,this.closingSelector))},t}(),u0=function(t){Z(e,t);function e(r,n,i){var o=t.call(this,r)||this;return o.closingSelector=i,o.contexts=[],o.add(Qt(o,n)),o}return e.prototype._next=function(r){for(var n=this.contexts,i=n.length,o=0;o<i;o++)n[o].buffer.push(r)},e.prototype._error=function(r){for(var n=this.contexts;n.length>0;){var i=n.shift();i.subscription.unsubscribe(),i.buffer=null,i.subscription=null}this.contexts=null,t.prototype._error.call(this,r)},e.prototype._complete=function(){for(var r=this.contexts;r.length>0;){var n=r.shift();this.destination.next(n.buffer),n.subscription.unsubscribe(),n.buffer=null,n.subscription=null}this.contexts=null,t.prototype._complete.call(this)},e.prototype.notifyNext=function(r,n){r?this.closeBuffer(r):this.openBuffer(n)},e.prototype.notifyComplete=function(r){this.closeBuffer(r.context)},e.prototype.openBuffer=function(r){try{var n=this.closingSelector,i=n.call(this,r);i&&this.trySubscribe(i)}catch(o){this._error(o)}},e.prototype.closeBuffer=function(r){var n=this.contexts;if(n&&r){var i=r.buffer,o=r.subscription;this.destination.next(i),n.splice(n.indexOf(r),1),this.remove(o),o.unsubscribe()}},e.prototype.trySubscribe=function(r){var n=this.contexts,i=[],o=new tt,s={buffer:i,subscription:o};n.push(s);var a=Qt(this,r,s);!a||a.closed?this.closeBuffer(s):(a.context=s,this.add(a),o.add(a))},e}(Vr);function c0(t){return function(e){return e.lift(new l0(t))}}var l0=function(){function t(e){this.closingSelector=e}return t.prototype.call=function(e,r){return r.subscribe(new f0(e,this.closingSelector))},t}(),f0=function(t){Z(e,t);function e(r,n){var i=t.call(this,r)||this;return i.closingSelector=n,i.subscribing=!1,i.openBuffer(),i}return e.prototype._next=function(r){this.buffer.push(r)},e.prototype._complete=function(){var r=this.buffer;r&&this.destination.next(r),t.prototype._complete.call(this)},e.prototype._unsubscribe=function(){this.buffer=void 0,this.subscribing=!1},e.prototype.notifyNext=function(){this.openBuffer()},e.prototype.notifyComplete=function(){this.subscribing?this.complete():this.openBuffer()},e.prototype.openBuffer=function(){var r=this.closingSubscription;r&&(this.remove(r),r.unsubscribe());var n=this.buffer;this.buffer&&this.destination.next(n),this.buffer=[];var i;try{var o=this.closingSelector;i=o()}catch(s){return this.error(s)}r=new tt,this.closingSubscription=r,this.add(r),this.subscribing=!0,r.add(it(i,new rt(this))),this.subscribing=!1},e}(nt);function h0(t){return function(r){var n=new d0(t),i=r.lift(n);return n.caught=i}}var d0=function(){function t(e){this.selector=e}return t.prototype.call=function(e,r){return r.subscribe(new p0(e,this.selector,this.caught))},t}(),p0=function(t){Z(e,t);function e(r,n,i){var o=t.call(this,r)||this;return o.selector=n,o.caught=i,o}return e.prototype.error=function(r){if(!this.isStopped){var n=void 0;try{n=this.selector(r,this.caught)}catch(s){t.prototype.error.call(this,s);return}this._unsubscribeAndRecycle();var i=new rt(this);this.add(i);var o=it(n,i);o!==i&&this.add(o)}},e}(nt);function g0(t){return function(e){return e.lift(new Ta(t))}}function y0(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var r=null;return typeof t[t.length-1]=="function"&&(r=t.pop()),t.length===1&&St(t[0])&&(t=t[0].slice()),function(n){return n.lift.call(tr([n].concat(t)),new Ta(r))}}function b0(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return function(r){return r.lift.call(ci.apply(void 0,[r].concat(t)))}}function Hl(t,e){return Ur(t,e,1)}function v0(t,e){return Hl(function(){return t},e)}function m0(t){return function(e){return e.lift(new _0(t,e))}}var _0=function(){function t(e,r){this.predicate=e,this.source=r}return t.prototype.call=function(e,r){return r.subscribe(new w0(e,this.predicate,this.source))},t}(),w0=function(t){Z(e,t);function e(r,n,i){var o=t.call(this,r)||this;return o.predicate=n,o.source=i,o.count=0,o.index=0,o}return e.prototype._next=function(r){this.predicate?this._tryPredicate(r):this.count++},e.prototype._tryPredicate=function(r){var n;try{n=this.predicate(r,this.index++,this.source)}catch(i){this.destination.error(i);return}n&&this.count++},e.prototype._complete=function(){this.destination.next(this.count),this.destination.complete()},e}(se);function S0(t){return function(e){return e.lift(new E0(t))}}var E0=function(){function t(e){this.durationSelector=e}return t.prototype.call=function(e,r){return r.subscribe(new x0(e,this.durationSelector))},t}(),x0=function(t){Z(e,t);function e(r,n){var i=t.call(this,r)||this;return i.durationSelector=n,i.hasValue=!1,i}return e.prototype._next=function(r){try{var n=this.durationSelector.call(this,r);n&&this._tryNext(r,n)}catch(i){this.destination.error(i)}},e.prototype._complete=function(){this.emitValue(),this.destination.complete()},e.prototype._tryNext=function(r,n){var i=this.durationSubscription;this.value=r,this.hasValue=!0,i&&(i.unsubscribe(),this.remove(i)),i=it(n,new rt(this)),i&&!i.closed&&this.add(this.durationSubscription=i)},e.prototype.notifyNext=function(){this.emitValue()},e.prototype.notifyComplete=function(){this.emitValue()},e.prototype.emitValue=function(){if(this.hasValue){var r=this.value,n=this.durationSubscription;n&&(this.durationSubscription=void 0,n.unsubscribe(),this.remove(n)),this.value=void 0,this.hasValue=!1,t.prototype._next.call(this,r)}},e}(nt);function M0(t,e){return e===void 0&&(e=Et),function(r){return r.lift(new A0(t,e))}}var A0=function(){function t(e,r){this.dueTime=e,this.scheduler=r}return t.prototype.call=function(e,r){return r.subscribe(new C0(e,this.dueTime,this.scheduler))},t}(),C0=function(t){Z(e,t);function e(r,n,i){var o=t.call(this,r)||this;return o.dueTime=n,o.scheduler=i,o.debouncedSubscription=null,o.lastValue=null,o.hasValue=!1,o}return e.prototype._next=function(r){this.clearDebounce(),this.lastValue=r,this.hasValue=!0,this.add(this.debouncedSubscription=this.scheduler.schedule(k0,this.dueTime,this))},e.prototype._complete=function(){this.debouncedNext(),this.destination.complete()},e.prototype.debouncedNext=function(){if(this.clearDebounce(),this.hasValue){var r=this.lastValue;this.lastValue=null,this.hasValue=!1,this.destination.next(r)}},e.prototype.clearDebounce=function(){var r=this.debouncedSubscription;r!==null&&(this.remove(r),r.unsubscribe(),this.debouncedSubscription=null)},e}(se);function k0(t){t.debouncedNext()}function vi(t){return t===void 0&&(t=null),function(e){return e.lift(new I0(t))}}var I0=function(){function t(e){this.defaultValue=e}return t.prototype.call=function(e,r){return r.subscribe(new R0(e,this.defaultValue))},t}(),R0=function(t){Z(e,t);function e(r,n){var i=t.call(this,r)||this;return i.defaultValue=n,i.isEmpty=!0,i}return e.prototype._next=function(r){this.isEmpty=!1,this.destination.next(r)},e.prototype._complete=function(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()},e}(se);function Vl(t){return t instanceof Date&&!isNaN(+t)}function T0(t,e){e===void 0&&(e=Et);var r=Vl(t),n=r?+t-e.now():Math.abs(t);return function(i){return i.lift(new O0(n,e))}}var O0=function(){function t(e,r){this.delay=e,this.scheduler=r}return t.prototype.call=function(e,r){return r.subscribe(new N0(e,this.delay,this.scheduler))},t}(),N0=function(t){Z(e,t);function e(r,n,i){var o=t.call(this,r)||this;return o.delay=n,o.scheduler=i,o.queue=[],o.active=!1,o.errored=!1,o}return e.dispatch=function(r){for(var n=r.source,i=n.queue,o=r.scheduler,s=r.destination;i.length>0&&i[0].time-o.now()<=0;)i.shift().notification.observe(s);if(i.length>0){var a=Math.max(0,i[0].time-o.now());this.schedule(r,a)}else this.unsubscribe(),n.active=!1},e.prototype._schedule=function(r){this.active=!0;var n=this.destination;n.add(r.schedule(e.dispatch,this.delay,{source:this,destination:this.destination,scheduler:r}))},e.prototype.scheduleNotification=function(r){if(this.errored!==!0){var n=this.scheduler,i=new B0(n.now()+this.delay,r);this.queue.push(i),this.active===!1&&this._schedule(n)}},e.prototype._next=function(r){this.scheduleNotification(Yt.createNext(r))},e.prototype._error=function(r){this.errored=!0,this.queue=[],this.destination.error(r),this.unsubscribe()},e.prototype._complete=function(){this.scheduleNotification(Yt.createComplete()),this.unsubscribe()},e}(se),B0=function(){function t(e,r){this.time=e,this.notification=r}return t}();function P0(t,e){return e?function(r){return new D0(r,e).lift(new Cu(t))}:function(r){return r.lift(new Cu(t))}}var Cu=function(){function t(e){this.delayDurationSelector=e}return t.prototype.call=function(e,r){return r.subscribe(new L0(e,this.delayDurationSelector))},t}(),L0=function(t){Z(e,t);function e(r,n){var i=t.call(this,r)||this;return i.delayDurationSelector=n,i.completed=!1,i.delayNotifierSubscriptions=[],i.index=0,i}return e.prototype.notifyNext=function(r,n,i,o,s){this.destination.next(r),this.removeSubscription(s),this.tryComplete()},e.prototype.notifyError=function(r,n){this._error(r)},e.prototype.notifyComplete=function(r){var n=this.removeSubscription(r);n&&this.destination.next(n),this.tryComplete()},e.prototype._next=function(r){var n=this.index++;try{var i=this.delayDurationSelector(r,n);i&&this.tryDelay(i,r)}catch(o){this.destination.error(o)}},e.prototype._complete=function(){this.completed=!0,this.tryComplete(),this.unsubscribe()},e.prototype.removeSubscription=function(r){r.unsubscribe();var n=this.delayNotifierSubscriptions.indexOf(r);return n!==-1&&this.delayNotifierSubscriptions.splice(n,1),r.outerValue},e.prototype.tryDelay=function(r,n){var i=Qt(this,r,n);if(i&&!i.closed){var o=this.destination;o.add(i),this.delayNotifierSubscriptions.push(i)}},e.prototype.tryComplete=function(){this.completed&&this.delayNotifierSubscriptions.length===0&&this.destination.complete()},e}(Vr),D0=function(t){Z(e,t);function e(r,n){var i=t.call(this)||this;return i.source=r,i.subscriptionDelay=n,i}return e.prototype._subscribe=function(r){this.subscriptionDelay.subscribe(new F0(r,this.source))},e}(me),F0=function(t){Z(e,t);function e(r,n){var i=t.call(this)||this;return i.parent=r,i.source=n,i.sourceSubscribed=!1,i}return e.prototype._next=function(r){this.subscribeToSource()},e.prototype._error=function(r){this.unsubscribe(),this.parent.error(r)},e.prototype._complete=function(){this.unsubscribe(),this.subscribeToSource()},e.prototype.subscribeToSource=function(){this.sourceSubscribed||(this.sourceSubscribed=!0,this.unsubscribe(),this.source.subscribe(this.parent))},e}(se);function j0(){return function(e){return e.lift(new $0)}}var $0=function(){function t(){}return t.prototype.call=function(e,r){return r.subscribe(new U0(e))},t}(),U0=function(t){Z(e,t);function e(r){return t.call(this,r)||this}return e.prototype._next=function(r){r.observe(this.destination)},e}(se);function W0(t,e){return function(r){return r.lift(new H0(t,e))}}var H0=function(){function t(e,r){this.keySelector=e,this.flushes=r}return t.prototype.call=function(e,r){return r.subscribe(new V0(e,this.keySelector,this.flushes))},t}(),V0=function(t){Z(e,t);function e(r,n,i){var o=t.call(this,r)||this;return o.keySelector=n,o.values=new Set,i&&o.add(it(i,new rt(o))),o}return e.prototype.notifyNext=function(){this.values.clear()},e.prototype.notifyError=function(r){this._error(r)},e.prototype._next=function(r){this.keySelector?this._useKeySelector(r):this._finalizeNext(r,r)},e.prototype._useKeySelector=function(r){var n,i=this.destination;try{n=this.keySelector(r)}catch(o){i.error(o);return}this._finalizeNext(n,r)},e.prototype._finalizeNext=function(r,n){var i=this.values;i.has(r)||(i.add(r),this.destination.next(n))},e}(nt);function zl(t,e){return function(r){return r.lift(new z0(t,e))}}var z0=function(){function t(e,r){this.compare=e,this.keySelector=r}return t.prototype.call=function(e,r){return r.subscribe(new q0(e,this.compare,this.keySelector))},t}(),q0=function(t){Z(e,t);function e(r,n,i){var o=t.call(this,r)||this;return o.keySelector=i,o.hasKey=!1,typeof n=="function"&&(o.compare=n),o}return e.prototype.compare=function(r,n){return r===n},e.prototype._next=function(r){var n;try{var i=this.keySelector;n=i?i(r):r}catch(a){return this.destination.error(a)}var o=!1;if(this.hasKey)try{var s=this.compare;o=s(this.key,n)}catch(a){return this.destination.error(a)}else this.hasKey=!0;o||(this.key=n,this.destination.next(r))},e}(se);function G0(t,e){return zl(function(r,n){return e?e(r[t],n[t]):r[t]===n[t]})}function So(t){return t===void 0&&(t=Y0),function(e){return e.lift(new Z0(t))}}var Z0=function(){function t(e){this.errorFactory=e}return t.prototype.call=function(e,r){return r.subscribe(new K0(e,this.errorFactory))},t}(),K0=function(t){Z(e,t);function e(r,n){var i=t.call(this,r)||this;return i.errorFactory=n,i.hasValue=!1,i}return e.prototype._next=function(r){this.hasValue=!0,this.destination.next(r)},e.prototype._complete=function(){if(this.hasValue)return this.destination.complete();var r=void 0;try{r=this.errorFactory()}catch(n){r=n}this.destination.error(r)},e}(se);function Y0(){return new bi}function Ba(t){return function(e){return t===0?Pn():e.lift(new Q0(t))}}var Q0=function(){function t(e){if(this.total=e,this.total<0)throw new mn}return t.prototype.call=function(e,r){return r.subscribe(new J0(e,this.total))},t}(),J0=function(t){Z(e,t);function e(r,n){var i=t.call(this,r)||this;return i.total=n,i.count=0,i}return e.prototype._next=function(r){var n=this.total,i=++this.count;i<=n&&(this.destination.next(r),i===n&&(this.destination.complete(),this.unsubscribe()))},e}(se);function X0(t,e){if(t<0)throw new mn;var r=arguments.length>=2;return function(n){return n.pipe(pr(function(i,o){return o===t}),Ba(1),r?vi(e):So(function(){return new mn}))}}function eg(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return function(r){return ci(r,wo.apply(void 0,t))}}function tg(t,e){return function(r){return r.lift(new rg(t,e,r))}}var rg=function(){function t(e,r,n){this.predicate=e,this.thisArg=r,this.source=n}return t.prototype.call=function(e,r){return r.subscribe(new ng(e,this.predicate,this.thisArg,this.source))},t}(),ng=function(t){Z(e,t);function e(r,n,i,o){var s=t.call(this,r)||this;return s.predicate=n,s.thisArg=i,s.source=o,s.index=0,s.thisArg=i||s,s}return e.prototype.notifyComplete=function(r){this.destination.next(r),this.destination.complete()},e.prototype._next=function(r){var n=!1;try{n=this.predicate.call(this.thisArg,r,this.index++,this.source)}catch(i){this.destination.error(i);return}n||this.notifyComplete(!1)},e.prototype._complete=function(){this.notifyComplete(!0)},e}(se);function ig(){return function(t){return t.lift(new og)}}var og=function(){function t(){}return t.prototype.call=function(e,r){return r.subscribe(new sg(e))},t}(),sg=function(t){Z(e,t);function e(r){var n=t.call(this,r)||this;return n.hasCompleted=!1,n.hasSubscription=!1,n}return e.prototype._next=function(r){this.hasSubscription||(this.hasSubscription=!0,this.add(it(r,new rt(this))))},e.prototype._complete=function(){this.hasCompleted=!0,this.hasSubscription||this.destination.complete()},e.prototype.notifyComplete=function(){this.hasSubscription=!1,this.hasCompleted&&this.destination.complete()},e}(nt);function ql(t,e){return e?function(r){return r.pipe(ql(function(n,i){return tr(t(n,i)).pipe(Bt(function(o,s){return e(n,o,i,s)}))}))}:function(r){return r.lift(new ag(t))}}var ag=function(){function t(e){this.project=e}return t.prototype.call=function(e,r){return r.subscribe(new ug(e,this.project))},t}(),ug=function(t){Z(e,t);function e(r,n){var i=t.call(this,r)||this;return i.project=n,i.hasSubscription=!1,i.hasCompleted=!1,i.index=0,i}return e.prototype._next=function(r){this.hasSubscription||this.tryNext(r)},e.prototype.tryNext=function(r){var n,i=this.index++;try{n=this.project(r,i)}catch(o){this.destination.error(o);return}this.hasSubscription=!0,this._innerSub(n)},e.prototype._innerSub=function(r){var n=new rt(this),i=this.destination;i.add(n);var o=it(r,n);o!==n&&i.add(o)},e.prototype._complete=function(){this.hasCompleted=!0,this.hasSubscription||this.destination.complete(),this.unsubscribe()},e.prototype.notifyNext=function(r){this.destination.next(r)},e.prototype.notifyError=function(r){this.destination.error(r)},e.prototype.notifyComplete=function(){this.hasSubscription=!1,this.hasCompleted&&this.destination.complete()},e}(nt);function cg(t,e,r){return e===void 0&&(e=Number.POSITIVE_INFINITY),e=(e||0)<1?Number.POSITIVE_INFINITY:e,function(n){return n.lift(new lg(t,e,r))}}var lg=function(){function t(e,r,n){this.project=e,this.concurrent=r,this.scheduler=n}return t.prototype.call=function(e,r){return r.subscribe(new fg(e,this.project,this.concurrent,this.scheduler))},t}(),fg=function(t){Z(e,t);function e(r,n,i,o){var s=t.call(this,r)||this;return s.project=n,s.concurrent=i,s.scheduler=o,s.index=0,s.active=0,s.hasCompleted=!1,i<Number.POSITIVE_INFINITY&&(s.buffer=[]),s}return e.dispatch=function(r){var n=r.subscriber,i=r.result,o=r.value,s=r.index;n.subscribeToProjection(i,o,s)},e.prototype._next=function(r){var n=this.destination;if(n.closed){this._complete();return}var i=this.index++;if(this.active<this.concurrent){n.next(r);try{var o=this.project,s=o(r,i);if(!this.scheduler)this.subscribeToProjection(s,r,i);else{var a={subscriber:this,result:s,value:r,index:i},f=this.destination;f.add(this.scheduler.schedule(e.dispatch,0,a))}}catch(p){n.error(p)}}else this.buffer.push(r)},e.prototype.subscribeToProjection=function(r,n,i){this.active++;var o=this.destination;o.add(it(r,new rt(this)))},e.prototype._complete=function(){this.hasCompleted=!0,this.hasCompleted&&this.active===0&&this.destination.complete(),this.unsubscribe()},e.prototype.notifyNext=function(r){this._next(r)},e.prototype.notifyComplete=function(){var r=this.buffer;this.active--,r&&r.length>0&&this._next(r.shift()),this.hasCompleted&&this.active===0&&this.destination.complete()},e}(nt);function hg(t){return function(e){return e.lift(new dg(t))}}var dg=function(){function t(e){this.callback=e}return t.prototype.call=function(e,r){return r.subscribe(new pg(e,this.callback))},t}(),pg=function(t){Z(e,t);function e(r,n){var i=t.call(this,r)||this;return i.add(new tt(n)),i}return e}(se);function gg(t,e){if(typeof t!="function")throw new TypeError("predicate is not a function");return function(r){return r.lift(new Gl(t,r,!1,e))}}var Gl=function(){function t(e,r,n,i){this.predicate=e,this.source=r,this.yieldIndex=n,this.thisArg=i}return t.prototype.call=function(e,r){return r.subscribe(new yg(e,this.predicate,this.source,this.yieldIndex,this.thisArg))},t}(),yg=function(t){Z(e,t);function e(r,n,i,o,s){var a=t.call(this,r)||this;return a.predicate=n,a.source=i,a.yieldIndex=o,a.thisArg=s,a.index=0,a}return e.prototype.notifyComplete=function(r){var n=this.destination;n.next(r),n.complete(),this.unsubscribe()},e.prototype._next=function(r){var n=this,i=n.predicate,o=n.thisArg,s=this.index++;try{var a=i.call(o||this,r,s,this.source);a&&this.notifyComplete(this.yieldIndex?s:r)}catch(f){this.destination.error(f)}},e.prototype._complete=function(){this.notifyComplete(this.yieldIndex?-1:void 0)},e}(se);function bg(t,e){return function(r){return r.lift(new Gl(t,r,!0,e))}}function vg(t,e){var r=arguments.length>=2;return function(n){return n.pipe(t?pr(function(i,o){return t(i,o,n)}):hr,Ba(1),r?vi(e):So(function(){return new bi}))}}function mg(){return function(e){return e.lift(new _g)}}var _g=function(){function t(){}return t.prototype.call=function(e,r){return r.subscribe(new wg(e))},t}(),wg=function(t){Z(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype._next=function(r){},e}(se);function Sg(){return function(t){return t.lift(new Eg)}}var Eg=function(){function t(){}return t.prototype.call=function(e,r){return r.subscribe(new xg(e))},t}(),xg=function(t){Z(e,t);function e(r){return t.call(this,r)||this}return e.prototype.notifyComplete=function(r){var n=this.destination;n.next(r),n.complete()},e.prototype._next=function(r){this.notifyComplete(!1)},e.prototype._complete=function(){this.notifyComplete(!0)},e}(se);function to(t){return function(r){return t===0?Pn():r.lift(new Mg(t))}}var Mg=function(){function t(e){if(this.total=e,this.total<0)throw new mn}return t.prototype.call=function(e,r){return r.subscribe(new Ag(e,this.total))},t}(),Ag=function(t){Z(e,t);function e(r,n){var i=t.call(this,r)||this;return i.total=n,i.ring=new Array,i.count=0,i}return e.prototype._next=function(r){var n=this.ring,i=this.total,o=this.count++;if(n.length<i)n.push(r);else{var s=o%i;n[s]=r}},e.prototype._complete=function(){var r=this.destination,n=this.count;if(n>0)for(var i=this.count>=this.total?this.total:this.count,o=this.ring,s=0;s<i;s++){var a=n++%i;r.next(o[a])}r.complete()},e}(se);function Cg(t,e){var r=arguments.length>=2;return function(n){return n.pipe(t?pr(function(i,o){return t(i,o,n)}):hr,to(1),r?vi(e):So(function(){return new bi}))}}function kg(t){return function(e){return e.lift(new Ig(t))}}var Ig=function(){function t(e){this.value=e}return t.prototype.call=function(e,r){return r.subscribe(new Rg(e,this.value))},t}(),Rg=function(t){Z(e,t);function e(r,n){var i=t.call(this,r)||this;return i.value=n,i}return e.prototype._next=function(r){this.destination.next(this.value)},e}(se);function Tg(){return function(e){return e.lift(new Og)}}var Og=function(){function t(){}return t.prototype.call=function(e,r){return r.subscribe(new Ng(e))},t}(),Ng=function(t){Z(e,t);function e(r){return t.call(this,r)||this}return e.prototype._next=function(r){this.destination.next(Yt.createNext(r))},e.prototype._error=function(r){var n=this.destination;n.next(Yt.createError(r)),n.complete()},e.prototype._complete=function(){var r=this.destination;r.next(Yt.createComplete()),r.complete()},e}(se);function ro(t,e){var r=!1;return arguments.length>=2&&(r=!0),function(i){return i.lift(new Bg(t,e,r))}}var Bg=function(){function t(e,r,n){n===void 0&&(n=!1),this.accumulator=e,this.seed=r,this.hasSeed=n}return t.prototype.call=function(e,r){return r.subscribe(new Pg(e,this.accumulator,this.seed,this.hasSeed))},t}(),Pg=function(t){Z(e,t);function e(r,n,i,o){var s=t.call(this,r)||this;return s.accumulator=n,s._seed=i,s.hasSeed=o,s.index=0,s}return Object.defineProperty(e.prototype,"seed",{get:function(){return this._seed},set:function(r){this.hasSeed=!0,this._seed=r},enumerable:!0,configurable:!0}),e.prototype._next=function(r){if(!this.hasSeed)this.seed=r,this.destination.next(r);else return this._tryNext(r)},e.prototype._tryNext=function(r){var n=this.index++,i;try{i=this.accumulator(this.seed,r,n)}catch(o){this.destination.error(o)}this.seed=i,this.destination.next(i)},e}(se);function Eo(t,e){return arguments.length>=2?function(n){return ra(ro(t,e),to(1),vi(e))(n)}:function(n){return ra(ro(function(i,o,s){return t(i,o,s+1)}),to(1))(n)}}function Lg(t){var e=typeof t=="function"?function(r,n){return t(r,n)>0?r:n}:function(r,n){return r>n?r:n};return Eo(e)}function Dg(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return function(r){return r.lift.call(Bl.apply(void 0,[r].concat(t)))}}function Fg(t,e,r){return r===void 0&&(r=Number.POSITIVE_INFINITY),typeof e=="function"?Ur(function(){return t},e,r):(typeof e=="number"&&(r=e),Ur(function(){return t},r))}function jg(t,e,r){return r===void 0&&(r=Number.POSITIVE_INFINITY),function(n){return n.lift(new $g(t,e,r))}}var $g=function(){function t(e,r,n){this.accumulator=e,this.seed=r,this.concurrent=n}return t.prototype.call=function(e,r){return r.subscribe(new Ug(e,this.accumulator,this.seed,this.concurrent))},t}(),Ug=function(t){Z(e,t);function e(r,n,i,o){var s=t.call(this,r)||this;return s.accumulator=n,s.acc=i,s.concurrent=o,s.hasValue=!1,s.hasCompleted=!1,s.buffer=[],s.active=0,s.index=0,s}return e.prototype._next=function(r){if(this.active<this.concurrent){var n=this.index++,i=this.destination,o=void 0;try{var s=this.accumulator;o=s(this.acc,r,n)}catch(a){return i.error(a)}this.active++,this._innerSub(o)}else this.buffer.push(r)},e.prototype._innerSub=function(r){var n=new rt(this),i=this.destination;i.add(n);var o=it(r,n);o!==n&&i.add(o)},e.prototype._complete=function(){this.hasCompleted=!0,this.active===0&&this.buffer.length===0&&(this.hasValue===!1&&this.destination.next(this.acc),this.destination.complete()),this.unsubscribe()},e.prototype.notifyNext=function(r){var n=this.destination;this.acc=r,this.hasValue=!0,n.next(r)},e.prototype.notifyComplete=function(){var r=this.buffer;this.active--,r.length>0?this._next(r.shift()):this.active===0&&this.hasCompleted&&(this.hasValue===!1&&this.destination.next(this.acc),this.destination.complete())},e}(nt);function Wg(t){var e=typeof t=="function"?function(r,n){return t(r,n)<0?r:n}:function(r,n){return r<n?r:n};return Eo(e)}function Wr(t,e){return function(n){var i;if(typeof t=="function"?i=t:i=function(){return t},typeof e=="function")return n.lift(new Hg(i,e));var o=Object.create(n,xd);return o.source=n,o.subjectFactory=i,o}}var Hg=function(){function t(e,r){this.subjectFactory=e,this.selector=r}return t.prototype.call=function(e,r){var n=this.selector,i=this.subjectFactory(),o=n(i).subscribe(e);return o.add(r.subscribe(i)),o},t}();function Vg(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return t.length===1&&St(t[0])&&(t=t[0]),function(r){return r.lift(new zg(t))}}var zg=function(){function t(e){this.nextSources=e}return t.prototype.call=function(e,r){return r.subscribe(new qg(e,this.nextSources))},t}(),qg=function(t){Z(e,t);function e(r,n){var i=t.call(this,r)||this;return i.destination=r,i.nextSources=n,i}return e.prototype.notifyError=function(){this.subscribeToNextSource()},e.prototype.notifyComplete=function(){this.subscribeToNextSource()},e.prototype._error=function(r){this.subscribeToNextSource(),this.unsubscribe()},e.prototype._complete=function(){this.subscribeToNextSource(),this.unsubscribe()},e.prototype.subscribeToNextSource=function(){var r=this.nextSources.shift();if(r){var n=new rt(this),i=this.destination;i.add(n);var o=it(r,n);o!==n&&i.add(o)}else this.destination.complete()},e}(nt);function Gg(){return function(t){return t.lift(new Zg)}}var Zg=function(){function t(){}return t.prototype.call=function(e,r){return r.subscribe(new Kg(e))},t}(),Kg=function(t){Z(e,t);function e(r){var n=t.call(this,r)||this;return n.hasPrev=!1,n}return e.prototype._next=function(r){var n;this.hasPrev?n=[this.prev,r]:this.hasPrev=!0,this.prev=r,n&&this.destination.next(n)},e}(se);function Yg(t,e){return function(r){return[pr(t,e)(r),pr(Ll(t,e))(r)]}}function Qg(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var r=t.length;if(r===0)throw new Error("list of properties cannot be empty.");return function(n){return Bt(Jg(t,r))(n)}}function Jg(t,e){var r=function(n){for(var i=n,o=0;o<e;o++){var s=i!=null?i[t[o]]:void 0;if(s!==void 0)i=s;else return}return i};return r}function Xg(t){return t?Wr(function(){return new ft},t):Wr(new ft)}function ey(t){return function(e){return Wr(new gl(t))(e)}}function ty(){return function(t){return Wr(new Ln)(t)}}function ry(t,e,r,n){r&&typeof r!="function"&&(n=r);var i=typeof r=="function"?r:void 0,o=new Ra(t,e,n);return function(s){return Wr(function(){return o},i)(s)}}function ny(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return function(n){return t.length===1&&St(t[0])&&(t=t[0]),n.lift.call(Dl.apply(void 0,[n].concat(t)))}}function iy(t){return t===void 0&&(t=-1),function(e){return t===0?Pn():t<0?e.lift(new ku(-1,e)):e.lift(new ku(t-1,e))}}var ku=function(){function t(e,r){this.count=e,this.source=r}return t.prototype.call=function(e,r){return r.subscribe(new oy(e,this.count,this.source))},t}(),oy=function(t){Z(e,t);function e(r,n,i){var o=t.call(this,r)||this;return o.count=n,o.source=i,o}return e.prototype.complete=function(){if(!this.isStopped){var r=this,n=r.source,i=r.count;if(i===0)return t.prototype.complete.call(this);i>-1&&(this.count=i-1),n.subscribe(this._unsubscribeAndRecycle())}},e}(se);function sy(t){return function(e){return e.lift(new ay(t))}}var ay=function(){function t(e){this.notifier=e}return t.prototype.call=function(e,r){return r.subscribe(new uy(e,this.notifier,r))},t}(),uy=function(t){Z(e,t);function e(r,n,i){var o=t.call(this,r)||this;return o.notifier=n,o.source=i,o.sourceIsBeingSubscribedTo=!0,o}return e.prototype.notifyNext=function(){this.sourceIsBeingSubscribedTo=!0,this.source.subscribe(this)},e.prototype.notifyComplete=function(){if(this.sourceIsBeingSubscribedTo===!1)return t.prototype.complete.call(this)},e.prototype.complete=function(){if(this.sourceIsBeingSubscribedTo=!1,!this.isStopped){if(this.retries||this.subscribeToRetries(),!this.retriesSubscription||this.retriesSubscription.closed)return t.prototype.complete.call(this);this._unsubscribeAndRecycle(),this.notifications.next(void 0)}},e.prototype._unsubscribe=function(){var r=this,n=r.notifications,i=r.retriesSubscription;n&&(n.unsubscribe(),this.notifications=void 0),i&&(i.unsubscribe(),this.retriesSubscription=void 0),this.retries=void 0},e.prototype._unsubscribeAndRecycle=function(){var r=this._unsubscribe;return this._unsubscribe=null,t.prototype._unsubscribeAndRecycle.call(this),this._unsubscribe=r,this},e.prototype.subscribeToRetries=function(){this.notifications=new ft;var r;try{var n=this.notifier;r=n(this.notifications)}catch{return t.prototype.complete.call(this)}this.retries=r,this.retriesSubscription=it(r,new rt(this))},e}(nt);function cy(t){return t===void 0&&(t=-1),function(e){return e.lift(new ly(t,e))}}var ly=function(){function t(e,r){this.count=e,this.source=r}return t.prototype.call=function(e,r){return r.subscribe(new fy(e,this.count,this.source))},t}(),fy=function(t){Z(e,t);function e(r,n,i){var o=t.call(this,r)||this;return o.count=n,o.source=i,o}return e.prototype.error=function(r){if(!this.isStopped){var n=this,i=n.source,o=n.count;if(o===0)return t.prototype.error.call(this,r);o>-1&&(this.count=o-1),i.subscribe(this._unsubscribeAndRecycle())}},e}(se);function hy(t){return function(e){return e.lift(new dy(t,e))}}var dy=function(){function t(e,r){this.notifier=e,this.source=r}return t.prototype.call=function(e,r){return r.subscribe(new py(e,this.notifier,this.source))},t}(),py=function(t){Z(e,t);function e(r,n,i){var o=t.call(this,r)||this;return o.notifier=n,o.source=i,o}return e.prototype.error=function(r){if(!this.isStopped){var n=this.errors,i=this.retries,o=this.retriesSubscription;if(i)this.errors=void 0,this.retriesSubscription=void 0;else{n=new ft;try{var s=this.notifier;i=s(n)}catch(a){return t.prototype.error.call(this,a)}o=it(i,new rt(this))}this._unsubscribeAndRecycle(),this.errors=n,this.retries=i,this.retriesSubscription=o,n.next(r)}},e.prototype._unsubscribe=function(){var r=this,n=r.errors,i=r.retriesSubscription;n&&(n.unsubscribe(),this.errors=void 0),i&&(i.unsubscribe(),this.retriesSubscription=void 0),this.retries=void 0},e.prototype.notifyNext=function(){var r=this._unsubscribe;this._unsubscribe=null,this._unsubscribeAndRecycle(),this._unsubscribe=r,this.source.subscribe(this)},e}(nt);function gy(t){return function(e){return e.lift(new yy(t))}}var yy=function(){function t(e){this.notifier=e}return t.prototype.call=function(e,r){var n=new by(e),i=r.subscribe(n);return i.add(it(this.notifier,new rt(n))),i},t}(),by=function(t){Z(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.hasValue=!1,r}return e.prototype._next=function(r){this.value=r,this.hasValue=!0},e.prototype.notifyNext=function(){this.emitValue()},e.prototype.notifyComplete=function(){this.emitValue()},e.prototype.emitValue=function(){this.hasValue&&(this.hasValue=!1,this.destination.next(this.value))},e}(nt);function vy(t,e){return e===void 0&&(e=Et),function(r){return r.lift(new my(t,e))}}var my=function(){function t(e,r){this.period=e,this.scheduler=r}return t.prototype.call=function(e,r){return r.subscribe(new _y(e,this.period,this.scheduler))},t}(),_y=function(t){Z(e,t);function e(r,n,i){var o=t.call(this,r)||this;return o.period=n,o.scheduler=i,o.hasValue=!1,o.add(i.schedule(wy,n,{subscriber:o,period:n})),o}return e.prototype._next=function(r){this.lastValue=r,this.hasValue=!0},e.prototype.notifyNext=function(){this.hasValue&&(this.hasValue=!1,this.destination.next(this.lastValue))},e}(se);function wy(t){var e=t.subscriber,r=t.period;e.notifyNext(),this.schedule(t,r)}function Sy(t,e){return function(r){return r.lift(new Ey(t,e))}}var Ey=function(){function t(e,r){this.compareTo=e,this.comparator=r}return t.prototype.call=function(e,r){return r.subscribe(new xy(e,this.compareTo,this.comparator))},t}(),xy=function(t){Z(e,t);function e(r,n,i){var o=t.call(this,r)||this;return o.compareTo=n,o.comparator=i,o._a=[],o._b=[],o._oneComplete=!1,o.destination.add(n.subscribe(new My(r,o))),o}return e.prototype._next=function(r){this._oneComplete&&this._b.length===0?this.emit(!1):(this._a.push(r),this.checkValues())},e.prototype._complete=function(){this._oneComplete?this.emit(this._a.length===0&&this._b.length===0):this._oneComplete=!0,this.unsubscribe()},e.prototype.checkValues=function(){for(var r=this,n=r._a,i=r._b,o=r.comparator;n.length>0&&i.length>0;){var s=n.shift(),a=i.shift(),f=!1;try{f=o?o(s,a):s===a}catch(p){this.destination.error(p)}f||this.emit(!1)}},e.prototype.emit=function(r){var n=this.destination;n.next(r),n.complete()},e.prototype.nextB=function(r){this._oneComplete&&this._a.length===0?this.emit(!1):(this._b.push(r),this.checkValues())},e.prototype.completeB=function(){this._oneComplete?this.emit(this._a.length===0&&this._b.length===0):this._oneComplete=!0},e}(se),My=function(t){Z(e,t);function e(r,n){var i=t.call(this,r)||this;return i.parent=n,i}return e.prototype._next=function(r){this.parent.nextB(r)},e.prototype._error=function(r){this.parent.error(r),this.unsubscribe()},e.prototype._complete=function(){this.parent.completeB(),this.unsubscribe()},e}(se);function Ay(){return new ft}function Cy(){return function(t){return Ca()(Wr(Ay)(t))}}function ky(t,e,r){var n;return t&&typeof t=="object"?n=t:n={bufferSize:t,windowTime:e,refCount:!1,scheduler:r},function(i){return i.lift(Iy(n))}}function Iy(t){var e=t.bufferSize,r=e===void 0?Number.POSITIVE_INFINITY:e,n=t.windowTime,i=n===void 0?Number.POSITIVE_INFINITY:n,o=t.refCount,s=t.scheduler,a,f=0,p,g=!1,I=!1;return function(C){f++;var N;!a||g?(g=!1,a=new Ra(r,i,s),N=a.subscribe(this),p=C.subscribe({next:function(H){a.next(H)},error:function(H){g=!0,a.error(H)},complete:function(){I=!0,p=void 0,a.complete()}}),I&&(p=void 0)):N=a.subscribe(this),this.add(function(){f--,N.unsubscribe(),N=void 0,p&&!I&&o&&f===0&&(p.unsubscribe(),p=void 0,a=void 0)})}}function Ry(t){return function(e){return e.lift(new Ty(t,e))}}var Ty=function(){function t(e,r){this.predicate=e,this.source=r}return t.prototype.call=function(e,r){return r.subscribe(new Oy(e,this.predicate,this.source))},t}(),Oy=function(t){Z(e,t);function e(r,n,i){var o=t.call(this,r)||this;return o.predicate=n,o.source=i,o.seenValue=!1,o.index=0,o}return e.prototype.applySingleValue=function(r){this.seenValue?this.destination.error("Sequence contains more than one element"):(this.seenValue=!0,this.singleValue=r)},e.prototype._next=function(r){var n=this.index++;this.predicate?this.tryNext(r,n):this.applySingleValue(r)},e.prototype.tryNext=function(r,n){try{this.predicate(r,n,this.source)&&this.applySingleValue(r)}catch(i){this.destination.error(i)}},e.prototype._complete=function(){var r=this.destination;this.index>0?(r.next(this.seenValue?this.singleValue:void 0),r.complete()):r.error(new bi)},e}(se);function Ny(t){return function(e){return e.lift(new By(t))}}var By=function(){function t(e){this.total=e}return t.prototype.call=function(e,r){return r.subscribe(new Py(e,this.total))},t}(),Py=function(t){Z(e,t);function e(r,n){var i=t.call(this,r)||this;return i.total=n,i.count=0,i}return e.prototype._next=function(r){++this.count>this.total&&this.destination.next(r)},e}(se);function Ly(t){return function(e){return e.lift(new Dy(t))}}var Dy=function(){function t(e){if(this._skipCount=e,this._skipCount<0)throw new mn}return t.prototype.call=function(e,r){return this._skipCount===0?r.subscribe(new se(e)):r.subscribe(new Fy(e,this._skipCount))},t}(),Fy=function(t){Z(e,t);function e(r,n){var i=t.call(this,r)||this;return i._skipCount=n,i._count=0,i._ring=new Array(n),i}return e.prototype._next=function(r){var n=this._skipCount,i=this._count++;if(i<n)this._ring[i]=r;else{var o=i%n,s=this._ring,a=s[o];s[o]=r,this.destination.next(a)}},e}(se);function jy(t){return function(e){return e.lift(new $y(t))}}var $y=function(){function t(e){this.notifier=e}return t.prototype.call=function(e,r){return r.subscribe(new Uy(e,this.notifier))},t}(),Uy=function(t){Z(e,t);function e(r,n){var i=t.call(this,r)||this;i.hasValue=!1;var o=new rt(i);i.add(o),i.innerSubscription=o;var s=it(n,o);return s!==o&&(i.add(s),i.innerSubscription=s),i}return e.prototype._next=function(r){this.hasValue&&t.prototype._next.call(this,r)},e.prototype.notifyNext=function(){this.hasValue=!0,this.innerSubscription&&this.innerSubscription.unsubscribe()},e.prototype.notifyComplete=function(){},e}(nt);function Wy(t){return function(e){return e.lift(new Hy(t))}}var Hy=function(){function t(e){this.predicate=e}return t.prototype.call=function(e,r){return r.subscribe(new Vy(e,this.predicate))},t}(),Vy=function(t){Z(e,t);function e(r,n){var i=t.call(this,r)||this;return i.predicate=n,i.skipping=!0,i.index=0,i}return e.prototype._next=function(r){var n=this.destination;this.skipping&&this.tryCallPredicate(r),this.skipping||n.next(r)},e.prototype.tryCallPredicate=function(r){try{var n=this.predicate(r,this.index++);this.skipping=Boolean(n)}catch(i){this.destination.error(i)}},e}(se);function zy(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var r=t[t.length-1];return At(r)?(t.pop(),function(n){return ci(t,n,r)}):function(n){return ci(t,n)}}var qy=function(t){Z(e,t);function e(r,n,i){n===void 0&&(n=0),i===void 0&&(i=zi);var o=t.call(this)||this;return o.source=r,o.delayTime=n,o.scheduler=i,(!_n(n)||n<0)&&(o.delayTime=0),(!i||typeof i.schedule!="function")&&(o.scheduler=zi),o}return e.create=function(r,n,i){return n===void 0&&(n=0),i===void 0&&(i=zi),new e(r,n,i)},e.dispatch=function(r){var n=r.source,i=r.subscriber;return this.add(n.subscribe(i))},e.prototype._subscribe=function(r){var n=this.delayTime,i=this.source,o=this.scheduler;return o.schedule(e.dispatch,n,{source:i,subscriber:r})},e}(me);function Gy(t,e){return e===void 0&&(e=0),function(n){return n.lift(new Zy(t,e))}}var Zy=function(){function t(e,r){this.scheduler=e,this.delay=r}return t.prototype.call=function(e,r){return new qy(r,this.delay,this.scheduler).subscribe(e)},t}();function li(t,e){return typeof e=="function"?function(r){return r.pipe(li(function(n,i){return tr(t(n,i)).pipe(Bt(function(o,s){return e(n,o,i,s)}))}))}:function(r){return r.lift(new Ky(t))}}var Ky=function(){function t(e){this.project=e}return t.prototype.call=function(e,r){return r.subscribe(new Yy(e,this.project))},t}(),Yy=function(t){Z(e,t);function e(r,n){var i=t.call(this,r)||this;return i.project=n,i.index=0,i}return e.prototype._next=function(r){var n,i=this.index++;try{n=this.project(r,i)}catch(o){this.destination.error(o);return}this._innerSub(n)},e.prototype._innerSub=function(r){var n=this.innerSubscription;n&&n.unsubscribe();var i=new rt(this),o=this.destination;o.add(i),this.innerSubscription=it(r,i),this.innerSubscription!==i&&o.add(this.innerSubscription)},e.prototype._complete=function(){var r=this.innerSubscription;(!r||r.closed)&&t.prototype._complete.call(this),this.unsubscribe()},e.prototype._unsubscribe=function(){this.innerSubscription=void 0},e.prototype.notifyComplete=function(){this.innerSubscription=void 0,this.isStopped&&t.prototype._complete.call(this)},e.prototype.notifyNext=function(r){this.destination.next(r)},e}(nt);function Qy(){return li(hr)}function Jy(t,e){return e?li(function(){return t},e):li(function(){return t})}function Xy(t){return function(e){return e.lift(new eb(t))}}var eb=function(){function t(e){this.notifier=e}return t.prototype.call=function(e,r){var n=new tb(e),i=it(this.notifier,new rt(n));return i&&!n.seenValue?(n.add(i),r.subscribe(n)):n},t}(),tb=function(t){Z(e,t);function e(r){var n=t.call(this,r)||this;return n.seenValue=!1,n}return e.prototype.notifyNext=function(){this.seenValue=!0,this.complete()},e.prototype.notifyComplete=function(){},e}(nt);function rb(t,e){return e===void 0&&(e=!1),function(r){return r.lift(new nb(t,e))}}var nb=function(){function t(e,r){this.predicate=e,this.inclusive=r}return t.prototype.call=function(e,r){return r.subscribe(new ib(e,this.predicate,this.inclusive))},t}(),ib=function(t){Z(e,t);function e(r,n,i){var o=t.call(this,r)||this;return o.predicate=n,o.inclusive=i,o.index=0,o}return e.prototype._next=function(r){var n=this.destination,i;try{i=this.predicate(r,this.index++)}catch(o){n.error(o);return}this.nextOrComplete(r,i)},e.prototype.nextOrComplete=function(r,n){var i=this.destination;Boolean(n)?i.next(r):(this.inclusive&&i.next(r),i.complete())},e}(se);function ob(t,e,r){return function(i){return i.lift(new sb(t,e,r))}}var sb=function(){function t(e,r,n){this.nextOrObserver=e,this.error=r,this.complete=n}return t.prototype.call=function(e,r){return r.subscribe(new ab(e,this.nextOrObserver,this.error,this.complete))},t}(),ab=function(t){Z(e,t);function e(r,n,i,o){var s=t.call(this,r)||this;return s._tapNext=Wt,s._tapError=Wt,s._tapComplete=Wt,s._tapError=i||Wt,s._tapComplete=o||Wt,bn(n)?(s._context=s,s._tapNext=n):n&&(s._context=n,s._tapNext=n.next||Wt,s._tapError=n.error||Wt,s._tapComplete=n.complete||Wt),s}return e.prototype._next=function(r){try{this._tapNext.call(this._context,r)}catch(n){this.destination.error(n);return}this.destination.next(r)},e.prototype._error=function(r){try{this._tapError.call(this._context,r)}catch(n){this.destination.error(n);return}this.destination.error(r)},e.prototype._complete=function(){try{this._tapComplete.call(this._context)}catch(r){this.destination.error(r);return}return this.destination.complete()},e}(se),Zl={leading:!0,trailing:!1};function ub(t,e){return e===void 0&&(e=Zl),function(r){return r.lift(new cb(t,!!e.leading,!!e.trailing))}}var cb=function(){function t(e,r,n){this.durationSelector=e,this.leading=r,this.trailing=n}return t.prototype.call=function(e,r){return r.subscribe(new lb(e,this.durationSelector,this.leading,this.trailing))},t}(),lb=function(t){Z(e,t);function e(r,n,i,o){var s=t.call(this,r)||this;return s.destination=r,s.durationSelector=n,s._leading=i,s._trailing=o,s._hasValue=!1,s}return e.prototype._next=function(r){this._hasValue=!0,this._sendValue=r,this._throttled||(this._leading?this.send():this.throttle(r))},e.prototype.send=function(){var r=this,n=r._hasValue,i=r._sendValue;n&&(this.destination.next(i),this.throttle(i)),this._hasValue=!1,this._sendValue=void 0},e.prototype.throttle=function(r){var n=this.tryDurationSelector(r);n&&this.add(this._throttled=it(n,new rt(this)))},e.prototype.tryDurationSelector=function(r){try{return this.durationSelector(r)}catch(n){return this.destination.error(n),null}},e.prototype.throttlingDone=function(){var r=this,n=r._throttled,i=r._trailing;n&&n.unsubscribe(),this._throttled=void 0,i&&this.send()},e.prototype.notifyNext=function(){this.throttlingDone()},e.prototype.notifyComplete=function(){this.throttlingDone()},e}(nt);function fb(t,e,r){return e===void 0&&(e=Et),r===void 0&&(r=Zl),function(n){return n.lift(new hb(t,e,r.leading,r.trailing))}}var hb=function(){function t(e,r,n,i){this.duration=e,this.scheduler=r,this.leading=n,this.trailing=i}return t.prototype.call=function(e,r){return r.subscribe(new db(e,this.duration,this.scheduler,this.leading,this.trailing))},t}(),db=function(t){Z(e,t);function e(r,n,i,o,s){var a=t.call(this,r)||this;return a.duration=n,a.scheduler=i,a.leading=o,a.trailing=s,a._hasTrailingValue=!1,a._trailingValue=null,a}return e.prototype._next=function(r){this.throttled?this.trailing&&(this._trailingValue=r,this._hasTrailingValue=!0):(this.add(this.throttled=this.scheduler.schedule(pb,this.duration,{subscriber:this})),this.leading?this.destination.next(r):this.trailing&&(this._trailingValue=r,this._hasTrailingValue=!0))},e.prototype._complete=function(){this._hasTrailingValue?(this.destination.next(this._trailingValue),this.destination.complete()):this.destination.complete()},e.prototype.clearThrottle=function(){var r=this.throttled;r&&(this.trailing&&this._hasTrailingValue&&(this.destination.next(this._trailingValue),this._trailingValue=null,this._hasTrailingValue=!1),r.unsubscribe(),this.remove(r),this.throttled=null)},e}(se);function pb(t){var e=t.subscriber;e.clearThrottle()}function gb(t){return t===void 0&&(t=Et),function(e){return Na(function(){return e.pipe(ro(function(r,n){var i=r.current;return{value:n,current:t.now(),last:i}},{current:t.now(),value:void 0,last:void 0}),Bt(function(r){var n=r.current,i=r.last,o=r.value;return new yb(o,n-i)}))})}}var yb=function(){function t(e,r){this.value=e,this.interval=r}return t}();function Kl(t,e,r){return r===void 0&&(r=Et),function(n){var i=Vl(t),o=i?+t-r.now():Math.abs(t);return n.lift(new bb(o,i,e,r))}}var bb=function(){function t(e,r,n,i){this.waitFor=e,this.absoluteTimeout=r,this.withObservable=n,this.scheduler=i}return t.prototype.call=function(e,r){return r.subscribe(new vb(e,this.absoluteTimeout,this.waitFor,this.withObservable,this.scheduler))},t}(),vb=function(t){Z(e,t);function e(r,n,i,o,s){var a=t.call(this,r)||this;return a.absoluteTimeout=n,a.waitFor=i,a.withObservable=o,a.scheduler=s,a.scheduleTimeout(),a}return e.dispatchTimeout=function(r){var n=r.withObservable;r._unsubscribeAndRecycle(),r.add(it(n,new rt(r)))},e.prototype.scheduleTimeout=function(){var r=this.action;r?this.action=r.schedule(this,this.waitFor):this.add(this.action=this.scheduler.schedule(e.dispatchTimeout,this.waitFor,this))},e.prototype._next=function(r){this.absoluteTimeout||this.scheduleTimeout(),t.prototype._next.call(this,r)},e.prototype._unsubscribe=function(){this.action=void 0,this.scheduler=null,this.withObservable=null},e}(nt);function mb(t,e){return e===void 0&&(e=Et),Kl(t,Ia(new xl),e)}function _b(t){return t===void 0&&(t=Et),Bt(function(e){return new wb(e,t.now())})}var wb=function(){function t(e,r){this.value=e,this.timestamp=r}return t}();function Sb(t,e,r){return r===0?[e]:(t.push(e),t)}function Eb(){return Eo(Sb,[])}function xb(t){return function(r){return r.lift(new Mb(t))}}var Mb=function(){function t(e){this.windowBoundaries=e}return t.prototype.call=function(e,r){var n=new Ab(e),i=r.subscribe(n);return i.closed||n.add(it(this.windowBoundaries,new rt(n))),i},t}(),Ab=function(t){Z(e,t);function e(r){var n=t.call(this,r)||this;return n.window=new ft,r.next(n.window),n}return e.prototype.notifyNext=function(){this.openWindow()},e.prototype.notifyError=function(r){this._error(r)},e.prototype.notifyComplete=function(){this._complete()},e.prototype._next=function(r){this.window.next(r)},e.prototype._error=function(r){this.window.error(r),this.destination.error(r)},e.prototype._complete=function(){this.window.complete(),this.destination.complete()},e.prototype._unsubscribe=function(){this.window=null},e.prototype.openWindow=function(){var r=this.window;r&&r.complete();var n=this.destination,i=this.window=new ft;n.next(i)},e}(nt);function Cb(t,e){return e===void 0&&(e=0),function(n){return n.lift(new kb(t,e))}}var kb=function(){function t(e,r){this.windowSize=e,this.startWindowEvery=r}return t.prototype.call=function(e,r){return r.subscribe(new Ib(e,this.windowSize,this.startWindowEvery))},t}(),Ib=function(t){Z(e,t);function e(r,n,i){var o=t.call(this,r)||this;return o.destination=r,o.windowSize=n,o.startWindowEvery=i,o.windows=[new ft],o.count=0,r.next(o.windows[0]),o}return e.prototype._next=function(r){for(var n=this.startWindowEvery>0?this.startWindowEvery:this.windowSize,i=this.destination,o=this.windowSize,s=this.windows,a=s.length,f=0;f<a&&!this.closed;f++)s[f].next(r);var p=this.count-o+1;if(p>=0&&p%n===0&&!this.closed&&s.shift().complete(),++this.count%n===0&&!this.closed){var g=new ft;s.push(g),i.next(g)}},e.prototype._error=function(r){var n=this.windows;if(n)for(;n.length>0&&!this.closed;)n.shift().error(r);this.destination.error(r)},e.prototype._complete=function(){var r=this.windows;if(r)for(;r.length>0&&!this.closed;)r.shift().complete();this.destination.complete()},e.prototype._unsubscribe=function(){this.count=0,this.windows=null},e}(se);function Rb(t){var e=Et,r=null,n=Number.POSITIVE_INFINITY;return At(arguments[3])&&(e=arguments[3]),At(arguments[2])?e=arguments[2]:_n(arguments[2])&&(n=Number(arguments[2])),At(arguments[1])?e=arguments[1]:_n(arguments[1])&&(r=Number(arguments[1])),function(o){return o.lift(new Tb(t,r,n,e))}}var Tb=function(){function t(e,r,n,i){this.windowTimeSpan=e,this.windowCreationInterval=r,this.maxWindowSize=n,this.scheduler=i}return t.prototype.call=function(e,r){return r.subscribe(new Nb(e,this.windowTimeSpan,this.windowCreationInterval,this.maxWindowSize,this.scheduler))},t}(),Ob=function(t){Z(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r._numberOfNextedValues=0,r}return e.prototype.next=function(r){this._numberOfNextedValues++,t.prototype.next.call(this,r)},Object.defineProperty(e.prototype,"numberOfNextedValues",{get:function(){return this._numberOfNextedValues},enumerable:!0,configurable:!0}),e}(ft),Nb=function(t){Z(e,t);function e(r,n,i,o,s){var a=t.call(this,r)||this;a.destination=r,a.windowTimeSpan=n,a.windowCreationInterval=i,a.maxWindowSize=o,a.scheduler=s,a.windows=[];var f=a.openWindow();if(i!==null&&i>=0){var p={subscriber:a,window:f,context:null},g={windowTimeSpan:n,windowCreationInterval:i,subscriber:a,scheduler:s};a.add(s.schedule(Yl,n,p)),a.add(s.schedule(Pb,i,g))}else{var I={subscriber:a,window:f,windowTimeSpan:n};a.add(s.schedule(Bb,n,I))}return a}return e.prototype._next=function(r){for(var n=this.windows,i=n.length,o=0;o<i;o++){var s=n[o];s.closed||(s.next(r),s.numberOfNextedValues>=this.maxWindowSize&&this.closeWindow(s))}},e.prototype._error=function(r){for(var n=this.windows;n.length>0;)n.shift().error(r);this.destination.error(r)},e.prototype._complete=function(){for(var r=this.windows;r.length>0;){var n=r.shift();n.closed||n.complete()}this.destination.complete()},e.prototype.openWindow=function(){var r=new Ob;this.windows.push(r);var n=this.destination;return n.next(r),r},e.prototype.closeWindow=function(r){r.complete();var n=this.windows;n.splice(n.indexOf(r),1)},e}(se);function Bb(t){var e=t.subscriber,r=t.windowTimeSpan,n=t.window;n&&e.closeWindow(n),t.window=e.openWindow(),this.schedule(t,r)}function Pb(t){var e=t.windowTimeSpan,r=t.subscriber,n=t.scheduler,i=t.windowCreationInterval,o=r.openWindow(),s=this,a={action:s,subscription:null},f={subscriber:r,window:o,context:a};a.subscription=n.schedule(Yl,e,f),s.add(a.subscription),s.schedule(t,i)}function Yl(t){var e=t.subscriber,r=t.window,n=t.context;n&&n.action&&n.subscription&&n.action.remove(n.subscription),e.closeWindow(r)}function Lb(t,e){return function(r){return r.lift(new Db(t,e))}}var Db=function(){function t(e,r){this.openings=e,this.closingSelector=r}return t.prototype.call=function(e,r){return r.subscribe(new Fb(e,this.openings,this.closingSelector))},t}(),Fb=function(t){Z(e,t);function e(r,n,i){var o=t.call(this,r)||this;return o.openings=n,o.closingSelector=i,o.contexts=[],o.add(o.openSubscription=Qt(o,n,n)),o}return e.prototype._next=function(r){var n=this.contexts;if(n)for(var i=n.length,o=0;o<i;o++)n[o].window.next(r)},e.prototype._error=function(r){var n=this.contexts;if(this.contexts=null,n)for(var i=n.length,o=-1;++o<i;){var s=n[o];s.window.error(r),s.subscription.unsubscribe()}t.prototype._error.call(this,r)},e.prototype._complete=function(){var r=this.contexts;if(this.contexts=null,r)for(var n=r.length,i=-1;++i<n;){var o=r[i];o.window.complete(),o.subscription.unsubscribe()}t.prototype._complete.call(this)},e.prototype._unsubscribe=function(){var r=this.contexts;if(this.contexts=null,r)for(var n=r.length,i=-1;++i<n;){var o=r[i];o.window.unsubscribe(),o.subscription.unsubscribe()}},e.prototype.notifyNext=function(r,n,i,o,s){if(r===this.openings){var a=void 0;try{var f=this.closingSelector;a=f(n)}catch(C){return this.error(C)}var p=new ft,g=new tt,I={window:p,subscription:g};this.contexts.push(I);var m=Qt(this,a,I);m.closed?this.closeWindow(this.contexts.length-1):(m.context=I,g.add(m)),this.destination.next(p)}else this.closeWindow(this.contexts.indexOf(r))},e.prototype.notifyError=function(r){this.error(r)},e.prototype.notifyComplete=function(r){r!==this.openSubscription&&this.closeWindow(this.contexts.indexOf(r.context))},e.prototype.closeWindow=function(r){if(r!==-1){var n=this.contexts,i=n[r],o=i.window,s=i.subscription;n.splice(r,1),o.complete(),s.unsubscribe()}},e}(Vr);function jb(t){return function(r){return r.lift(new $b(t))}}var $b=function(){function t(e){this.closingSelector=e}return t.prototype.call=function(e,r){return r.subscribe(new Ub(e,this.closingSelector))},t}(),Ub=function(t){Z(e,t);function e(r,n){var i=t.call(this,r)||this;return i.destination=r,i.closingSelector=n,i.openWindow(),i}return e.prototype.notifyNext=function(r,n,i,o,s){this.openWindow(s)},e.prototype.notifyError=function(r){this._error(r)},e.prototype.notifyComplete=function(r){this.openWindow(r)},e.prototype._next=function(r){this.window.next(r)},e.prototype._error=function(r){this.window.error(r),this.destination.error(r),this.unsubscribeClosingNotification()},e.prototype._complete=function(){this.window.complete(),this.destination.complete(),this.unsubscribeClosingNotification()},e.prototype.unsubscribeClosingNotification=function(){this.closingNotification&&this.closingNotification.unsubscribe()},e.prototype.openWindow=function(r){r===void 0&&(r=null),r&&(this.remove(r),r.unsubscribe());var n=this.window;n&&n.complete();var i=this.window=new ft;this.destination.next(i);var o;try{var s=this.closingSelector;o=s()}catch(a){this.destination.error(a),this.window.error(a);return}this.add(this.closingNotification=Qt(this,o))},e}(Vr);function Wb(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return function(r){var n;typeof t[t.length-1]=="function"&&(n=t.pop());var i=t;return r.lift(new Hb(i,n))}}var Hb=function(){function t(e,r){this.observables=e,this.project=r}return t.prototype.call=function(e,r){return r.subscribe(new Vb(e,this.observables,this.project))},t}(),Vb=function(t){Z(e,t);function e(r,n,i){var o=t.call(this,r)||this;o.observables=n,o.project=i,o.toRespond=[];var s=n.length;o.values=new Array(s);for(var a=0;a<s;a++)o.toRespond.push(a);for(var a=0;a<s;a++){var f=n[a];o.add(Qt(o,f,void 0,a))}return o}return e.prototype.notifyNext=function(r,n,i){this.values[i]=n;var o=this.toRespond;if(o.length>0){var s=o.indexOf(i);s!==-1&&o.splice(s,1)}},e.prototype.notifyComplete=function(){},e.prototype._next=function(r){if(this.toRespond.length===0){var n=[r].concat(this.values);this.project?this._tryProject(n):this.destination.next(n)}},e.prototype._tryProject=function(r){var n;try{n=this.project.apply(this,r)}catch(i){this.destination.error(i);return}this.destination.next(n)},e}(Vr);function zb(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return function(n){return n.lift.call(jl.apply(void 0,[n].concat(t)))}}function qb(t){return function(e){return e.lift(new $l(t))}}const Gb=Object.freeze(Object.defineProperty({__proto__:null,audit:Ul,auditTime:Gp,buffer:Zp,bufferCount:Qp,bufferTime:t0,bufferToggle:s0,bufferWhen:c0,catchError:h0,combineAll:g0,combineLatest:y0,concat:b0,concatAll:Rl,concatMap:Hl,concatMapTo:v0,count:m0,debounce:S0,debounceTime:M0,defaultIfEmpty:vi,delay:T0,delayWhen:P0,dematerialize:j0,distinct:W0,distinctUntilChanged:zl,distinctUntilKeyChanged:G0,elementAt:X0,endWith:eg,every:tg,exhaust:ig,exhaustMap:ql,expand:cg,filter:pr,finalize:hg,find:gg,findIndex:bg,first:vg,groupBy:Ad,ignoreElements:mg,isEmpty:Sg,last:Cg,map:Bt,mapTo:kg,materialize:Tg,max:Lg,merge:Dg,mergeAll:Oa,mergeMap:Ur,flatMap:vp,mergeMapTo:Fg,mergeScan:jg,min:Wg,multicast:Wr,observeOn:Ld,onErrorResumeNext:Vg,pairwise:Gg,partition:Yg,pluck:Qg,publish:Xg,publishBehavior:ey,publishLast:ty,publishReplay:ry,race:ny,reduce:Eo,repeat:iy,repeatWhen:sy,retry:cy,retryWhen:hy,refCount:Ca,sample:gy,sampleTime:vy,scan:ro,sequenceEqual:Sy,share:Cy,shareReplay:ky,single:Ry,skip:Ny,skipLast:Ly,skipUntil:jy,skipWhile:Wy,startWith:zy,subscribeOn:Gy,switchAll:Qy,switchMap:li,switchMapTo:Jy,take:Ba,takeLast:to,takeUntil:Xy,takeWhile:rb,tap:ob,throttle:ub,throttleTime:fb,throwIfEmpty:So,timeInterval:gb,timeout:mb,timeoutWith:Kl,timestamp:_b,toArray:Eb,window:xb,windowCount:Cb,windowTime:Rb,windowToggle:Lb,windowWhen:jb,withLatestFrom:Wb,zip:zb,zipAll:qb},Symbol.toStringTag,{value:"Module"})),xo=Rn(Gb);var Ql={exports:{}},Jt={exports:{}},Fn={};/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */(function(t){const e=sd,r=ad,n=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;t.Buffer=a,t.SlowBuffer=B,t.INSPECT_MAX_BYTES=50;const i=2147483647;t.kMaxLength=i,a.TYPED_ARRAY_SUPPORT=o(),!a.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function o(){try{const y=new Uint8Array(1),l={foo:function(){return 42}};return Object.setPrototypeOf(l,Uint8Array.prototype),Object.setPrototypeOf(y,l),y.foo()===42}catch{return!1}}Object.defineProperty(a.prototype,"parent",{enumerable:!0,get:function(){if(!!a.isBuffer(this))return this.buffer}}),Object.defineProperty(a.prototype,"offset",{enumerable:!0,get:function(){if(!!a.isBuffer(this))return this.byteOffset}});function s(y){if(y>i)throw new RangeError('The value "'+y+'" is invalid for option "size"');const l=new Uint8Array(y);return Object.setPrototypeOf(l,a.prototype),l}function a(y,l,h){if(typeof y=="number"){if(typeof l=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return I(y)}return f(y,l,h)}a.poolSize=8192;function f(y,l,h){if(typeof y=="string")return m(y,l);if(ArrayBuffer.isView(y))return N(y);if(y==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof y);if(ot(y,ArrayBuffer)||y&&ot(y.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(ot(y,SharedArrayBuffer)||y&&ot(y.buffer,SharedArrayBuffer)))return H(y,l,h);if(typeof y=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');const w=y.valueOf&&y.valueOf();if(w!=null&&w!==y)return a.from(w,l,h);const P=U(y);if(P)return P;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof y[Symbol.toPrimitive]=="function")return a.from(y[Symbol.toPrimitive]("string"),l,h);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof y)}a.from=function(y,l,h){return f(y,l,h)},Object.setPrototypeOf(a.prototype,Uint8Array.prototype),Object.setPrototypeOf(a,Uint8Array);function p(y){if(typeof y!="number")throw new TypeError('"size" argument must be of type number');if(y<0)throw new RangeError('The value "'+y+'" is invalid for option "size"')}function g(y,l,h){return p(y),y<=0?s(y):l!==void 0?typeof h=="string"?s(y).fill(l,h):s(y).fill(l):s(y)}a.alloc=function(y,l,h){return g(y,l,h)};function I(y){return p(y),s(y<0?0:R(y)|0)}a.allocUnsafe=function(y){return I(y)},a.allocUnsafeSlow=function(y){return I(y)};function m(y,l){if((typeof l!="string"||l==="")&&(l="utf8"),!a.isEncoding(l))throw new TypeError("Unknown encoding: "+l);const h=D(y,l)|0;let w=s(h);const P=w.write(y,l);return P!==h&&(w=w.slice(0,P)),w}function C(y){const l=y.length<0?0:R(y.length)|0,h=s(l);for(let w=0;w<l;w+=1)h[w]=y[w]&255;return h}function N(y){if(ot(y,Uint8Array)){const l=new Uint8Array(y);return H(l.buffer,l.byteOffset,l.byteLength)}return C(y)}function H(y,l,h){if(l<0||y.byteLength<l)throw new RangeError('"offset" is outside of buffer bounds');if(y.byteLength<l+(h||0))throw new RangeError('"length" is outside of buffer bounds');let w;return l===void 0&&h===void 0?w=new Uint8Array(y):h===void 0?w=new Uint8Array(y,l):w=new Uint8Array(y,l,h),Object.setPrototypeOf(w,a.prototype),w}function U(y){if(a.isBuffer(y)){const l=R(y.length)|0,h=s(l);return h.length===0||y.copy(h,0,0,l),h}if(y.length!==void 0)return typeof y.length!="number"||Ie(y.length)?s(0):C(y);if(y.type==="Buffer"&&Array.isArray(y.data))return C(y.data)}function R(y){if(y>=i)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+i.toString(16)+" bytes");return y|0}function B(y){return+y!=y&&(y=0),a.alloc(+y)}a.isBuffer=function(l){return l!=null&&l._isBuffer===!0&&l!==a.prototype},a.compare=function(l,h){if(ot(l,Uint8Array)&&(l=a.from(l,l.offset,l.byteLength)),ot(h,Uint8Array)&&(h=a.from(h,h.offset,h.byteLength)),!a.isBuffer(l)||!a.isBuffer(h))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(l===h)return 0;let w=l.length,P=h.length;for(let F=0,W=Math.min(w,P);F<W;++F)if(l[F]!==h[F]){w=l[F],P=h[F];break}return w<P?-1:P<w?1:0},a.isEncoding=function(l){switch(String(l).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},a.concat=function(l,h){if(!Array.isArray(l))throw new TypeError('"list" argument must be an Array of Buffers');if(l.length===0)return a.alloc(0);let w;if(h===void 0)for(h=0,w=0;w<l.length;++w)h+=l[w].length;const P=a.allocUnsafe(h);let F=0;for(w=0;w<l.length;++w){let W=l[w];if(ot(W,Uint8Array))F+W.length>P.length?(a.isBuffer(W)||(W=a.from(W)),W.copy(P,F)):Uint8Array.prototype.set.call(P,W,F);else if(a.isBuffer(W))W.copy(P,F);else throw new TypeError('"list" argument must be an Array of Buffers');F+=W.length}return P};function D(y,l){if(a.isBuffer(y))return y.length;if(ArrayBuffer.isView(y)||ot(y,ArrayBuffer))return y.byteLength;if(typeof y!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof y);const h=y.length,w=arguments.length>2&&arguments[2]===!0;if(!w&&h===0)return 0;let P=!1;for(;;)switch(l){case"ascii":case"latin1":case"binary":return h;case"utf8":case"utf-8":return ie(y).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return h*2;case"hex":return h>>>1;case"base64":return Ce(y).length;default:if(P)return w?-1:ie(y).length;l=(""+l).toLowerCase(),P=!0}}a.byteLength=D;function G(y,l,h){let w=!1;if((l===void 0||l<0)&&(l=0),l>this.length||((h===void 0||h>this.length)&&(h=this.length),h<=0)||(h>>>=0,l>>>=0,h<=l))return"";for(y||(y="utf8");;)switch(y){case"hex":return T(this,l,h);case"utf8":case"utf-8":return u(this,l,h);case"ascii":return x(this,l,h);case"latin1":case"binary":return A(this,l,h);case"base64":return M(this,l,h);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return L(this,l,h);default:if(w)throw new TypeError("Unknown encoding: "+y);y=(y+"").toLowerCase(),w=!0}}a.prototype._isBuffer=!0;function Q(y,l,h){const w=y[l];y[l]=y[h],y[h]=w}a.prototype.swap16=function(){const l=this.length;if(l%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let h=0;h<l;h+=2)Q(this,h,h+1);return this},a.prototype.swap32=function(){const l=this.length;if(l%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let h=0;h<l;h+=4)Q(this,h,h+3),Q(this,h+1,h+2);return this},a.prototype.swap64=function(){const l=this.length;if(l%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let h=0;h<l;h+=8)Q(this,h,h+7),Q(this,h+1,h+6),Q(this,h+2,h+5),Q(this,h+3,h+4);return this},a.prototype.toString=function(){const l=this.length;return l===0?"":arguments.length===0?u(this,0,l):G.apply(this,arguments)},a.prototype.toLocaleString=a.prototype.toString,a.prototype.equals=function(l){if(!a.isBuffer(l))throw new TypeError("Argument must be a Buffer");return this===l?!0:a.compare(this,l)===0},a.prototype.inspect=function(){let l="";const h=t.INSPECT_MAX_BYTES;return l=this.toString("hex",0,h).replace(/(.{2})/g,"$1 ").trim(),this.length>h&&(l+=" ... "),"<Buffer "+l+">"},n&&(a.prototype[n]=a.prototype.inspect),a.prototype.compare=function(l,h,w,P,F){if(ot(l,Uint8Array)&&(l=a.from(l,l.offset,l.byteLength)),!a.isBuffer(l))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof l);if(h===void 0&&(h=0),w===void 0&&(w=l?l.length:0),P===void 0&&(P=0),F===void 0&&(F=this.length),h<0||w>l.length||P<0||F>this.length)throw new RangeError("out of range index");if(P>=F&&h>=w)return 0;if(P>=F)return-1;if(h>=w)return 1;if(h>>>=0,w>>>=0,P>>>=0,F>>>=0,this===l)return 0;let W=F-P,de=w-h;const he=Math.min(W,de),le=this.slice(P,F),Ne=l.slice(h,w);for(let ce=0;ce<he;++ce)if(le[ce]!==Ne[ce]){W=le[ce],de=Ne[ce];break}return W<de?-1:de<W?1:0};function J(y,l,h,w,P){if(y.length===0)return-1;if(typeof h=="string"?(w=h,h=0):h>2147483647?h=2147483647:h<-2147483648&&(h=-2147483648),h=+h,Ie(h)&&(h=P?0:y.length-1),h<0&&(h=y.length+h),h>=y.length){if(P)return-1;h=y.length-1}else if(h<0)if(P)h=0;else return-1;if(typeof l=="string"&&(l=a.from(l,w)),a.isBuffer(l))return l.length===0?-1:te(y,l,h,w,P);if(typeof l=="number")return l=l&255,typeof Uint8Array.prototype.indexOf=="function"?P?Uint8Array.prototype.indexOf.call(y,l,h):Uint8Array.prototype.lastIndexOf.call(y,l,h):te(y,[l],h,w,P);throw new TypeError("val must be string, number or Buffer")}function te(y,l,h,w,P){let F=1,W=y.length,de=l.length;if(w!==void 0&&(w=String(w).toLowerCase(),w==="ucs2"||w==="ucs-2"||w==="utf16le"||w==="utf-16le")){if(y.length<2||l.length<2)return-1;F=2,W/=2,de/=2,h/=2}function he(Ne,ce){return F===1?Ne[ce]:Ne.readUInt16BE(ce*F)}let le;if(P){let Ne=-1;for(le=h;le<W;le++)if(he(y,le)===he(l,Ne===-1?0:le-Ne)){if(Ne===-1&&(Ne=le),le-Ne+1===de)return Ne*F}else Ne!==-1&&(le-=le-Ne),Ne=-1}else for(h+de>W&&(h=W-de),le=h;le>=0;le--){let Ne=!0;for(let ce=0;ce<de;ce++)if(he(y,le+ce)!==he(l,ce)){Ne=!1;break}if(Ne)return le}return-1}a.prototype.includes=function(l,h,w){return this.indexOf(l,h,w)!==-1},a.prototype.indexOf=function(l,h,w){return J(this,l,h,w,!0)},a.prototype.lastIndexOf=function(l,h,w){return J(this,l,h,w,!1)};function re(y,l,h,w){h=Number(h)||0;const P=y.length-h;w?(w=Number(w),w>P&&(w=P)):w=P;const F=l.length;w>F/2&&(w=F/2);let W;for(W=0;W<w;++W){const de=parseInt(l.substr(W*2,2),16);if(Ie(de))return W;y[h+W]=de}return W}function ee(y,l,h,w){return ke(ie(l,y.length-h),y,h,w)}function ye(y,l,h,w){return ke(Me(l),y,h,w)}function oe(y,l,h,w){return ke(Ce(l),y,h,w)}function ae(y,l,h,w){return ke(V(l,y.length-h),y,h,w)}a.prototype.write=function(l,h,w,P){if(h===void 0)P="utf8",w=this.length,h=0;else if(w===void 0&&typeof h=="string")P=h,w=this.length,h=0;else if(isFinite(h))h=h>>>0,isFinite(w)?(w=w>>>0,P===void 0&&(P="utf8")):(P=w,w=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");const F=this.length-h;if((w===void 0||w>F)&&(w=F),l.length>0&&(w<0||h<0)||h>this.length)throw new RangeError("Attempt to write outside buffer bounds");P||(P="utf8");let W=!1;for(;;)switch(P){case"hex":return re(this,l,h,w);case"utf8":case"utf-8":return ee(this,l,h,w);case"ascii":case"latin1":case"binary":return ye(this,l,h,w);case"base64":return oe(this,l,h,w);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return ae(this,l,h,w);default:if(W)throw new TypeError("Unknown encoding: "+P);P=(""+P).toLowerCase(),W=!0}},a.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function M(y,l,h){return l===0&&h===y.length?e.fromByteArray(y):e.fromByteArray(y.slice(l,h))}function u(y,l,h){h=Math.min(y.length,h);const w=[];let P=l;for(;P<h;){const F=y[P];let W=null,de=F>239?4:F>223?3:F>191?2:1;if(P+de<=h){let he,le,Ne,ce;switch(de){case 1:F<128&&(W=F);break;case 2:he=y[P+1],(he&192)===128&&(ce=(F&31)<<6|he&63,ce>127&&(W=ce));break;case 3:he=y[P+1],le=y[P+2],(he&192)===128&&(le&192)===128&&(ce=(F&15)<<12|(he&63)<<6|le&63,ce>2047&&(ce<55296||ce>57343)&&(W=ce));break;case 4:he=y[P+1],le=y[P+2],Ne=y[P+3],(he&192)===128&&(le&192)===128&&(Ne&192)===128&&(ce=(F&15)<<18|(he&63)<<12|(le&63)<<6|Ne&63,ce>65535&&ce<1114112&&(W=ce))}}W===null?(W=65533,de=1):W>65535&&(W-=65536,w.push(W>>>10&1023|55296),W=56320|W&1023),w.push(W),P+=de}return v(w)}const d=4096;function v(y){const l=y.length;if(l<=d)return String.fromCharCode.apply(String,y);let h="",w=0;for(;w<l;)h+=String.fromCharCode.apply(String,y.slice(w,w+=d));return h}function x(y,l,h){let w="";h=Math.min(y.length,h);for(let P=l;P<h;++P)w+=String.fromCharCode(y[P]&127);return w}function A(y,l,h){let w="";h=Math.min(y.length,h);for(let P=l;P<h;++P)w+=String.fromCharCode(y[P]);return w}function T(y,l,h){const w=y.length;(!l||l<0)&&(l=0),(!h||h<0||h>w)&&(h=w);let P="";for(let F=l;F<h;++F)P+=Oe[y[F]];return P}function L(y,l,h){const w=y.slice(l,h);let P="";for(let F=0;F<w.length-1;F+=2)P+=String.fromCharCode(w[F]+w[F+1]*256);return P}a.prototype.slice=function(l,h){const w=this.length;l=~~l,h=h===void 0?w:~~h,l<0?(l+=w,l<0&&(l=0)):l>w&&(l=w),h<0?(h+=w,h<0&&(h=0)):h>w&&(h=w),h<l&&(h=l);const P=this.subarray(l,h);return Object.setPrototypeOf(P,a.prototype),P};function S(y,l,h){if(y%1!==0||y<0)throw new RangeError("offset is not uint");if(y+l>h)throw new RangeError("Trying to access beyond buffer length")}a.prototype.readUintLE=a.prototype.readUIntLE=function(l,h,w){l=l>>>0,h=h>>>0,w||S(l,h,this.length);let P=this[l],F=1,W=0;for(;++W<h&&(F*=256);)P+=this[l+W]*F;return P},a.prototype.readUintBE=a.prototype.readUIntBE=function(l,h,w){l=l>>>0,h=h>>>0,w||S(l,h,this.length);let P=this[l+--h],F=1;for(;h>0&&(F*=256);)P+=this[l+--h]*F;return P},a.prototype.readUint8=a.prototype.readUInt8=function(l,h){return l=l>>>0,h||S(l,1,this.length),this[l]},a.prototype.readUint16LE=a.prototype.readUInt16LE=function(l,h){return l=l>>>0,h||S(l,2,this.length),this[l]|this[l+1]<<8},a.prototype.readUint16BE=a.prototype.readUInt16BE=function(l,h){return l=l>>>0,h||S(l,2,this.length),this[l]<<8|this[l+1]},a.prototype.readUint32LE=a.prototype.readUInt32LE=function(l,h){return l=l>>>0,h||S(l,4,this.length),(this[l]|this[l+1]<<8|this[l+2]<<16)+this[l+3]*16777216},a.prototype.readUint32BE=a.prototype.readUInt32BE=function(l,h){return l=l>>>0,h||S(l,4,this.length),this[l]*16777216+(this[l+1]<<16|this[l+2]<<8|this[l+3])},a.prototype.readBigUInt64LE=st(function(l){l=l>>>0,q(l,"offset");const h=this[l],w=this[l+7];(h===void 0||w===void 0)&&Y(l,this.length-8);const P=h+this[++l]*2**8+this[++l]*2**16+this[++l]*2**24,F=this[++l]+this[++l]*2**8+this[++l]*2**16+w*2**24;return BigInt(P)+(BigInt(F)<<BigInt(32))}),a.prototype.readBigUInt64BE=st(function(l){l=l>>>0,q(l,"offset");const h=this[l],w=this[l+7];(h===void 0||w===void 0)&&Y(l,this.length-8);const P=h*2**24+this[++l]*2**16+this[++l]*2**8+this[++l],F=this[++l]*2**24+this[++l]*2**16+this[++l]*2**8+w;return(BigInt(P)<<BigInt(32))+BigInt(F)}),a.prototype.readIntLE=function(l,h,w){l=l>>>0,h=h>>>0,w||S(l,h,this.length);let P=this[l],F=1,W=0;for(;++W<h&&(F*=256);)P+=this[l+W]*F;return F*=128,P>=F&&(P-=Math.pow(2,8*h)),P},a.prototype.readIntBE=function(l,h,w){l=l>>>0,h=h>>>0,w||S(l,h,this.length);let P=h,F=1,W=this[l+--P];for(;P>0&&(F*=256);)W+=this[l+--P]*F;return F*=128,W>=F&&(W-=Math.pow(2,8*h)),W},a.prototype.readInt8=function(l,h){return l=l>>>0,h||S(l,1,this.length),this[l]&128?(255-this[l]+1)*-1:this[l]},a.prototype.readInt16LE=function(l,h){l=l>>>0,h||S(l,2,this.length);const w=this[l]|this[l+1]<<8;return w&32768?w|4294901760:w},a.prototype.readInt16BE=function(l,h){l=l>>>0,h||S(l,2,this.length);const w=this[l+1]|this[l]<<8;return w&32768?w|4294901760:w},a.prototype.readInt32LE=function(l,h){return l=l>>>0,h||S(l,4,this.length),this[l]|this[l+1]<<8|this[l+2]<<16|this[l+3]<<24},a.prototype.readInt32BE=function(l,h){return l=l>>>0,h||S(l,4,this.length),this[l]<<24|this[l+1]<<16|this[l+2]<<8|this[l+3]},a.prototype.readBigInt64LE=st(function(l){l=l>>>0,q(l,"offset");const h=this[l],w=this[l+7];(h===void 0||w===void 0)&&Y(l,this.length-8);const P=this[l+4]+this[l+5]*2**8+this[l+6]*2**16+(w<<24);return(BigInt(P)<<BigInt(32))+BigInt(h+this[++l]*2**8+this[++l]*2**16+this[++l]*2**24)}),a.prototype.readBigInt64BE=st(function(l){l=l>>>0,q(l,"offset");const h=this[l],w=this[l+7];(h===void 0||w===void 0)&&Y(l,this.length-8);const P=(h<<24)+this[++l]*2**16+this[++l]*2**8+this[++l];return(BigInt(P)<<BigInt(32))+BigInt(this[++l]*2**24+this[++l]*2**16+this[++l]*2**8+w)}),a.prototype.readFloatLE=function(l,h){return l=l>>>0,h||S(l,4,this.length),r.read(this,l,!0,23,4)},a.prototype.readFloatBE=function(l,h){return l=l>>>0,h||S(l,4,this.length),r.read(this,l,!1,23,4)},a.prototype.readDoubleLE=function(l,h){return l=l>>>0,h||S(l,8,this.length),r.read(this,l,!0,52,8)},a.prototype.readDoubleBE=function(l,h){return l=l>>>0,h||S(l,8,this.length),r.read(this,l,!1,52,8)};function c(y,l,h,w,P,F){if(!a.isBuffer(y))throw new TypeError('"buffer" argument must be a Buffer instance');if(l>P||l<F)throw new RangeError('"value" argument is out of bounds');if(h+w>y.length)throw new RangeError("Index out of range")}a.prototype.writeUintLE=a.prototype.writeUIntLE=function(l,h,w,P){if(l=+l,h=h>>>0,w=w>>>0,!P){const de=Math.pow(2,8*w)-1;c(this,l,h,w,de,0)}let F=1,W=0;for(this[h]=l&255;++W<w&&(F*=256);)this[h+W]=l/F&255;return h+w},a.prototype.writeUintBE=a.prototype.writeUIntBE=function(l,h,w,P){if(l=+l,h=h>>>0,w=w>>>0,!P){const de=Math.pow(2,8*w)-1;c(this,l,h,w,de,0)}let F=w-1,W=1;for(this[h+F]=l&255;--F>=0&&(W*=256);)this[h+F]=l/W&255;return h+w},a.prototype.writeUint8=a.prototype.writeUInt8=function(l,h,w){return l=+l,h=h>>>0,w||c(this,l,h,1,255,0),this[h]=l&255,h+1},a.prototype.writeUint16LE=a.prototype.writeUInt16LE=function(l,h,w){return l=+l,h=h>>>0,w||c(this,l,h,2,65535,0),this[h]=l&255,this[h+1]=l>>>8,h+2},a.prototype.writeUint16BE=a.prototype.writeUInt16BE=function(l,h,w){return l=+l,h=h>>>0,w||c(this,l,h,2,65535,0),this[h]=l>>>8,this[h+1]=l&255,h+2},a.prototype.writeUint32LE=a.prototype.writeUInt32LE=function(l,h,w){return l=+l,h=h>>>0,w||c(this,l,h,4,4294967295,0),this[h+3]=l>>>24,this[h+2]=l>>>16,this[h+1]=l>>>8,this[h]=l&255,h+4},a.prototype.writeUint32BE=a.prototype.writeUInt32BE=function(l,h,w){return l=+l,h=h>>>0,w||c(this,l,h,4,4294967295,0),this[h]=l>>>24,this[h+1]=l>>>16,this[h+2]=l>>>8,this[h+3]=l&255,h+4};function b(y,l,h,w,P){E(l,w,P,y,h,7);let F=Number(l&BigInt(4294967295));y[h++]=F,F=F>>8,y[h++]=F,F=F>>8,y[h++]=F,F=F>>8,y[h++]=F;let W=Number(l>>BigInt(32)&BigInt(4294967295));return y[h++]=W,W=W>>8,y[h++]=W,W=W>>8,y[h++]=W,W=W>>8,y[h++]=W,h}function $(y,l,h,w,P){E(l,w,P,y,h,7);let F=Number(l&BigInt(4294967295));y[h+7]=F,F=F>>8,y[h+6]=F,F=F>>8,y[h+5]=F,F=F>>8,y[h+4]=F;let W=Number(l>>BigInt(32)&BigInt(4294967295));return y[h+3]=W,W=W>>8,y[h+2]=W,W=W>>8,y[h+1]=W,W=W>>8,y[h]=W,h+8}a.prototype.writeBigUInt64LE=st(function(l,h=0){return b(this,l,h,BigInt(0),BigInt("0xffffffffffffffff"))}),a.prototype.writeBigUInt64BE=st(function(l,h=0){return $(this,l,h,BigInt(0),BigInt("0xffffffffffffffff"))}),a.prototype.writeIntLE=function(l,h,w,P){if(l=+l,h=h>>>0,!P){const he=Math.pow(2,8*w-1);c(this,l,h,w,he-1,-he)}let F=0,W=1,de=0;for(this[h]=l&255;++F<w&&(W*=256);)l<0&&de===0&&this[h+F-1]!==0&&(de=1),this[h+F]=(l/W>>0)-de&255;return h+w},a.prototype.writeIntBE=function(l,h,w,P){if(l=+l,h=h>>>0,!P){const he=Math.pow(2,8*w-1);c(this,l,h,w,he-1,-he)}let F=w-1,W=1,de=0;for(this[h+F]=l&255;--F>=0&&(W*=256);)l<0&&de===0&&this[h+F+1]!==0&&(de=1),this[h+F]=(l/W>>0)-de&255;return h+w},a.prototype.writeInt8=function(l,h,w){return l=+l,h=h>>>0,w||c(this,l,h,1,127,-128),l<0&&(l=255+l+1),this[h]=l&255,h+1},a.prototype.writeInt16LE=function(l,h,w){return l=+l,h=h>>>0,w||c(this,l,h,2,32767,-32768),this[h]=l&255,this[h+1]=l>>>8,h+2},a.prototype.writeInt16BE=function(l,h,w){return l=+l,h=h>>>0,w||c(this,l,h,2,32767,-32768),this[h]=l>>>8,this[h+1]=l&255,h+2},a.prototype.writeInt32LE=function(l,h,w){return l=+l,h=h>>>0,w||c(this,l,h,4,2147483647,-2147483648),this[h]=l&255,this[h+1]=l>>>8,this[h+2]=l>>>16,this[h+3]=l>>>24,h+4},a.prototype.writeInt32BE=function(l,h,w){return l=+l,h=h>>>0,w||c(this,l,h,4,2147483647,-2147483648),l<0&&(l=4294967295+l+1),this[h]=l>>>24,this[h+1]=l>>>16,this[h+2]=l>>>8,this[h+3]=l&255,h+4},a.prototype.writeBigInt64LE=st(function(l,h=0){return b(this,l,h,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),a.prototype.writeBigInt64BE=st(function(l,h=0){return $(this,l,h,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function K(y,l,h,w,P,F){if(h+w>y.length)throw new RangeError("Index out of range");if(h<0)throw new RangeError("Index out of range")}function k(y,l,h,w,P){return l=+l,h=h>>>0,P||K(y,l,h,4),r.write(y,l,h,w,23,4),h+4}a.prototype.writeFloatLE=function(l,h,w){return k(this,l,h,!0,w)},a.prototype.writeFloatBE=function(l,h,w){return k(this,l,h,!1,w)};function O(y,l,h,w,P){return l=+l,h=h>>>0,P||K(y,l,h,8),r.write(y,l,h,w,52,8),h+8}a.prototype.writeDoubleLE=function(l,h,w){return O(this,l,h,!0,w)},a.prototype.writeDoubleBE=function(l,h,w){return O(this,l,h,!1,w)},a.prototype.copy=function(l,h,w,P){if(!a.isBuffer(l))throw new TypeError("argument should be a Buffer");if(w||(w=0),!P&&P!==0&&(P=this.length),h>=l.length&&(h=l.length),h||(h=0),P>0&&P<w&&(P=w),P===w||l.length===0||this.length===0)return 0;if(h<0)throw new RangeError("targetStart out of bounds");if(w<0||w>=this.length)throw new RangeError("Index out of range");if(P<0)throw new RangeError("sourceEnd out of bounds");P>this.length&&(P=this.length),l.length-h<P-w&&(P=l.length-h+w);const F=P-w;return this===l&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(h,w,P):Uint8Array.prototype.set.call(l,this.subarray(w,P),h),F},a.prototype.fill=function(l,h,w,P){if(typeof l=="string"){if(typeof h=="string"?(P=h,h=0,w=this.length):typeof w=="string"&&(P=w,w=this.length),P!==void 0&&typeof P!="string")throw new TypeError("encoding must be a string");if(typeof P=="string"&&!a.isEncoding(P))throw new TypeError("Unknown encoding: "+P);if(l.length===1){const W=l.charCodeAt(0);(P==="utf8"&&W<128||P==="latin1")&&(l=W)}}else typeof l=="number"?l=l&255:typeof l=="boolean"&&(l=Number(l));if(h<0||this.length<h||this.length<w)throw new RangeError("Out of range index");if(w<=h)return this;h=h>>>0,w=w===void 0?this.length:w>>>0,l||(l=0);let F;if(typeof l=="number")for(F=h;F<w;++F)this[F]=l;else{const W=a.isBuffer(l)?l:a.from(l,P),de=W.length;if(de===0)throw new TypeError('The value "'+l+'" is invalid for argument "value"');for(F=0;F<w-h;++F)this[F+h]=W[F%de]}return this};const j={};function z(y,l,h){j[y]=class extends h{constructor(){super(),Object.defineProperty(this,"message",{value:l.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${y}]`,this.stack,delete this.name}get code(){return y}set code(P){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:P,writable:!0})}toString(){return`${this.name} [${y}]: ${this.message}`}}}z("ERR_BUFFER_OUT_OF_BOUNDS",function(y){return y?`${y} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),z("ERR_INVALID_ARG_TYPE",function(y,l){return`The "${y}" argument must be of type number. Received type ${typeof l}`},TypeError),z("ERR_OUT_OF_RANGE",function(y,l,h){let w=`The value of "${y}" is out of range.`,P=h;return Number.isInteger(h)&&Math.abs(h)>2**32?P=X(String(h)):typeof h=="bigint"&&(P=String(h),(h>BigInt(2)**BigInt(32)||h<-(BigInt(2)**BigInt(32)))&&(P=X(P)),P+="n"),w+=` It must be ${l}. Received ${P}`,w},RangeError);function X(y){let l="",h=y.length;const w=y[0]==="-"?1:0;for(;h>=w+4;h-=3)l=`_${y.slice(h-3,h)}${l}`;return`${y.slice(0,h)}${l}`}function _(y,l,h){q(l,"offset"),(y[l]===void 0||y[l+h]===void 0)&&Y(l,y.length-(h+1))}function E(y,l,h,w,P,F){if(y>h||y<l){const W=typeof l=="bigint"?"n":"";let de;throw F>3?l===0||l===BigInt(0)?de=`>= 0${W} and < 2${W} ** ${(F+1)*8}${W}`:de=`>= -(2${W} ** ${(F+1)*8-1}${W}) and < 2 ** ${(F+1)*8-1}${W}`:de=`>= ${l}${W} and <= ${h}${W}`,new j.ERR_OUT_OF_RANGE("value",de,y)}_(w,P,F)}function q(y,l){if(typeof y!="number")throw new j.ERR_INVALID_ARG_TYPE(l,"number",y)}function Y(y,l,h){throw Math.floor(y)!==y?(q(y,h),new j.ERR_OUT_OF_RANGE(h||"offset","an integer",y)):l<0?new j.ERR_BUFFER_OUT_OF_BOUNDS:new j.ERR_OUT_OF_RANGE(h||"offset",`>= ${h?1:0} and <= ${l}`,y)}const ue=/[^+/0-9A-Za-z-_]/g;function fe(y){if(y=y.split("=")[0],y=y.trim().replace(ue,""),y.length<2)return"";for(;y.length%4!==0;)y=y+"=";return y}function ie(y,l){l=l||1/0;let h;const w=y.length;let P=null;const F=[];for(let W=0;W<w;++W){if(h=y.charCodeAt(W),h>55295&&h<57344){if(!P){if(h>56319){(l-=3)>-1&&F.push(239,191,189);continue}else if(W+1===w){(l-=3)>-1&&F.push(239,191,189);continue}P=h;continue}if(h<56320){(l-=3)>-1&&F.push(239,191,189),P=h;continue}h=(P-55296<<10|h-56320)+65536}else P&&(l-=3)>-1&&F.push(239,191,189);if(P=null,h<128){if((l-=1)<0)break;F.push(h)}else if(h<2048){if((l-=2)<0)break;F.push(h>>6|192,h&63|128)}else if(h<65536){if((l-=3)<0)break;F.push(h>>12|224,h>>6&63|128,h&63|128)}else if(h<1114112){if((l-=4)<0)break;F.push(h>>18|240,h>>12&63|128,h>>6&63|128,h&63|128)}else throw new Error("Invalid code point")}return F}function Me(y){const l=[];for(let h=0;h<y.length;++h)l.push(y.charCodeAt(h)&255);return l}function V(y,l){let h,w,P;const F=[];for(let W=0;W<y.length&&!((l-=2)<0);++W)h=y.charCodeAt(W),w=h>>8,P=h%256,F.push(P),F.push(w);return F}function Ce(y){return e.toByteArray(fe(y))}function ke(y,l,h,w){let P;for(P=0;P<w&&!(P+h>=l.length||P>=y.length);++P)l[P+h]=y[P];return P}function ot(y,l){return y instanceof l||y!=null&&y.constructor!=null&&y.constructor.name!=null&&y.constructor.name===l.name}function Ie(y){return y!==y}const Oe=function(){const y="0123456789abcdef",l=new Array(256);for(let h=0;h<16;++h){const w=h*16;for(let P=0;P<16;++P)l[w+P]=y[h]+y[P]}return l}();function st(y){return typeof BigInt>"u"?Re:y}function Re(){throw new Error("BigInt not supported")}})(Fn);(function(t,e){var r=Fn,n=r.Buffer;function i(s,a){for(var f in s)a[f]=s[f]}n.from&&n.alloc&&n.allocUnsafe&&n.allocUnsafeSlow?t.exports=r:(i(r,e),e.Buffer=o);function o(s,a,f){return n(s,a,f)}i(n,o),o.from=function(s,a,f){if(typeof s=="number")throw new TypeError("Argument must not be a number");return n(s,a,f)},o.alloc=function(s,a,f){if(typeof s!="number")throw new TypeError("Argument must be a number");var p=n(s);return a!==void 0?typeof f=="string"?p.fill(a,f):p.fill(a):p.fill(0),p},o.allocUnsafe=function(s){if(typeof s!="number")throw new TypeError("Argument must be a number");return n(s)},o.allocUnsafeSlow=function(s){if(typeof s!="number")throw new TypeError("Argument must be a number");return r.SlowBuffer(s)}})(Jt,Jt.exports);var Jl=Jt.exports.Buffer;function Mo(t,e){this._block=Jl.alloc(t),this._finalSize=e,this._blockSize=t,this._len=0}Mo.prototype.update=function(t,e){typeof t=="string"&&(e=e||"utf8",t=Jl.from(t,e));for(var r=this._block,n=this._blockSize,i=t.length,o=this._len,s=0;s<i;){for(var a=o%n,f=Math.min(i-s,n-a),p=0;p<f;p++)r[a+p]=t[s+p];o+=f,s+=f,o%n===0&&this._update(r)}return this._len+=i,this};Mo.prototype.digest=function(t){var e=this._len%this._blockSize;this._block[e]=128,this._block.fill(0,e+1),e>=this._finalSize&&(this._update(this._block),this._block.fill(0));var r=this._len*8;if(r<=4294967295)this._block.writeUInt32BE(r,this._blockSize-4);else{var n=(r&4294967295)>>>0,i=(r-n)/4294967296;this._block.writeUInt32BE(i,this._blockSize-8),this._block.writeUInt32BE(n,this._blockSize-4)}this._update(this._block);var o=this._hash();return t?o.toString(t):o};Mo.prototype._update=function(){throw new Error("_update must be implemented by subclass")};var jn=Mo,Zb=Nt.exports,Xl=jn,Kb=Jt.exports.Buffer,Yb=[1518500249,1859775393,-1894007588,-899497514],Qb=new Array(80);function mi(){this.init(),this._w=Qb,Xl.call(this,64,56)}Zb(mi,Xl);mi.prototype.init=function(){return this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,this};function Jb(t){return t<<5|t>>>27}function Xb(t){return t<<30|t>>>2}function ev(t,e,r,n){return t===0?e&r|~e&n:t===2?e&r|e&n|r&n:e^r^n}mi.prototype._update=function(t){for(var e=this._w,r=this._a|0,n=this._b|0,i=this._c|0,o=this._d|0,s=this._e|0,a=0;a<16;++a)e[a]=t.readInt32BE(a*4);for(;a<80;++a)e[a]=e[a-3]^e[a-8]^e[a-14]^e[a-16];for(var f=0;f<80;++f){var p=~~(f/20),g=Jb(r)+ev(p,n,i,o)+s+e[f]+Yb[p]|0;s=o,o=i,i=Xb(n),n=r,r=g}this._a=r+this._a|0,this._b=n+this._b|0,this._c=i+this._c|0,this._d=o+this._d|0,this._e=s+this._e|0};mi.prototype._hash=function(){var t=Kb.allocUnsafe(20);return t.writeInt32BE(this._a|0,0),t.writeInt32BE(this._b|0,4),t.writeInt32BE(this._c|0,8),t.writeInt32BE(this._d|0,12),t.writeInt32BE(this._e|0,16),t};var tv=mi,rv=Nt.exports,ef=jn,nv=Jt.exports.Buffer,iv=[1518500249,1859775393,-1894007588,-899497514],ov=new Array(80);function _i(){this.init(),this._w=ov,ef.call(this,64,56)}rv(_i,ef);_i.prototype.init=function(){return this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,this};function sv(t){return t<<1|t>>>31}function av(t){return t<<5|t>>>27}function uv(t){return t<<30|t>>>2}function cv(t,e,r,n){return t===0?e&r|~e&n:t===2?e&r|e&n|r&n:e^r^n}_i.prototype._update=function(t){for(var e=this._w,r=this._a|0,n=this._b|0,i=this._c|0,o=this._d|0,s=this._e|0,a=0;a<16;++a)e[a]=t.readInt32BE(a*4);for(;a<80;++a)e[a]=sv(e[a-3]^e[a-8]^e[a-14]^e[a-16]);for(var f=0;f<80;++f){var p=~~(f/20),g=av(r)+cv(p,n,i,o)+s+e[f]+iv[p]|0;s=o,o=i,i=uv(n),n=r,r=g}this._a=r+this._a|0,this._b=n+this._b|0,this._c=i+this._c|0,this._d=o+this._d|0,this._e=s+this._e|0};_i.prototype._hash=function(){var t=nv.allocUnsafe(20);return t.writeInt32BE(this._a|0,0),t.writeInt32BE(this._b|0,4),t.writeInt32BE(this._c|0,8),t.writeInt32BE(this._d|0,12),t.writeInt32BE(this._e|0,16),t};var lv=_i,fv=Nt.exports,tf=jn,hv=Jt.exports.Buffer,dv=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],pv=new Array(64);function wi(){this.init(),this._w=pv,tf.call(this,64,56)}fv(wi,tf);wi.prototype.init=function(){return this._a=1779033703,this._b=3144134277,this._c=1013904242,this._d=2773480762,this._e=1359893119,this._f=2600822924,this._g=528734635,this._h=1541459225,this};function gv(t,e,r){return r^t&(e^r)}function yv(t,e,r){return t&e|r&(t|e)}function bv(t){return(t>>>2|t<<30)^(t>>>13|t<<19)^(t>>>22|t<<10)}function vv(t){return(t>>>6|t<<26)^(t>>>11|t<<21)^(t>>>25|t<<7)}function mv(t){return(t>>>7|t<<25)^(t>>>18|t<<14)^t>>>3}function _v(t){return(t>>>17|t<<15)^(t>>>19|t<<13)^t>>>10}wi.prototype._update=function(t){for(var e=this._w,r=this._a|0,n=this._b|0,i=this._c|0,o=this._d|0,s=this._e|0,a=this._f|0,f=this._g|0,p=this._h|0,g=0;g<16;++g)e[g]=t.readInt32BE(g*4);for(;g<64;++g)e[g]=_v(e[g-2])+e[g-7]+mv(e[g-15])+e[g-16]|0;for(var I=0;I<64;++I){var m=p+vv(s)+gv(s,a,f)+dv[I]+e[I]|0,C=bv(r)+yv(r,n,i)|0;p=f,f=a,a=s,s=o+m|0,o=i,i=n,n=r,r=m+C|0}this._a=r+this._a|0,this._b=n+this._b|0,this._c=i+this._c|0,this._d=o+this._d|0,this._e=s+this._e|0,this._f=a+this._f|0,this._g=f+this._g|0,this._h=p+this._h|0};wi.prototype._hash=function(){var t=hv.allocUnsafe(32);return t.writeInt32BE(this._a,0),t.writeInt32BE(this._b,4),t.writeInt32BE(this._c,8),t.writeInt32BE(this._d,12),t.writeInt32BE(this._e,16),t.writeInt32BE(this._f,20),t.writeInt32BE(this._g,24),t.writeInt32BE(this._h,28),t};var rf=wi,wv=Nt.exports,Sv=rf,Ev=jn,xv=Jt.exports.Buffer,Mv=new Array(64);function Ao(){this.init(),this._w=Mv,Ev.call(this,64,56)}wv(Ao,Sv);Ao.prototype.init=function(){return this._a=3238371032,this._b=914150663,this._c=812702999,this._d=4144912697,this._e=4290775857,this._f=1750603025,this._g=1694076839,this._h=3204075428,this};Ao.prototype._hash=function(){var t=xv.allocUnsafe(28);return t.writeInt32BE(this._a,0),t.writeInt32BE(this._b,4),t.writeInt32BE(this._c,8),t.writeInt32BE(this._d,12),t.writeInt32BE(this._e,16),t.writeInt32BE(this._f,20),t.writeInt32BE(this._g,24),t};var Av=Ao,Cv=Nt.exports,nf=jn,kv=Jt.exports.Buffer,Iu=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591],Iv=new Array(160);function Si(){this.init(),this._w=Iv,nf.call(this,128,112)}Cv(Si,nf);Si.prototype.init=function(){return this._ah=1779033703,this._bh=3144134277,this._ch=1013904242,this._dh=2773480762,this._eh=1359893119,this._fh=2600822924,this._gh=528734635,this._hh=1541459225,this._al=4089235720,this._bl=2227873595,this._cl=4271175723,this._dl=1595750129,this._el=2917565137,this._fl=725511199,this._gl=4215389547,this._hl=327033209,this};function Ru(t,e,r){return r^t&(e^r)}function Tu(t,e,r){return t&e|r&(t|e)}function Ou(t,e){return(t>>>28|e<<4)^(e>>>2|t<<30)^(e>>>7|t<<25)}function Nu(t,e){return(t>>>14|e<<18)^(t>>>18|e<<14)^(e>>>9|t<<23)}function Rv(t,e){return(t>>>1|e<<31)^(t>>>8|e<<24)^t>>>7}function Tv(t,e){return(t>>>1|e<<31)^(t>>>8|e<<24)^(t>>>7|e<<25)}function Ov(t,e){return(t>>>19|e<<13)^(e>>>29|t<<3)^t>>>6}function Nv(t,e){return(t>>>19|e<<13)^(e>>>29|t<<3)^(t>>>6|e<<26)}function at(t,e){return t>>>0<e>>>0?1:0}Si.prototype._update=function(t){for(var e=this._w,r=this._ah|0,n=this._bh|0,i=this._ch|0,o=this._dh|0,s=this._eh|0,a=this._fh|0,f=this._gh|0,p=this._hh|0,g=this._al|0,I=this._bl|0,m=this._cl|0,C=this._dl|0,N=this._el|0,H=this._fl|0,U=this._gl|0,R=this._hl|0,B=0;B<32;B+=2)e[B]=t.readInt32BE(B*4),e[B+1]=t.readInt32BE(B*4+4);for(;B<160;B+=2){var D=e[B-30],G=e[B-15*2+1],Q=Rv(D,G),J=Tv(G,D);D=e[B-2*2],G=e[B-2*2+1];var te=Ov(D,G),re=Nv(G,D),ee=e[B-7*2],ye=e[B-7*2+1],oe=e[B-16*2],ae=e[B-16*2+1],M=J+ye|0,u=Q+ee+at(M,J)|0;M=M+re|0,u=u+te+at(M,re)|0,M=M+ae|0,u=u+oe+at(M,ae)|0,e[B]=u,e[B+1]=M}for(var d=0;d<160;d+=2){u=e[d],M=e[d+1];var v=Tu(r,n,i),x=Tu(g,I,m),A=Ou(r,g),T=Ou(g,r),L=Nu(s,N),S=Nu(N,s),c=Iu[d],b=Iu[d+1],$=Ru(s,a,f),K=Ru(N,H,U),k=R+S|0,O=p+L+at(k,R)|0;k=k+K|0,O=O+$+at(k,K)|0,k=k+b|0,O=O+c+at(k,b)|0,k=k+M|0,O=O+u+at(k,M)|0;var j=T+x|0,z=A+v+at(j,T)|0;p=f,R=U,f=a,U=H,a=s,H=N,N=C+k|0,s=o+O+at(N,C)|0,o=i,C=m,i=n,m=I,n=r,I=g,g=k+j|0,r=O+z+at(g,k)|0}this._al=this._al+g|0,this._bl=this._bl+I|0,this._cl=this._cl+m|0,this._dl=this._dl+C|0,this._el=this._el+N|0,this._fl=this._fl+H|0,this._gl=this._gl+U|0,this._hl=this._hl+R|0,this._ah=this._ah+r+at(this._al,g)|0,this._bh=this._bh+n+at(this._bl,I)|0,this._ch=this._ch+i+at(this._cl,m)|0,this._dh=this._dh+o+at(this._dl,C)|0,this._eh=this._eh+s+at(this._el,N)|0,this._fh=this._fh+a+at(this._fl,H)|0,this._gh=this._gh+f+at(this._gl,U)|0,this._hh=this._hh+p+at(this._hl,R)|0};Si.prototype._hash=function(){var t=kv.allocUnsafe(64);function e(r,n,i){t.writeInt32BE(r,i),t.writeInt32BE(n,i+4)}return e(this._ah,this._al,0),e(this._bh,this._bl,8),e(this._ch,this._cl,16),e(this._dh,this._dl,24),e(this._eh,this._el,32),e(this._fh,this._fl,40),e(this._gh,this._gl,48),e(this._hh,this._hl,56),t};var of=Si,Bv=Nt.exports,Pv=of,Lv=jn,Dv=Jt.exports.Buffer,Fv=new Array(160);function Co(){this.init(),this._w=Fv,Lv.call(this,128,112)}Bv(Co,Pv);Co.prototype.init=function(){return this._ah=3418070365,this._bh=1654270250,this._ch=2438529370,this._dh=355462360,this._eh=1731405415,this._fh=2394180231,this._gh=3675008525,this._hh=1203062813,this._al=3238371032,this._bl=914150663,this._cl=812702999,this._dl=4144912697,this._el=4290775857,this._fl=1750603025,this._gl=1694076839,this._hl=3204075428,this};Co.prototype._hash=function(){var t=Dv.allocUnsafe(48);function e(r,n,i){t.writeInt32BE(r,i),t.writeInt32BE(n,i+4)}return e(this._ah,this._al,0),e(this._bh,this._bl,8),e(this._ch,this._cl,16),e(this._dh,this._dl,24),e(this._eh,this._el,32),e(this._fh,this._fl,40),t};var jv=Co,zr=Ql.exports=function(e){e=e.toLowerCase();var r=zr[e];if(!r)throw new Error(e+" is not supported (we accept pull requests)");return new r};zr.sha=tv;zr.sha1=lv;zr.sha224=Av;zr.sha256=rf;zr.sha384=jv;zr.sha512=of;var ne={},sf=function(){if(typeof Symbol!="function"||typeof Object.getOwnPropertySymbols!="function")return!1;if(typeof Symbol.iterator=="symbol")return!0;var e={},r=Symbol("test"),n=Object(r);if(typeof r=="string"||Object.prototype.toString.call(r)!=="[object Symbol]"||Object.prototype.toString.call(n)!=="[object Symbol]")return!1;var i=42;e[r]=i;for(r in e)return!1;if(typeof Object.keys=="function"&&Object.keys(e).length!==0||typeof Object.getOwnPropertyNames=="function"&&Object.getOwnPropertyNames(e).length!==0)return!1;var o=Object.getOwnPropertySymbols(e);if(o.length!==1||o[0]!==r||!Object.prototype.propertyIsEnumerable.call(e,r))return!1;if(typeof Object.getOwnPropertyDescriptor=="function"){var s=Object.getOwnPropertyDescriptor(e,r);if(s.value!==i||s.enumerable!==!0)return!1}return!0},Bu=typeof Symbol<"u"&&Symbol,$v=sf,Uv=function(){return typeof Bu!="function"||typeof Symbol!="function"||typeof Bu("foo")!="symbol"||typeof Symbol("bar")!="symbol"?!1:$v()},Wv="Function.prototype.bind called on incompatible ",hs=Array.prototype.slice,Hv=Object.prototype.toString,Vv="[object Function]",zv=function(e){var r=this;if(typeof r!="function"||Hv.call(r)!==Vv)throw new TypeError(Wv+r);for(var n=hs.call(arguments,1),i,o=function(){if(this instanceof i){var g=r.apply(this,n.concat(hs.call(arguments)));return Object(g)===g?g:this}else return r.apply(e,n.concat(hs.call(arguments)))},s=Math.max(0,r.length-n.length),a=[],f=0;f<s;f++)a.push("$"+f);if(i=Function("binder","return function ("+a.join(",")+"){ return binder.apply(this,arguments); }")(o),r.prototype){var p=function(){};p.prototype=r.prototype,i.prototype=new p,p.prototype=null}return i},qv=zv,Pa=Function.prototype.bind||qv,Gv=Pa,Zv=Gv.call(Function.call,Object.prototype.hasOwnProperty),Ae,wn=SyntaxError,af=Function,hn=TypeError,ds=function(t){try{return af('"use strict"; return ('+t+").constructor;")()}catch{}},jr=Object.getOwnPropertyDescriptor;if(jr)try{jr({},"")}catch{jr=null}var ps=function(){throw new hn},Kv=jr?function(){try{return arguments.callee,ps}catch{try{return jr(arguments,"callee").get}catch{return ps}}}():ps,rn=Uv(),ir=Object.getPrototypeOf||function(t){return t.__proto__},sn={},Yv=typeof Uint8Array>"u"?Ae:ir(Uint8Array),dn={"%AggregateError%":typeof AggregateError>"u"?Ae:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?Ae:ArrayBuffer,"%ArrayIteratorPrototype%":rn?ir([][Symbol.iterator]()):Ae,"%AsyncFromSyncIteratorPrototype%":Ae,"%AsyncFunction%":sn,"%AsyncGenerator%":sn,"%AsyncGeneratorFunction%":sn,"%AsyncIteratorPrototype%":sn,"%Atomics%":typeof Atomics>"u"?Ae:Atomics,"%BigInt%":typeof BigInt>"u"?Ae:BigInt,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?Ae:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Error,"%eval%":eval,"%EvalError%":EvalError,"%Float32Array%":typeof Float32Array>"u"?Ae:Float32Array,"%Float64Array%":typeof Float64Array>"u"?Ae:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?Ae:FinalizationRegistry,"%Function%":af,"%GeneratorFunction%":sn,"%Int8Array%":typeof Int8Array>"u"?Ae:Int8Array,"%Int16Array%":typeof Int16Array>"u"?Ae:Int16Array,"%Int32Array%":typeof Int32Array>"u"?Ae:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":rn?ir(ir([][Symbol.iterator]())):Ae,"%JSON%":typeof JSON=="object"?JSON:Ae,"%Map%":typeof Map>"u"?Ae:Map,"%MapIteratorPrototype%":typeof Map>"u"||!rn?Ae:ir(new Map()[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?Ae:Promise,"%Proxy%":typeof Proxy>"u"?Ae:Proxy,"%RangeError%":RangeError,"%ReferenceError%":ReferenceError,"%Reflect%":typeof Reflect>"u"?Ae:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?Ae:Set,"%SetIteratorPrototype%":typeof Set>"u"||!rn?Ae:ir(new Set()[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?Ae:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":rn?ir(""[Symbol.iterator]()):Ae,"%Symbol%":rn?Symbol:Ae,"%SyntaxError%":wn,"%ThrowTypeError%":Kv,"%TypedArray%":Yv,"%TypeError%":hn,"%Uint8Array%":typeof Uint8Array>"u"?Ae:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?Ae:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?Ae:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?Ae:Uint32Array,"%URIError%":URIError,"%WeakMap%":typeof WeakMap>"u"?Ae:WeakMap,"%WeakRef%":typeof WeakRef>"u"?Ae:WeakRef,"%WeakSet%":typeof WeakSet>"u"?Ae:WeakSet},Qv=function t(e){var r;if(e==="%AsyncFunction%")r=ds("async function () {}");else if(e==="%GeneratorFunction%")r=ds("function* () {}");else if(e==="%AsyncGeneratorFunction%")r=ds("async function* () {}");else if(e==="%AsyncGenerator%"){var n=t("%AsyncGeneratorFunction%");n&&(r=n.prototype)}else if(e==="%AsyncIteratorPrototype%"){var i=t("%AsyncGenerator%");i&&(r=ir(i.prototype))}return dn[e]=r,r},Pu={"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},Ei=Pa,no=Zv,Jv=Ei.call(Function.call,Array.prototype.concat),Xv=Ei.call(Function.apply,Array.prototype.splice),Lu=Ei.call(Function.call,String.prototype.replace),io=Ei.call(Function.call,String.prototype.slice),em=Ei.call(Function.call,RegExp.prototype.exec),tm=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,rm=/\\(\\)?/g,nm=function(e){var r=io(e,0,1),n=io(e,-1);if(r==="%"&&n!=="%")throw new wn("invalid intrinsic syntax, expected closing `%`");if(n==="%"&&r!=="%")throw new wn("invalid intrinsic syntax, expected opening `%`");var i=[];return Lu(e,tm,function(o,s,a,f){i[i.length]=a?Lu(f,rm,"$1"):s||o}),i},im=function(e,r){var n=e,i;if(no(Pu,n)&&(i=Pu[n],n="%"+i[0]+"%"),no(dn,n)){var o=dn[n];if(o===sn&&(o=Qv(n)),typeof o>"u"&&!r)throw new hn("intrinsic "+e+" exists, but is not available. Please file an issue!");return{alias:i,name:n,value:o}}throw new wn("intrinsic "+e+" does not exist!")},ko=function(e,r){if(typeof e!="string"||e.length===0)throw new hn("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof r!="boolean")throw new hn('"allowMissing" argument must be a boolean');if(em(/^%?[^%]*%?$/g,e)===null)throw new wn("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var n=nm(e),i=n.length>0?n[0]:"",o=im("%"+i+"%",r),s=o.name,a=o.value,f=!1,p=o.alias;p&&(i=p[0],Xv(n,Jv([0,1],p)));for(var g=1,I=!0;g<n.length;g+=1){var m=n[g],C=io(m,0,1),N=io(m,-1);if((C==='"'||C==="'"||C==="`"||N==='"'||N==="'"||N==="`")&&C!==N)throw new wn("property names with quotes must have matching quotes");if((m==="constructor"||!I)&&(f=!0),i+="."+m,s="%"+i+"%",no(dn,s))a=dn[s];else if(a!=null){if(!(m in a)){if(!r)throw new hn("base intrinsic for "+e+" exists, but the property is not available.");return}if(jr&&g+1>=n.length){var H=jr(a,m);I=!!H,I&&"get"in H&&!("originalValue"in H.get)?a=H.get:a=a[m]}else I=no(a,m),a=a[m];I&&!f&&(dn[s]=a)}}return a},uf={exports:{}};(function(t){var e=Pa,r=ko,n=r("%Function.prototype.apply%"),i=r("%Function.prototype.call%"),o=r("%Reflect.apply%",!0)||e.call(i,n),s=r("%Object.getOwnPropertyDescriptor%",!0),a=r("%Object.defineProperty%",!0),f=r("%Math.max%");if(a)try{a({},"a",{value:1})}catch{a=null}t.exports=function(I){var m=o(e,i,arguments);if(s&&a){var C=s(m,"length");C.configurable&&a(m,"length",{value:1+f(0,I.length-(arguments.length-1))})}return m};var p=function(){return o(e,n,arguments)};a?a(t.exports,"apply",{value:p}):t.exports.apply=p})(uf);var cf=ko,lf=uf.exports,om=lf(cf("String.prototype.indexOf")),Io=function(e,r){var n=cf(e,!!r);return typeof n=="function"&&om(e,".prototype.")>-1?lf(n):n},La=typeof Map=="function"&&Map.prototype,gs=Object.getOwnPropertyDescriptor&&La?Object.getOwnPropertyDescriptor(Map.prototype,"size"):null,oo=La&&gs&&typeof gs.get=="function"?gs.get:null,sm=La&&Map.prototype.forEach,Da=typeof Set=="function"&&Set.prototype,ys=Object.getOwnPropertyDescriptor&&Da?Object.getOwnPropertyDescriptor(Set.prototype,"size"):null,so=Da&&ys&&typeof ys.get=="function"?ys.get:null,am=Da&&Set.prototype.forEach,um=typeof WeakMap=="function"&&WeakMap.prototype,Jn=um?WeakMap.prototype.has:null,cm=typeof WeakSet=="function"&&WeakSet.prototype,Xn=cm?WeakSet.prototype.has:null,lm=typeof WeakRef=="function"&&WeakRef.prototype,Du=lm?WeakRef.prototype.deref:null,fm=Boolean.prototype.valueOf,hm=Object.prototype.toString,dm=Function.prototype.toString,pm=String.prototype.match,Fa=String.prototype.slice,ur=String.prototype.replace,gm=String.prototype.toUpperCase,Fu=String.prototype.toLowerCase,ff=RegExp.prototype.test,ju=Array.prototype.concat,Vt=Array.prototype.join,ym=Array.prototype.slice,$u=Math.floor,ua=typeof BigInt=="function"?BigInt.prototype.valueOf:null,bs=Object.getOwnPropertySymbols,ca=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Symbol.prototype.toString:null,Sn=typeof Symbol=="function"&&typeof Symbol.iterator=="object",vt=typeof Symbol=="function"&&Symbol.toStringTag&&(typeof Symbol.toStringTag===Sn?"object":"symbol")?Symbol.toStringTag:null,hf=Object.prototype.propertyIsEnumerable,Uu=(typeof Reflect=="function"?Reflect.getPrototypeOf:Object.getPrototypeOf)||([].__proto__===Array.prototype?function(t){return t.__proto__}:null);function Wu(t,e){if(t===1/0||t===-1/0||t!==t||t&&t>-1e3&&t<1e3||ff.call(/e/,e))return e;var r=/[0-9](?=(?:[0-9]{3})+(?![0-9]))/g;if(typeof t=="number"){var n=t<0?-$u(-t):$u(t);if(n!==t){var i=String(n),o=Fa.call(e,i.length+1);return ur.call(i,r,"$&_")+"."+ur.call(ur.call(o,/([0-9]{3})/g,"$&_"),/_$/,"")}}return ur.call(e,r,"$&_")}var la=go,Hu=la.custom,Vu=pf(Hu)?Hu:null,bm=function t(e,r,n,i){var o=r||{};if(or(o,"quoteStyle")&&o.quoteStyle!=="single"&&o.quoteStyle!=="double")throw new TypeError('option "quoteStyle" must be "single" or "double"');if(or(o,"maxStringLength")&&(typeof o.maxStringLength=="number"?o.maxStringLength<0&&o.maxStringLength!==1/0:o.maxStringLength!==null))throw new TypeError('option "maxStringLength", if provided, must be a positive integer, Infinity, or `null`');var s=or(o,"customInspect")?o.customInspect:!0;if(typeof s!="boolean"&&s!=="symbol")throw new TypeError("option \"customInspect\", if provided, must be `true`, `false`, or `'symbol'`");if(or(o,"indent")&&o.indent!==null&&o.indent!=="	"&&!(parseInt(o.indent,10)===o.indent&&o.indent>0))throw new TypeError('option "indent" must be "\\t", an integer > 0, or `null`');if(or(o,"numericSeparator")&&typeof o.numericSeparator!="boolean")throw new TypeError('option "numericSeparator", if provided, must be `true` or `false`');var a=o.numericSeparator;if(typeof e>"u")return"undefined";if(e===null)return"null";if(typeof e=="boolean")return e?"true":"false";if(typeof e=="string")return yf(e,o);if(typeof e=="number"){if(e===0)return 1/0/e>0?"0":"-0";var f=String(e);return a?Wu(e,f):f}if(typeof e=="bigint"){var p=String(e)+"n";return a?Wu(e,p):p}var g=typeof o.depth>"u"?5:o.depth;if(typeof n>"u"&&(n=0),n>=g&&g>0&&typeof e=="object")return fa(e)?"[Array]":"[Object]";var I=Pm(o,n);if(typeof i>"u")i=[];else if(gf(i,e)>=0)return"[Circular]";function m(M,u,d){if(u&&(i=ym.call(i),i.push(u)),d){var v={depth:o.depth};return or(o,"quoteStyle")&&(v.quoteStyle=o.quoteStyle),t(M,v,n+1,i)}return t(M,o,n+1,i)}if(typeof e=="function"&&!zu(e)){var C=Am(e),N=Bi(e,m);return"[Function"+(C?": "+C:" (anonymous)")+"]"+(N.length>0?" { "+Vt.call(N,", ")+" }":"")}if(pf(e)){var H=Sn?ur.call(String(e),/^(Symbol\(.*\))_[^)]*$/,"$1"):ca.call(e);return typeof e=="object"&&!Sn?zn(H):H}if(Om(e)){for(var U="<"+Fu.call(String(e.nodeName)),R=e.attributes||[],B=0;B<R.length;B++)U+=" "+R[B].name+"="+df(vm(R[B].value),"double",o);return U+=">",e.childNodes&&e.childNodes.length&&(U+="..."),U+="</"+Fu.call(String(e.nodeName))+">",U}if(fa(e)){if(e.length===0)return"[]";var D=Bi(e,m);return I&&!Bm(D)?"["+ha(D,I)+"]":"[ "+Vt.call(D,", ")+" ]"}if(_m(e)){var G=Bi(e,m);return!("cause"in Error.prototype)&&"cause"in e&&!hf.call(e,"cause")?"{ ["+String(e)+"] "+Vt.call(ju.call("[cause]: "+m(e.cause),G),", ")+" }":G.length===0?"["+String(e)+"]":"{ ["+String(e)+"] "+Vt.call(G,", ")+" }"}if(typeof e=="object"&&s){if(Vu&&typeof e[Vu]=="function"&&la)return la(e,{depth:g-n});if(s!=="symbol"&&typeof e.inspect=="function")return e.inspect()}if(Cm(e)){var Q=[];return sm.call(e,function(M,u){Q.push(m(u,e,!0)+" => "+m(M,e))}),qu("Map",oo.call(e),Q,I)}if(Rm(e)){var J=[];return am.call(e,function(M){J.push(m(M,e))}),qu("Set",so.call(e),J,I)}if(km(e))return vs("WeakMap");if(Tm(e))return vs("WeakSet");if(Im(e))return vs("WeakRef");if(Sm(e))return zn(m(Number(e)));if(xm(e))return zn(m(ua.call(e)));if(Em(e))return zn(fm.call(e));if(wm(e))return zn(m(String(e)));if(!mm(e)&&!zu(e)){var te=Bi(e,m),re=Uu?Uu(e)===Object.prototype:e instanceof Object||e.constructor===Object,ee=e instanceof Object?"":"null prototype",ye=!re&&vt&&Object(e)===e&&vt in e?Fa.call(br(e),8,-1):ee?"Object":"",oe=re||typeof e.constructor!="function"?"":e.constructor.name?e.constructor.name+" ":"",ae=oe+(ye||ee?"["+Vt.call(ju.call([],ye||[],ee||[]),": ")+"] ":"");return te.length===0?ae+"{}":I?ae+"{"+ha(te,I)+"}":ae+"{ "+Vt.call(te,", ")+" }"}return String(e)};function df(t,e,r){var n=(r.quoteStyle||e)==="double"?'"':"'";return n+t+n}function vm(t){return ur.call(String(t),/"/g,"&quot;")}function fa(t){return br(t)==="[object Array]"&&(!vt||!(typeof t=="object"&&vt in t))}function mm(t){return br(t)==="[object Date]"&&(!vt||!(typeof t=="object"&&vt in t))}function zu(t){return br(t)==="[object RegExp]"&&(!vt||!(typeof t=="object"&&vt in t))}function _m(t){return br(t)==="[object Error]"&&(!vt||!(typeof t=="object"&&vt in t))}function wm(t){return br(t)==="[object String]"&&(!vt||!(typeof t=="object"&&vt in t))}function Sm(t){return br(t)==="[object Number]"&&(!vt||!(typeof t=="object"&&vt in t))}function Em(t){return br(t)==="[object Boolean]"&&(!vt||!(typeof t=="object"&&vt in t))}function pf(t){if(Sn)return t&&typeof t=="object"&&t instanceof Symbol;if(typeof t=="symbol")return!0;if(!t||typeof t!="object"||!ca)return!1;try{return ca.call(t),!0}catch{}return!1}function xm(t){if(!t||typeof t!="object"||!ua)return!1;try{return ua.call(t),!0}catch{}return!1}var Mm=Object.prototype.hasOwnProperty||function(t){return t in this};function or(t,e){return Mm.call(t,e)}function br(t){return hm.call(t)}function Am(t){if(t.name)return t.name;var e=pm.call(dm.call(t),/^function\s*([\w$]+)/);return e?e[1]:null}function gf(t,e){if(t.indexOf)return t.indexOf(e);for(var r=0,n=t.length;r<n;r++)if(t[r]===e)return r;return-1}function Cm(t){if(!oo||!t||typeof t!="object")return!1;try{oo.call(t);try{so.call(t)}catch{return!0}return t instanceof Map}catch{}return!1}function km(t){if(!Jn||!t||typeof t!="object")return!1;try{Jn.call(t,Jn);try{Xn.call(t,Xn)}catch{return!0}return t instanceof WeakMap}catch{}return!1}function Im(t){if(!Du||!t||typeof t!="object")return!1;try{return Du.call(t),!0}catch{}return!1}function Rm(t){if(!so||!t||typeof t!="object")return!1;try{so.call(t);try{oo.call(t)}catch{return!0}return t instanceof Set}catch{}return!1}function Tm(t){if(!Xn||!t||typeof t!="object")return!1;try{Xn.call(t,Xn);try{Jn.call(t,Jn)}catch{return!0}return t instanceof WeakSet}catch{}return!1}function Om(t){return!t||typeof t!="object"?!1:typeof HTMLElement<"u"&&t instanceof HTMLElement?!0:typeof t.nodeName=="string"&&typeof t.getAttribute=="function"}function yf(t,e){if(t.length>e.maxStringLength){var r=t.length-e.maxStringLength,n="... "+r+" more character"+(r>1?"s":"");return yf(Fa.call(t,0,e.maxStringLength),e)+n}var i=ur.call(ur.call(t,/(['\\])/g,"\\$1"),/[\x00-\x1f]/g,Nm);return df(i,"single",e)}function Nm(t){var e=t.charCodeAt(0),r={8:"b",9:"t",10:"n",12:"f",13:"r"}[e];return r?"\\"+r:"\\x"+(e<16?"0":"")+gm.call(e.toString(16))}function zn(t){return"Object("+t+")"}function vs(t){return t+" { ? }"}function qu(t,e,r,n){var i=n?ha(r,n):Vt.call(r,", ");return t+" ("+e+") {"+i+"}"}function Bm(t){for(var e=0;e<t.length;e++)if(gf(t[e],`
`)>=0)return!1;return!0}function Pm(t,e){var r;if(t.indent==="	")r="	";else if(typeof t.indent=="number"&&t.indent>0)r=Vt.call(Array(t.indent+1)," ");else return null;return{base:r,prev:Vt.call(Array(e+1),r)}}function ha(t,e){if(t.length===0)return"";var r=`
`+e.prev+e.base;return r+Vt.call(t,","+r)+`
`+e.prev}function Bi(t,e){var r=fa(t),n=[];if(r){n.length=t.length;for(var i=0;i<t.length;i++)n[i]=or(t,i)?e(t[i],t):""}var o=typeof bs=="function"?bs(t):[],s;if(Sn){s={};for(var a=0;a<o.length;a++)s["$"+o[a]]=o[a]}for(var f in t)!or(t,f)||r&&String(Number(f))===f&&f<t.length||Sn&&s["$"+f]instanceof Symbol||(ff.call(/[^\w$]/,f)?n.push(e(f,t)+": "+e(t[f],t)):n.push(f+": "+e(t[f],t)));if(typeof bs=="function")for(var p=0;p<o.length;p++)hf.call(t,o[p])&&n.push("["+e(o[p])+"]: "+e(t[o[p]],t));return n}var ja=ko,$n=Io,Lm=bm,Dm=ja("%TypeError%"),Pi=ja("%WeakMap%",!0),Li=ja("%Map%",!0),Fm=$n("WeakMap.prototype.get",!0),jm=$n("WeakMap.prototype.set",!0),$m=$n("WeakMap.prototype.has",!0),Um=$n("Map.prototype.get",!0),Wm=$n("Map.prototype.set",!0),Hm=$n("Map.prototype.has",!0),$a=function(t,e){for(var r=t,n;(n=r.next)!==null;r=n)if(n.key===e)return r.next=n.next,n.next=t.next,t.next=n,n},Vm=function(t,e){var r=$a(t,e);return r&&r.value},zm=function(t,e,r){var n=$a(t,e);n?n.value=r:t.next={key:e,next:t.next,value:r}},qm=function(t,e){return!!$a(t,e)},Gm=function(){var e,r,n,i={assert:function(o){if(!i.has(o))throw new Dm("Side channel does not contain "+Lm(o))},get:function(o){if(Pi&&o&&(typeof o=="object"||typeof o=="function")){if(e)return Fm(e,o)}else if(Li){if(r)return Um(r,o)}else if(n)return Vm(n,o)},has:function(o){if(Pi&&o&&(typeof o=="object"||typeof o=="function")){if(e)return $m(e,o)}else if(Li){if(r)return Hm(r,o)}else if(n)return qm(n,o);return!1},set:function(o,s){Pi&&o&&(typeof o=="object"||typeof o=="function")?(e||(e=new Pi),jm(e,o,s)):Li?(r||(r=new Li),Wm(r,o,s)):(n||(n={key:{},next:null}),zm(n,o,s))}};return i},Zm=String.prototype.replace,Km=/%20/g,ms={RFC1738:"RFC1738",RFC3986:"RFC3986"},Ua={default:ms.RFC3986,formatters:{RFC1738:function(t){return Zm.call(t,Km,"+")},RFC3986:function(t){return String(t)}},RFC1738:ms.RFC1738,RFC3986:ms.RFC3986},Ym=Ua,_s=Object.prototype.hasOwnProperty,Nr=Array.isArray,Ut=function(){for(var t=[],e=0;e<256;++e)t.push("%"+((e<16?"0":"")+e.toString(16)).toUpperCase());return t}(),Qm=function(e){for(;e.length>1;){var r=e.pop(),n=r.obj[r.prop];if(Nr(n)){for(var i=[],o=0;o<n.length;++o)typeof n[o]<"u"&&i.push(n[o]);r.obj[r.prop]=i}}},bf=function(e,r){for(var n=r&&r.plainObjects?Object.create(null):{},i=0;i<e.length;++i)typeof e[i]<"u"&&(n[i]=e[i]);return n},Jm=function t(e,r,n){if(!r)return e;if(typeof r!="object"){if(Nr(e))e.push(r);else if(e&&typeof e=="object")(n&&(n.plainObjects||n.allowPrototypes)||!_s.call(Object.prototype,r))&&(e[r]=!0);else return[e,r];return e}if(!e||typeof e!="object")return[e].concat(r);var i=e;return Nr(e)&&!Nr(r)&&(i=bf(e,n)),Nr(e)&&Nr(r)?(r.forEach(function(o,s){if(_s.call(e,s)){var a=e[s];a&&typeof a=="object"&&o&&typeof o=="object"?e[s]=t(a,o,n):e.push(o)}else e[s]=o}),e):Object.keys(r).reduce(function(o,s){var a=r[s];return _s.call(o,s)?o[s]=t(o[s],a,n):o[s]=a,o},i)},Xm=function(e,r){return Object.keys(r).reduce(function(n,i){return n[i]=r[i],n},e)},e1=function(t,e,r){var n=t.replace(/\+/g," ");if(r==="iso-8859-1")return n.replace(/%[0-9a-f]{2}/gi,unescape);try{return decodeURIComponent(n)}catch{return n}},t1=function(e,r,n,i,o){if(e.length===0)return e;var s=e;if(typeof e=="symbol"?s=Symbol.prototype.toString.call(e):typeof e!="string"&&(s=String(e)),n==="iso-8859-1")return escape(s).replace(/%u[0-9a-f]{4}/gi,function(g){return"%26%23"+parseInt(g.slice(2),16)+"%3B"});for(var a="",f=0;f<s.length;++f){var p=s.charCodeAt(f);if(p===45||p===46||p===95||p===126||p>=48&&p<=57||p>=65&&p<=90||p>=97&&p<=122||o===Ym.RFC1738&&(p===40||p===41)){a+=s.charAt(f);continue}if(p<128){a=a+Ut[p];continue}if(p<2048){a=a+(Ut[192|p>>6]+Ut[128|p&63]);continue}if(p<55296||p>=57344){a=a+(Ut[224|p>>12]+Ut[128|p>>6&63]+Ut[128|p&63]);continue}f+=1,p=65536+((p&1023)<<10|s.charCodeAt(f)&1023),a+=Ut[240|p>>18]+Ut[128|p>>12&63]+Ut[128|p>>6&63]+Ut[128|p&63]}return a},r1=function(e){for(var r=[{obj:{o:e},prop:"o"}],n=[],i=0;i<r.length;++i)for(var o=r[i],s=o.obj[o.prop],a=Object.keys(s),f=0;f<a.length;++f){var p=a[f],g=s[p];typeof g=="object"&&g!==null&&n.indexOf(g)===-1&&(r.push({obj:s,prop:p}),n.push(g))}return Qm(r),e},n1=function(e){return Object.prototype.toString.call(e)==="[object RegExp]"},i1=function(e){return!e||typeof e!="object"?!1:!!(e.constructor&&e.constructor.isBuffer&&e.constructor.isBuffer(e))},o1=function(e,r){return[].concat(e,r)},s1=function(e,r){if(Nr(e)){for(var n=[],i=0;i<e.length;i+=1)n.push(r(e[i]));return n}return r(e)},vf={arrayToObject:bf,assign:Xm,combine:o1,compact:r1,decode:e1,encode:t1,isBuffer:i1,isRegExp:n1,maybeMap:s1,merge:Jm},mf=Gm,da=vf,ei=Ua,a1=Object.prototype.hasOwnProperty,Gu={brackets:function(e){return e+"[]"},comma:"comma",indices:function(e,r){return e+"["+r+"]"},repeat:function(e){return e}},Dr=Array.isArray,u1=String.prototype.split,c1=Array.prototype.push,_f=function(t,e){c1.apply(t,Dr(e)?e:[e])},l1=Date.prototype.toISOString,Zu=ei.default,dt={addQueryPrefix:!1,allowDots:!1,charset:"utf-8",charsetSentinel:!1,delimiter:"&",encode:!0,encoder:da.encode,encodeValuesOnly:!1,format:Zu,formatter:ei.formatters[Zu],indices:!1,serializeDate:function(e){return l1.call(e)},skipNulls:!1,strictNullHandling:!1},f1=function(e){return typeof e=="string"||typeof e=="number"||typeof e=="boolean"||typeof e=="symbol"||typeof e=="bigint"},ws={},h1=function t(e,r,n,i,o,s,a,f,p,g,I,m,C,N,H){for(var U=e,R=H,B=0,D=!1;(R=R.get(ws))!==void 0&&!D;){var G=R.get(e);if(B+=1,typeof G<"u"){if(G===B)throw new RangeError("Cyclic object value");D=!0}typeof R.get(ws)>"u"&&(B=0)}if(typeof a=="function"?U=a(r,U):U instanceof Date?U=g(U):n==="comma"&&Dr(U)&&(U=da.maybeMap(U,function(x){return x instanceof Date?g(x):x})),U===null){if(i)return s&&!C?s(r,dt.encoder,N,"key",I):r;U=""}if(f1(U)||da.isBuffer(U)){if(s){var Q=C?r:s(r,dt.encoder,N,"key",I);if(n==="comma"&&C){for(var J=u1.call(String(U),","),te="",re=0;re<J.length;++re)te+=(re===0?"":",")+m(s(J[re],dt.encoder,N,"value",I));return[m(Q)+"="+te]}return[m(Q)+"="+m(s(U,dt.encoder,N,"value",I))]}return[m(r)+"="+m(String(U))]}var ee=[];if(typeof U>"u")return ee;var ye;if(n==="comma"&&Dr(U))ye=[{value:U.length>0?U.join(",")||null:void 0}];else if(Dr(a))ye=a;else{var oe=Object.keys(U);ye=f?oe.sort(f):oe}for(var ae=0;ae<ye.length;++ae){var M=ye[ae],u=typeof M=="object"&&typeof M.value<"u"?M.value:U[M];if(!(o&&u===null)){var d=Dr(U)?typeof n=="function"?n(r,M):r:r+(p?"."+M:"["+M+"]");H.set(e,B);var v=mf();v.set(ws,H),_f(ee,t(u,d,n,i,o,s,a,f,p,g,I,m,C,N,v))}}return ee},d1=function(e){if(!e)return dt;if(e.encoder!==null&&typeof e.encoder<"u"&&typeof e.encoder!="function")throw new TypeError("Encoder has to be a function.");var r=e.charset||dt.charset;if(typeof e.charset<"u"&&e.charset!=="utf-8"&&e.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var n=ei.default;if(typeof e.format<"u"){if(!a1.call(ei.formatters,e.format))throw new TypeError("Unknown format option provided.");n=e.format}var i=ei.formatters[n],o=dt.filter;return(typeof e.filter=="function"||Dr(e.filter))&&(o=e.filter),{addQueryPrefix:typeof e.addQueryPrefix=="boolean"?e.addQueryPrefix:dt.addQueryPrefix,allowDots:typeof e.allowDots>"u"?dt.allowDots:!!e.allowDots,charset:r,charsetSentinel:typeof e.charsetSentinel=="boolean"?e.charsetSentinel:dt.charsetSentinel,delimiter:typeof e.delimiter>"u"?dt.delimiter:e.delimiter,encode:typeof e.encode=="boolean"?e.encode:dt.encode,encoder:typeof e.encoder=="function"?e.encoder:dt.encoder,encodeValuesOnly:typeof e.encodeValuesOnly=="boolean"?e.encodeValuesOnly:dt.encodeValuesOnly,filter:o,format:n,formatter:i,serializeDate:typeof e.serializeDate=="function"?e.serializeDate:dt.serializeDate,skipNulls:typeof e.skipNulls=="boolean"?e.skipNulls:dt.skipNulls,sort:typeof e.sort=="function"?e.sort:null,strictNullHandling:typeof e.strictNullHandling=="boolean"?e.strictNullHandling:dt.strictNullHandling}},p1=function(t,e){var r=t,n=d1(e),i,o;typeof n.filter=="function"?(o=n.filter,r=o("",r)):Dr(n.filter)&&(o=n.filter,i=o);var s=[];if(typeof r!="object"||r===null)return"";var a;e&&e.arrayFormat in Gu?a=e.arrayFormat:e&&"indices"in e?a=e.indices?"indices":"repeat":a="indices";var f=Gu[a];i||(i=Object.keys(r)),n.sort&&i.sort(n.sort);for(var p=mf(),g=0;g<i.length;++g){var I=i[g];n.skipNulls&&r[I]===null||_f(s,h1(r[I],I,f,n.strictNullHandling,n.skipNulls,n.encode?n.encoder:null,n.filter,n.sort,n.allowDots,n.serializeDate,n.format,n.formatter,n.encodeValuesOnly,n.charset,p))}var m=s.join(n.delimiter),C=n.addQueryPrefix===!0?"?":"";return n.charsetSentinel&&(n.charset==="iso-8859-1"?C+="utf8=%26%2310003%3B&":C+="utf8=%E2%9C%93&"),m.length>0?C+m:""},En=vf,pa=Object.prototype.hasOwnProperty,g1=Array.isArray,ct={allowDots:!1,allowPrototypes:!1,allowSparse:!1,arrayLimit:20,charset:"utf-8",charsetSentinel:!1,comma:!1,decoder:En.decode,delimiter:"&",depth:5,ignoreQueryPrefix:!1,interpretNumericEntities:!1,parameterLimit:1e3,parseArrays:!0,plainObjects:!1,strictNullHandling:!1},y1=function(t){return t.replace(/&#(\d+);/g,function(e,r){return String.fromCharCode(parseInt(r,10))})},wf=function(t,e){return t&&typeof t=="string"&&e.comma&&t.indexOf(",")>-1?t.split(","):t},b1="utf8=%26%2310003%3B",v1="utf8=%E2%9C%93",m1=function(e,r){var n={},i=r.ignoreQueryPrefix?e.replace(/^\?/,""):e,o=r.parameterLimit===1/0?void 0:r.parameterLimit,s=i.split(r.delimiter,o),a=-1,f,p=r.charset;if(r.charsetSentinel)for(f=0;f<s.length;++f)s[f].indexOf("utf8=")===0&&(s[f]===v1?p="utf-8":s[f]===b1&&(p="iso-8859-1"),a=f,f=s.length);for(f=0;f<s.length;++f)if(f!==a){var g=s[f],I=g.indexOf("]="),m=I===-1?g.indexOf("="):I+1,C,N;m===-1?(C=r.decoder(g,ct.decoder,p,"key"),N=r.strictNullHandling?null:""):(C=r.decoder(g.slice(0,m),ct.decoder,p,"key"),N=En.maybeMap(wf(g.slice(m+1),r),function(H){return r.decoder(H,ct.decoder,p,"value")})),N&&r.interpretNumericEntities&&p==="iso-8859-1"&&(N=y1(N)),g.indexOf("[]=")>-1&&(N=g1(N)?[N]:N),pa.call(n,C)?n[C]=En.combine(n[C],N):n[C]=N}return n},_1=function(t,e,r,n){for(var i=n?e:wf(e,r),o=t.length-1;o>=0;--o){var s,a=t[o];if(a==="[]"&&r.parseArrays)s=[].concat(i);else{s=r.plainObjects?Object.create(null):{};var f=a.charAt(0)==="["&&a.charAt(a.length-1)==="]"?a.slice(1,-1):a,p=parseInt(f,10);!r.parseArrays&&f===""?s={0:i}:!isNaN(p)&&a!==f&&String(p)===f&&p>=0&&r.parseArrays&&p<=r.arrayLimit?(s=[],s[p]=i):f!=="__proto__"&&(s[f]=i)}i=s}return i},w1=function(e,r,n,i){if(!!e){var o=n.allowDots?e.replace(/\.([^.[]+)/g,"[$1]"):e,s=/(\[[^[\]]*])/,a=/(\[[^[\]]*])/g,f=n.depth>0&&s.exec(o),p=f?o.slice(0,f.index):o,g=[];if(p){if(!n.plainObjects&&pa.call(Object.prototype,p)&&!n.allowPrototypes)return;g.push(p)}for(var I=0;n.depth>0&&(f=a.exec(o))!==null&&I<n.depth;){if(I+=1,!n.plainObjects&&pa.call(Object.prototype,f[1].slice(1,-1))&&!n.allowPrototypes)return;g.push(f[1])}return f&&g.push("["+o.slice(f.index)+"]"),_1(g,r,n,i)}},S1=function(e){if(!e)return ct;if(e.decoder!==null&&e.decoder!==void 0&&typeof e.decoder!="function")throw new TypeError("Decoder has to be a function.");if(typeof e.charset<"u"&&e.charset!=="utf-8"&&e.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var r=typeof e.charset>"u"?ct.charset:e.charset;return{allowDots:typeof e.allowDots>"u"?ct.allowDots:!!e.allowDots,allowPrototypes:typeof e.allowPrototypes=="boolean"?e.allowPrototypes:ct.allowPrototypes,allowSparse:typeof e.allowSparse=="boolean"?e.allowSparse:ct.allowSparse,arrayLimit:typeof e.arrayLimit=="number"?e.arrayLimit:ct.arrayLimit,charset:r,charsetSentinel:typeof e.charsetSentinel=="boolean"?e.charsetSentinel:ct.charsetSentinel,comma:typeof e.comma=="boolean"?e.comma:ct.comma,decoder:typeof e.decoder=="function"?e.decoder:ct.decoder,delimiter:typeof e.delimiter=="string"||En.isRegExp(e.delimiter)?e.delimiter:ct.delimiter,depth:typeof e.depth=="number"||e.depth===!1?+e.depth:ct.depth,ignoreQueryPrefix:e.ignoreQueryPrefix===!0,interpretNumericEntities:typeof e.interpretNumericEntities=="boolean"?e.interpretNumericEntities:ct.interpretNumericEntities,parameterLimit:typeof e.parameterLimit=="number"?e.parameterLimit:ct.parameterLimit,parseArrays:e.parseArrays!==!1,plainObjects:typeof e.plainObjects=="boolean"?e.plainObjects:ct.plainObjects,strictNullHandling:typeof e.strictNullHandling=="boolean"?e.strictNullHandling:ct.strictNullHandling}},E1=function(t,e){var r=S1(e);if(t===""||t===null||typeof t>"u")return r.plainObjects?Object.create(null):{};for(var n=typeof t=="string"?m1(t,r):t,i=r.plainObjects?Object.create(null):{},o=Object.keys(n),s=0;s<o.length;++s){var a=o[s],f=w1(a,n[a],r,typeof t=="string");i=En.merge(i,f,r)}return r.allowSparse===!0?i:En.compact(i)},x1=p1,M1=E1,A1=Ua,C1={formats:A1,parse:M1,stringify:x1},xi={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.ProviderType=t.RegExpString=t.IntNumber=t.BigIntString=t.AddressString=t.HexString=t.OpaqueType=void 0;function e(){return n=>n}t.OpaqueType=e,t.HexString=e(),t.AddressString=e(),t.BigIntString=e();function r(n){return Math.floor(n)}t.IntNumber=r,t.RegExpString=e(),function(n){n.CoinbaseWallet="CoinbaseWallet",n.MetaMask="MetaMask",n.Unselected=""}(t.ProviderType||(t.ProviderType={}))})(xi);var k1=_e&&_e.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(ne,"__esModule",{value:!0});ne.isInIFrame=ne.createQrUrl=ne.getFavicon=ne.range=ne.isBigNumber=ne.ensureParsedJSONObject=ne.ensureBN=ne.ensureRegExpString=ne.ensureIntNumber=ne.ensureBuffer=ne.ensureAddressString=ne.ensureEvenLengthHexString=ne.ensureHexString=ne.isHexString=ne.prepend0x=ne.strip0x=ne.has0xPrefix=ne.hexStringFromIntNumber=ne.intNumberFromHexString=ne.bigIntStringFromBN=ne.hexStringFromBuffer=ne.hexStringToUint8Array=ne.uint8ArrayToHex=ne.randomBytesHex=void 0;const ar=k1(di.exports),I1=C1,Ot=xi,Sf=/^[0-9]*$/,Ef=/^[a-f0-9]*$/;function R1(t){return xf(crypto.getRandomValues(new Uint8Array(t)))}ne.randomBytesHex=R1;function xf(t){return[...t].map(e=>e.toString(16).padStart(2,"0")).join("")}ne.uint8ArrayToHex=xf;function T1(t){return new Uint8Array(t.match(/.{1,2}/g).map(e=>parseInt(e,16)))}ne.hexStringToUint8Array=T1;function O1(t,e=!1){const r=t.toString("hex");return(0,Ot.HexString)(e?"0x"+r:r)}ne.hexStringFromBuffer=O1;function N1(t){return(0,Ot.BigIntString)(t.toString(10))}ne.bigIntStringFromBN=N1;function B1(t){return(0,Ot.IntNumber)(new ar.default(Ai(t,!1),16).toNumber())}ne.intNumberFromHexString=B1;function P1(t){return(0,Ot.HexString)("0x"+new ar.default(t).toString(16))}ne.hexStringFromIntNumber=P1;function Wa(t){return t.startsWith("0x")||t.startsWith("0X")}ne.has0xPrefix=Wa;function Ro(t){return Wa(t)?t.slice(2):t}ne.strip0x=Ro;function Mf(t){return Wa(t)?"0x"+t.slice(2):"0x"+t}ne.prepend0x=Mf;function Mi(t){if(typeof t!="string")return!1;const e=Ro(t).toLowerCase();return Ef.test(e)}ne.isHexString=Mi;function Af(t,e=!1){if(typeof t=="string"){const r=Ro(t).toLowerCase();if(Ef.test(r))return(0,Ot.HexString)(e?"0x"+r:r)}throw new Error(`"${String(t)}" is not a hexadecimal string`)}ne.ensureHexString=Af;function Ai(t,e=!1){let r=Af(t,!1);return r.length%2===1&&(r=(0,Ot.HexString)("0"+r)),e?(0,Ot.HexString)("0x"+r):r}ne.ensureEvenLengthHexString=Ai;function L1(t){if(typeof t=="string"){const e=Ro(t).toLowerCase();if(Mi(e)&&e.length===40)return(0,Ot.AddressString)(Mf(e))}throw new Error(`Invalid Ethereum address: ${String(t)}`)}ne.ensureAddressString=L1;function D1(t){if(Se.isBuffer(t))return t;if(typeof t=="string")if(Mi(t)){const e=Ai(t,!1);return Se.from(e,"hex")}else return Se.from(t,"utf8");throw new Error(`Not binary data: ${String(t)}`)}ne.ensureBuffer=D1;function Cf(t){if(typeof t=="number"&&Number.isInteger(t))return(0,Ot.IntNumber)(t);if(typeof t=="string"){if(Sf.test(t))return(0,Ot.IntNumber)(Number(t));if(Mi(t))return(0,Ot.IntNumber)(new ar.default(Ai(t,!1),16).toNumber())}throw new Error(`Not an integer: ${String(t)}`)}ne.ensureIntNumber=Cf;function F1(t){if(t instanceof RegExp)return(0,Ot.RegExpString)(t.toString());throw new Error(`Not a RegExp: ${String(t)}`)}ne.ensureRegExpString=F1;function j1(t){if(t!==null&&(ar.default.isBN(t)||kf(t)))return new ar.default(t.toString(10),10);if(typeof t=="number")return new ar.default(Cf(t));if(typeof t=="string"){if(Sf.test(t))return new ar.default(t,10);if(Mi(t))return new ar.default(Ai(t,!1),16)}throw new Error(`Not an integer: ${String(t)}`)}ne.ensureBN=j1;function $1(t){if(typeof t=="string")return JSON.parse(t);if(typeof t=="object")return t;throw new Error(`Not a JSON string or an object: ${String(t)}`)}ne.ensureParsedJSONObject=$1;function kf(t){if(t==null||typeof t.constructor!="function")return!1;const{constructor:e}=t;return typeof e.config=="function"&&typeof e.EUCLID=="number"}ne.isBigNumber=kf;function U1(t,e){return Array.from({length:e-t},(r,n)=>t+n)}ne.range=U1;function W1(){const t=document.querySelector('link[sizes="192x192"]')||document.querySelector('link[sizes="180x180"]')||document.querySelector('link[rel="icon"]')||document.querySelector('link[rel="shortcut icon"]'),{protocol:e,host:r}=document.location,n=t?t.getAttribute("href"):null;return!n||n.startsWith("javascript:")?null:n.startsWith("http://")||n.startsWith("https://")||n.startsWith("data:")?n:n.startsWith("//")?e+n:`${e}//${r}${n}`}ne.getFavicon=W1;function H1(t,e,r,n,i,o){const s=n?"parent-id":"id",a=(0,I1.stringify)({[s]:t,secret:e,server:r,v:i,chainId:o});return`${r}/#/link?${a}`}ne.createQrUrl=H1;function V1(){try{return window.frameElement!==null}catch{return!1}}ne.isInIFrame=V1;Object.defineProperty(Nn,"__esModule",{value:!0});Nn.Session=void 0;const z1=Dn,Ku=xo,Yu=Ql.exports,Qu=ne,Ss="session:id",Ju="session:secret",Xu="session:linked";class Ha{constructor(e,r,n,i){this._storage=e,this._id=r||(0,Qu.randomBytesHex)(16),this._secret=n||(0,Qu.randomBytesHex)(32),this._key=new Yu.sha256().update(`${this._id}, ${this._secret} WalletLink`).digest("hex"),this._linked=!!i}static load(e){const r=e.getItem(Ss),n=e.getItem(Xu),i=e.getItem(Ju);return r&&i?new Ha(e,r,i,n==="1"):null}static get persistedSessionIdChange$(){return(0,z1.fromEvent)(window,"storage").pipe((0,Ku.filter)(e=>e.key===Ss),(0,Ku.map)(e=>({oldValue:e.oldValue||null,newValue:e.newValue||null})))}static hash(e){return new Yu.sha256().update(e).digest("hex")}get id(){return this._id}get secret(){return this._secret}get key(){return this._key}get linked(){return this._linked}set linked(e){this._linked=e,this.persistLinked()}save(){return this._storage.setItem(Ss,this._id),this._storage.setItem(Ju,this._secret),this.persistLinked(),this}persistLinked(){this._storage.setItem(Xu,this._linked?"1":"0")}}Nn.Session=Ha;var jt={};Object.defineProperty(jt,"__esModule",{value:!0});jt.WalletSDKRelayAbstract=jt.APP_VERSION_KEY=jt.LOCAL_STORAGE_ADDRESSES_KEY=jt.WALLET_USER_NAME_KEY=void 0;const ec=mo;jt.WALLET_USER_NAME_KEY="walletUsername";jt.LOCAL_STORAGE_ADDRESSES_KEY="Addresses";jt.APP_VERSION_KEY="AppVersion";class q1{async makeEthereumJSONRPCRequest(e,r){if(!r)throw new Error("Error: No jsonRpcUrl provided");return window.fetch(r,{method:"POST",body:JSON.stringify(e),mode:"cors",headers:{"Content-Type":"application/json"}}).then(n=>n.json()).then(n=>{if(!n)throw ec.ethErrors.rpc.parse({});const i=n,{error:o}=i;if(o)throw(0,ec.serializeError)(o);return i})}}jt.WalletSDKRelayAbstract=q1;var ao={exports:{}},If=yo.exports.EventEmitter,Es,tc;function G1(){if(tc)return Es;tc=1;function t(m,C){var N=Object.keys(m);if(Object.getOwnPropertySymbols){var H=Object.getOwnPropertySymbols(m);C&&(H=H.filter(function(U){return Object.getOwnPropertyDescriptor(m,U).enumerable})),N.push.apply(N,H)}return N}function e(m){for(var C=1;C<arguments.length;C++){var N=arguments[C]!=null?arguments[C]:{};C%2?t(Object(N),!0).forEach(function(H){r(m,H,N[H])}):Object.getOwnPropertyDescriptors?Object.defineProperties(m,Object.getOwnPropertyDescriptors(N)):t(Object(N)).forEach(function(H){Object.defineProperty(m,H,Object.getOwnPropertyDescriptor(N,H))})}return m}function r(m,C,N){return C in m?Object.defineProperty(m,C,{value:N,enumerable:!0,configurable:!0,writable:!0}):m[C]=N,m}function n(m,C){if(!(m instanceof C))throw new TypeError("Cannot call a class as a function")}function i(m,C){for(var N=0;N<C.length;N++){var H=C[N];H.enumerable=H.enumerable||!1,H.configurable=!0,"value"in H&&(H.writable=!0),Object.defineProperty(m,H.key,H)}}function o(m,C,N){return C&&i(m.prototype,C),N&&i(m,N),m}var s=Fn,a=s.Buffer,f=go,p=f.inspect,g=p&&p.custom||"inspect";function I(m,C,N){a.prototype.copy.call(m,C,N)}return Es=function(){function m(){n(this,m),this.head=null,this.tail=null,this.length=0}return o(m,[{key:"push",value:function(N){var H={data:N,next:null};this.length>0?this.tail.next=H:this.head=H,this.tail=H,++this.length}},{key:"unshift",value:function(N){var H={data:N,next:this.head};this.length===0&&(this.tail=H),this.head=H,++this.length}},{key:"shift",value:function(){if(this.length!==0){var N=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,N}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(N){if(this.length===0)return"";for(var H=this.head,U=""+H.data;H=H.next;)U+=N+H.data;return U}},{key:"concat",value:function(N){if(this.length===0)return a.alloc(0);for(var H=a.allocUnsafe(N>>>0),U=this.head,R=0;U;)I(U.data,H,R),R+=U.data.length,U=U.next;return H}},{key:"consume",value:function(N,H){var U;return N<this.head.data.length?(U=this.head.data.slice(0,N),this.head.data=this.head.data.slice(N)):N===this.head.data.length?U=this.shift():U=H?this._getString(N):this._getBuffer(N),U}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(N){var H=this.head,U=1,R=H.data;for(N-=R.length;H=H.next;){var B=H.data,D=N>B.length?B.length:N;if(D===B.length?R+=B:R+=B.slice(0,N),N-=D,N===0){D===B.length?(++U,H.next?this.head=H.next:this.head=this.tail=null):(this.head=H,H.data=B.slice(D));break}++U}return this.length-=U,R}},{key:"_getBuffer",value:function(N){var H=a.allocUnsafe(N),U=this.head,R=1;for(U.data.copy(H),N-=U.data.length;U=U.next;){var B=U.data,D=N>B.length?B.length:N;if(B.copy(H,H.length-N,0,D),N-=D,N===0){D===B.length?(++R,U.next?this.head=U.next:this.head=this.tail=null):(this.head=U,U.data=B.slice(D));break}++R}return this.length-=R,H}},{key:g,value:function(N,H){return p(this,e({},H,{depth:0,customInspect:!1}))}}]),m}(),Es}function Z1(t,e){var r=this,n=this._readableState&&this._readableState.destroyed,i=this._writableState&&this._writableState.destroyed;return n||i?(e?e(t):t&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,ve.nextTick(ga,this,t)):ve.nextTick(ga,this,t)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(t||null,function(o){!e&&o?r._writableState?r._writableState.errorEmitted?ve.nextTick(qi,r):(r._writableState.errorEmitted=!0,ve.nextTick(rc,r,o)):ve.nextTick(rc,r,o):e?(ve.nextTick(qi,r),e(o)):ve.nextTick(qi,r)}),this)}function rc(t,e){ga(t,e),qi(t)}function qi(t){t._writableState&&!t._writableState.emitClose||t._readableState&&!t._readableState.emitClose||t.emit("close")}function K1(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}function ga(t,e){t.emit("error",e)}function Y1(t,e){var r=t._readableState,n=t._writableState;r&&r.autoDestroy||n&&n.autoDestroy?t.destroy(e):t.emit("error",e)}var Rf={destroy:Z1,undestroy:K1,errorOrDestroy:Y1},qr={};function Q1(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}var Tf={};function Pt(t,e,r){r||(r=Error);function n(o,s,a){return typeof e=="string"?e:e(o,s,a)}var i=function(o){Q1(s,o);function s(a,f,p){return o.call(this,n(a,f,p))||this}return s}(r);i.prototype.name=r.name,i.prototype.code=t,Tf[t]=i}function nc(t,e){if(Array.isArray(t)){var r=t.length;return t=t.map(function(n){return String(n)}),r>2?"one of ".concat(e," ").concat(t.slice(0,r-1).join(", "),", or ")+t[r-1]:r===2?"one of ".concat(e," ").concat(t[0]," or ").concat(t[1]):"of ".concat(e," ").concat(t[0])}else return"of ".concat(e," ").concat(String(t))}function J1(t,e,r){return t.substr(!r||r<0?0:+r,e.length)===e}function X1(t,e,r){return(r===void 0||r>t.length)&&(r=t.length),t.substring(r-e.length,r)===e}function e_(t,e,r){return typeof r!="number"&&(r=0),r+e.length>t.length?!1:t.indexOf(e,r)!==-1}Pt("ERR_INVALID_OPT_VALUE",function(t,e){return'The value "'+e+'" is invalid for option "'+t+'"'},TypeError);Pt("ERR_INVALID_ARG_TYPE",function(t,e,r){var n;typeof e=="string"&&J1(e,"not ")?(n="must not be",e=e.replace(/^not /,"")):n="must be";var i;if(X1(t," argument"))i="The ".concat(t," ").concat(n," ").concat(nc(e,"type"));else{var o=e_(t,".")?"property":"argument";i='The "'.concat(t,'" ').concat(o," ").concat(n," ").concat(nc(e,"type"))}return i+=". Received type ".concat(typeof r),i},TypeError);Pt("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF");Pt("ERR_METHOD_NOT_IMPLEMENTED",function(t){return"The "+t+" method is not implemented"});Pt("ERR_STREAM_PREMATURE_CLOSE","Premature close");Pt("ERR_STREAM_DESTROYED",function(t){return"Cannot call "+t+" after a stream was destroyed"});Pt("ERR_MULTIPLE_CALLBACK","Callback called multiple times");Pt("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable");Pt("ERR_STREAM_WRITE_AFTER_END","write after end");Pt("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError);Pt("ERR_UNKNOWN_ENCODING",function(t){return"Unknown encoding: "+t},TypeError);Pt("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event");qr.codes=Tf;var t_=qr.codes.ERR_INVALID_OPT_VALUE;function r_(t,e,r){return t.highWaterMark!=null?t.highWaterMark:e?t[r]:null}function n_(t,e,r,n){var i=r_(e,n,r);if(i!=null){if(!(isFinite(i)&&Math.floor(i)===i)||i<0){var o=n?r:"highWaterMark";throw new t_(o,i)}return Math.floor(i)}return t.objectMode?16:16*1024}var Of={getHighWaterMark:n_},i_=o_;function o_(t,e){if(xs("noDeprecation"))return t;var r=!1;function n(){if(!r){if(xs("throwDeprecation"))throw new Error(e);xs("traceDeprecation")?console.trace(e):console.warn(e),r=!0}return t.apply(this,arguments)}return n}function xs(t){try{if(!_e.localStorage)return!1}catch{return!1}var e=_e.localStorage[t];return e==null?!1:String(e).toLowerCase()==="true"}var Ms,ic;function Nf(){if(ic)return Ms;ic=1,Ms=re;function t(k){var O=this;this.next=null,this.entry=null,this.finish=function(){K(O,k)}}var e;re.WritableState=J;var r={deprecate:i_},n=If,i=Fn.Buffer,o=_e.Uint8Array||function(){};function s(k){return i.from(k)}function a(k){return i.isBuffer(k)||k instanceof o}var f=Rf,p=Of,g=p.getHighWaterMark,I=qr.codes,m=I.ERR_INVALID_ARG_TYPE,C=I.ERR_METHOD_NOT_IMPLEMENTED,N=I.ERR_MULTIPLE_CALLBACK,H=I.ERR_STREAM_CANNOT_PIPE,U=I.ERR_STREAM_DESTROYED,R=I.ERR_STREAM_NULL_VALUES,B=I.ERR_STREAM_WRITE_AFTER_END,D=I.ERR_UNKNOWN_ENCODING,G=f.errorOrDestroy;Nt.exports(re,n);function Q(){}function J(k,O,j){e=e||xn(),k=k||{},typeof j!="boolean"&&(j=O instanceof e),this.objectMode=!!k.objectMode,j&&(this.objectMode=this.objectMode||!!k.writableObjectMode),this.highWaterMark=g(this,k,"writableHighWaterMark",j),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var z=k.decodeStrings===!1;this.decodeStrings=!z,this.defaultEncoding=k.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(X){v(O,X)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=k.emitClose!==!1,this.autoDestroy=!!k.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new t(this)}J.prototype.getBuffer=function(){for(var O=this.bufferedRequest,j=[];O;)j.push(O),O=O.next;return j},function(){try{Object.defineProperty(J.prototype,"buffer",{get:r.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}}();var te;typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(te=Function.prototype[Symbol.hasInstance],Object.defineProperty(re,Symbol.hasInstance,{value:function(O){return te.call(this,O)?!0:this!==re?!1:O&&O._writableState instanceof J}})):te=function(O){return O instanceof this};function re(k){e=e||xn();var O=this instanceof e;if(!O&&!te.call(re,this))return new re(k);this._writableState=new J(k,this,O),this.writable=!0,k&&(typeof k.write=="function"&&(this._write=k.write),typeof k.writev=="function"&&(this._writev=k.writev),typeof k.destroy=="function"&&(this._destroy=k.destroy),typeof k.final=="function"&&(this._final=k.final)),n.call(this)}re.prototype.pipe=function(){G(this,new H)};function ee(k,O){var j=new B;G(k,j),ve.nextTick(O,j)}function ye(k,O,j,z){var X;return j===null?X=new R:typeof j!="string"&&!O.objectMode&&(X=new m("chunk",["string","Buffer"],j)),X?(G(k,X),ve.nextTick(z,X),!1):!0}re.prototype.write=function(k,O,j){var z=this._writableState,X=!1,_=!z.objectMode&&a(k);return _&&!i.isBuffer(k)&&(k=s(k)),typeof O=="function"&&(j=O,O=null),_?O="buffer":O||(O=z.defaultEncoding),typeof j!="function"&&(j=Q),z.ending?ee(this,j):(_||ye(this,z,k,j))&&(z.pendingcb++,X=ae(this,z,_,k,O,j)),X},re.prototype.cork=function(){this._writableState.corked++},re.prototype.uncork=function(){var k=this._writableState;k.corked&&(k.corked--,!k.writing&&!k.corked&&!k.bufferProcessing&&k.bufferedRequest&&T(this,k))},re.prototype.setDefaultEncoding=function(O){if(typeof O=="string"&&(O=O.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((O+"").toLowerCase())>-1))throw new D(O);return this._writableState.defaultEncoding=O,this},Object.defineProperty(re.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}});function oe(k,O,j){return!k.objectMode&&k.decodeStrings!==!1&&typeof O=="string"&&(O=i.from(O,j)),O}Object.defineProperty(re.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});function ae(k,O,j,z,X,_){if(!j){var E=oe(O,z,X);z!==E&&(j=!0,X="buffer",z=E)}var q=O.objectMode?1:z.length;O.length+=q;var Y=O.length<O.highWaterMark;if(Y||(O.needDrain=!0),O.writing||O.corked){var ue=O.lastBufferedRequest;O.lastBufferedRequest={chunk:z,encoding:X,isBuf:j,callback:_,next:null},ue?ue.next=O.lastBufferedRequest:O.bufferedRequest=O.lastBufferedRequest,O.bufferedRequestCount+=1}else M(k,O,!1,q,z,X,_);return Y}function M(k,O,j,z,X,_,E){O.writelen=z,O.writecb=E,O.writing=!0,O.sync=!0,O.destroyed?O.onwrite(new U("write")):j?k._writev(X,O.onwrite):k._write(X,_,O.onwrite),O.sync=!1}function u(k,O,j,z,X){--O.pendingcb,j?(ve.nextTick(X,z),ve.nextTick(b,k,O),k._writableState.errorEmitted=!0,G(k,z)):(X(z),k._writableState.errorEmitted=!0,G(k,z),b(k,O))}function d(k){k.writing=!1,k.writecb=null,k.length-=k.writelen,k.writelen=0}function v(k,O){var j=k._writableState,z=j.sync,X=j.writecb;if(typeof X!="function")throw new N;if(d(j),O)u(k,j,z,O,X);else{var _=L(j)||k.destroyed;!_&&!j.corked&&!j.bufferProcessing&&j.bufferedRequest&&T(k,j),z?ve.nextTick(x,k,j,_,X):x(k,j,_,X)}}function x(k,O,j,z){j||A(k,O),O.pendingcb--,z(),b(k,O)}function A(k,O){O.length===0&&O.needDrain&&(O.needDrain=!1,k.emit("drain"))}function T(k,O){O.bufferProcessing=!0;var j=O.bufferedRequest;if(k._writev&&j&&j.next){var z=O.bufferedRequestCount,X=new Array(z),_=O.corkedRequestsFree;_.entry=j;for(var E=0,q=!0;j;)X[E]=j,j.isBuf||(q=!1),j=j.next,E+=1;X.allBuffers=q,M(k,O,!0,O.length,X,"",_.finish),O.pendingcb++,O.lastBufferedRequest=null,_.next?(O.corkedRequestsFree=_.next,_.next=null):O.corkedRequestsFree=new t(O),O.bufferedRequestCount=0}else{for(;j;){var Y=j.chunk,ue=j.encoding,fe=j.callback,ie=O.objectMode?1:Y.length;if(M(k,O,!1,ie,Y,ue,fe),j=j.next,O.bufferedRequestCount--,O.writing)break}j===null&&(O.lastBufferedRequest=null)}O.bufferedRequest=j,O.bufferProcessing=!1}re.prototype._write=function(k,O,j){j(new C("_write()"))},re.prototype._writev=null,re.prototype.end=function(k,O,j){var z=this._writableState;return typeof k=="function"?(j=k,k=null,O=null):typeof O=="function"&&(j=O,O=null),k!=null&&this.write(k,O),z.corked&&(z.corked=1,this.uncork()),z.ending||$(this,z,j),this},Object.defineProperty(re.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function L(k){return k.ending&&k.length===0&&k.bufferedRequest===null&&!k.finished&&!k.writing}function S(k,O){k._final(function(j){O.pendingcb--,j&&G(k,j),O.prefinished=!0,k.emit("prefinish"),b(k,O)})}function c(k,O){!O.prefinished&&!O.finalCalled&&(typeof k._final=="function"&&!O.destroyed?(O.pendingcb++,O.finalCalled=!0,ve.nextTick(S,k,O)):(O.prefinished=!0,k.emit("prefinish")))}function b(k,O){var j=L(O);if(j&&(c(k,O),O.pendingcb===0&&(O.finished=!0,k.emit("finish"),O.autoDestroy))){var z=k._readableState;(!z||z.autoDestroy&&z.endEmitted)&&k.destroy()}return j}function $(k,O,j){O.ending=!0,b(k,O),j&&(O.finished?ve.nextTick(j):k.once("finish",j)),O.ended=!0,k.writable=!1}function K(k,O,j){var z=k.entry;for(k.entry=null;z;){var X=z.callback;O.pendingcb--,X(j),z=z.next}O.corkedRequestsFree.next=k}return Object.defineProperty(re.prototype,"destroyed",{enumerable:!1,get:function(){return this._writableState===void 0?!1:this._writableState.destroyed},set:function(O){!this._writableState||(this._writableState.destroyed=O)}}),re.prototype.destroy=f.destroy,re.prototype._undestroy=f.undestroy,re.prototype._destroy=function(k,O){O(k)},Ms}var As,oc;function xn(){if(oc)return As;oc=1;var t=Object.keys||function(p){var g=[];for(var I in p)g.push(I);return g};As=s;var e=Pf(),r=Nf();Nt.exports(s,e);for(var n=t(r.prototype),i=0;i<n.length;i++){var o=n[i];s.prototype[o]||(s.prototype[o]=r.prototype[o])}function s(p){if(!(this instanceof s))return new s(p);e.call(this,p),r.call(this,p),this.allowHalfOpen=!0,p&&(p.readable===!1&&(this.readable=!1),p.writable===!1&&(this.writable=!1),p.allowHalfOpen===!1&&(this.allowHalfOpen=!1,this.once("end",a)))}Object.defineProperty(s.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(s.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(s.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function a(){this._writableState.ended||ve.nextTick(f,this)}function f(p){p.end()}return Object.defineProperty(s.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},set:function(g){this._readableState===void 0||this._writableState===void 0||(this._readableState.destroyed=g,this._writableState.destroyed=g)}}),As}var Cs={},Di={exports:{}};/*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */var sc;function s_(){return sc||(sc=1,function(t,e){var r=Fn,n=r.Buffer;function i(s,a){for(var f in s)a[f]=s[f]}n.from&&n.alloc&&n.allocUnsafe&&n.allocUnsafeSlow?t.exports=r:(i(r,e),e.Buffer=o);function o(s,a,f){return n(s,a,f)}o.prototype=Object.create(n.prototype),i(n,o),o.from=function(s,a,f){if(typeof s=="number")throw new TypeError("Argument must not be a number");return n(s,a,f)},o.alloc=function(s,a,f){if(typeof s!="number")throw new TypeError("Argument must be a number");var p=n(s);return a!==void 0?typeof f=="string"?p.fill(a,f):p.fill(a):p.fill(0),p},o.allocUnsafe=function(s){if(typeof s!="number")throw new TypeError("Argument must be a number");return n(s)},o.allocUnsafeSlow=function(s){if(typeof s!="number")throw new TypeError("Argument must be a number");return r.SlowBuffer(s)}}(Di,Di.exports)),Di.exports}var ac;function uc(){if(ac)return Cs;ac=1;var t=s_().Buffer,e=t.isEncoding||function(R){switch(R=""+R,R&&R.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function r(R){if(!R)return"utf8";for(var B;;)switch(R){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return R;default:if(B)return;R=(""+R).toLowerCase(),B=!0}}function n(R){var B=r(R);if(typeof B!="string"&&(t.isEncoding===e||!e(R)))throw new Error("Unknown encoding: "+R);return B||R}Cs.StringDecoder=i;function i(R){this.encoding=n(R);var B;switch(this.encoding){case"utf16le":this.text=I,this.end=m,B=4;break;case"utf8":this.fillLast=f,B=4;break;case"base64":this.text=C,this.end=N,B=3;break;default:this.write=H,this.end=U;return}this.lastNeed=0,this.lastTotal=0,this.lastChar=t.allocUnsafe(B)}i.prototype.write=function(R){if(R.length===0)return"";var B,D;if(this.lastNeed){if(B=this.fillLast(R),B===void 0)return"";D=this.lastNeed,this.lastNeed=0}else D=0;return D<R.length?B?B+this.text(R,D):this.text(R,D):B||""},i.prototype.end=g,i.prototype.text=p,i.prototype.fillLast=function(R){if(this.lastNeed<=R.length)return R.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);R.copy(this.lastChar,this.lastTotal-this.lastNeed,0,R.length),this.lastNeed-=R.length};function o(R){return R<=127?0:R>>5===6?2:R>>4===14?3:R>>3===30?4:R>>6===2?-1:-2}function s(R,B,D){var G=B.length-1;if(G<D)return 0;var Q=o(B[G]);return Q>=0?(Q>0&&(R.lastNeed=Q-1),Q):--G<D||Q===-2?0:(Q=o(B[G]),Q>=0?(Q>0&&(R.lastNeed=Q-2),Q):--G<D||Q===-2?0:(Q=o(B[G]),Q>=0?(Q>0&&(Q===2?Q=0:R.lastNeed=Q-3),Q):0))}function a(R,B,D){if((B[0]&192)!==128)return R.lastNeed=0,"\uFFFD";if(R.lastNeed>1&&B.length>1){if((B[1]&192)!==128)return R.lastNeed=1,"\uFFFD";if(R.lastNeed>2&&B.length>2&&(B[2]&192)!==128)return R.lastNeed=2,"\uFFFD"}}function f(R){var B=this.lastTotal-this.lastNeed,D=a(this,R);if(D!==void 0)return D;if(this.lastNeed<=R.length)return R.copy(this.lastChar,B,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);R.copy(this.lastChar,B,0,R.length),this.lastNeed-=R.length}function p(R,B){var D=s(this,R,B);if(!this.lastNeed)return R.toString("utf8",B);this.lastTotal=D;var G=R.length-(D-this.lastNeed);return R.copy(this.lastChar,0,G),R.toString("utf8",B,G)}function g(R){var B=R&&R.length?this.write(R):"";return this.lastNeed?B+"\uFFFD":B}function I(R,B){if((R.length-B)%2===0){var D=R.toString("utf16le",B);if(D){var G=D.charCodeAt(D.length-1);if(G>=55296&&G<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=R[R.length-2],this.lastChar[1]=R[R.length-1],D.slice(0,-1)}return D}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=R[R.length-1],R.toString("utf16le",B,R.length-1)}function m(R){var B=R&&R.length?this.write(R):"";if(this.lastNeed){var D=this.lastTotal-this.lastNeed;return B+this.lastChar.toString("utf16le",0,D)}return B}function C(R,B){var D=(R.length-B)%3;return D===0?R.toString("base64",B):(this.lastNeed=3-D,this.lastTotal=3,D===1?this.lastChar[0]=R[R.length-1]:(this.lastChar[0]=R[R.length-2],this.lastChar[1]=R[R.length-1]),R.toString("base64",B,R.length-D))}function N(R){var B=R&&R.length?this.write(R):"";return this.lastNeed?B+this.lastChar.toString("base64",0,3-this.lastNeed):B}function H(R){return R.toString(this.encoding)}function U(R){return R&&R.length?this.write(R):""}return Cs}var cc=qr.codes.ERR_STREAM_PREMATURE_CLOSE;function a_(t){var e=!1;return function(){if(!e){e=!0;for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];t.apply(this,n)}}}function u_(){}function c_(t){return t.setHeader&&typeof t.abort=="function"}function Bf(t,e,r){if(typeof e=="function")return Bf(t,null,e);e||(e={}),r=a_(r||u_);var n=e.readable||e.readable!==!1&&t.readable,i=e.writable||e.writable!==!1&&t.writable,o=function(){t.writable||a()},s=t._writableState&&t._writableState.finished,a=function(){i=!1,s=!0,n||r.call(t)},f=t._readableState&&t._readableState.endEmitted,p=function(){n=!1,f=!0,i||r.call(t)},g=function(N){r.call(t,N)},I=function(){var N;if(n&&!f)return(!t._readableState||!t._readableState.ended)&&(N=new cc),r.call(t,N);if(i&&!s)return(!t._writableState||!t._writableState.ended)&&(N=new cc),r.call(t,N)},m=function(){t.req.on("finish",a)};return c_(t)?(t.on("complete",a),t.on("abort",I),t.req?m():t.on("request",m)):i&&!t._writableState&&(t.on("end",o),t.on("close",o)),t.on("end",p),t.on("finish",a),e.error!==!1&&t.on("error",g),t.on("close",I),function(){t.removeListener("complete",a),t.removeListener("abort",I),t.removeListener("request",m),t.req&&t.req.removeListener("finish",a),t.removeListener("end",o),t.removeListener("close",o),t.removeListener("finish",a),t.removeListener("end",p),t.removeListener("error",g),t.removeListener("close",I)}}var Va=Bf,ks,lc;function l_(){if(lc)return ks;lc=1;var t;function e(R,B,D){return B in R?Object.defineProperty(R,B,{value:D,enumerable:!0,configurable:!0,writable:!0}):R[B]=D,R}var r=Va,n=Symbol("lastResolve"),i=Symbol("lastReject"),o=Symbol("error"),s=Symbol("ended"),a=Symbol("lastPromise"),f=Symbol("handlePromise"),p=Symbol("stream");function g(R,B){return{value:R,done:B}}function I(R){var B=R[n];if(B!==null){var D=R[p].read();D!==null&&(R[a]=null,R[n]=null,R[i]=null,B(g(D,!1)))}}function m(R){ve.nextTick(I,R)}function C(R,B){return function(D,G){R.then(function(){if(B[s]){D(g(void 0,!0));return}B[f](D,G)},G)}}var N=Object.getPrototypeOf(function(){}),H=Object.setPrototypeOf((t={get stream(){return this[p]},next:function(){var B=this,D=this[o];if(D!==null)return Promise.reject(D);if(this[s])return Promise.resolve(g(void 0,!0));if(this[p].destroyed)return new Promise(function(te,re){ve.nextTick(function(){B[o]?re(B[o]):te(g(void 0,!0))})});var G=this[a],Q;if(G)Q=new Promise(C(G,this));else{var J=this[p].read();if(J!==null)return Promise.resolve(g(J,!1));Q=new Promise(this[f])}return this[a]=Q,Q}},e(t,Symbol.asyncIterator,function(){return this}),e(t,"return",function(){var B=this;return new Promise(function(D,G){B[p].destroy(null,function(Q){if(Q){G(Q);return}D(g(void 0,!0))})})}),t),N),U=function(B){var D,G=Object.create(H,(D={},e(D,p,{value:B,writable:!0}),e(D,n,{value:null,writable:!0}),e(D,i,{value:null,writable:!0}),e(D,o,{value:null,writable:!0}),e(D,s,{value:B._readableState.endEmitted,writable:!0}),e(D,f,{value:function(J,te){var re=G[p].read();re?(G[a]=null,G[n]=null,G[i]=null,J(g(re,!1))):(G[n]=J,G[i]=te)},writable:!0}),D));return G[a]=null,r(B,function(Q){if(Q&&Q.code!=="ERR_STREAM_PREMATURE_CLOSE"){var J=G[i];J!==null&&(G[a]=null,G[n]=null,G[i]=null,J(Q)),G[o]=Q;return}var te=G[n];te!==null&&(G[a]=null,G[n]=null,G[i]=null,te(g(void 0,!0))),G[s]=!0}),B.on("readable",m.bind(null,G)),G};return ks=U,ks}var Is,fc;function f_(){return fc||(fc=1,Is=function(){throw new Error("Readable.from is not available in the browser")}),Is}var Rs,hc;function Pf(){if(hc)return Rs;hc=1,Rs=ee;var t;ee.ReadableState=re,yo.exports.EventEmitter;var e=function(E,q){return E.listeners(q).length},r=If,n=Fn.Buffer,i=_e.Uint8Array||function(){};function o(_){return n.from(_)}function s(_){return n.isBuffer(_)||_ instanceof i}var a=go,f;a&&a.debuglog?f=a.debuglog("stream"):f=function(){};var p=G1(),g=Rf,I=Of,m=I.getHighWaterMark,C=qr.codes,N=C.ERR_INVALID_ARG_TYPE,H=C.ERR_STREAM_PUSH_AFTER_EOF,U=C.ERR_METHOD_NOT_IMPLEMENTED,R=C.ERR_STREAM_UNSHIFT_AFTER_END_EVENT,B,D,G;Nt.exports(ee,r);var Q=g.errorOrDestroy,J=["error","close","destroy","pause","resume"];function te(_,E,q){if(typeof _.prependListener=="function")return _.prependListener(E,q);!_._events||!_._events[E]?_.on(E,q):Array.isArray(_._events[E])?_._events[E].unshift(q):_._events[E]=[q,_._events[E]]}function re(_,E,q){t=t||xn(),_=_||{},typeof q!="boolean"&&(q=E instanceof t),this.objectMode=!!_.objectMode,q&&(this.objectMode=this.objectMode||!!_.readableObjectMode),this.highWaterMark=m(this,_,"readableHighWaterMark",q),this.buffer=new p,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=_.emitClose!==!1,this.autoDestroy=!!_.autoDestroy,this.destroyed=!1,this.defaultEncoding=_.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,_.encoding&&(B||(B=uc().StringDecoder),this.decoder=new B(_.encoding),this.encoding=_.encoding)}function ee(_){if(t=t||xn(),!(this instanceof ee))return new ee(_);var E=this instanceof t;this._readableState=new re(_,this,E),this.readable=!0,_&&(typeof _.read=="function"&&(this._read=_.read),typeof _.destroy=="function"&&(this._destroy=_.destroy)),r.call(this)}Object.defineProperty(ee.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0?!1:this._readableState.destroyed},set:function(E){!this._readableState||(this._readableState.destroyed=E)}}),ee.prototype.destroy=g.destroy,ee.prototype._undestroy=g.undestroy,ee.prototype._destroy=function(_,E){E(_)},ee.prototype.push=function(_,E){var q=this._readableState,Y;return q.objectMode?Y=!0:typeof _=="string"&&(E=E||q.defaultEncoding,E!==q.encoding&&(_=n.from(_,E),E=""),Y=!0),ye(this,_,E,!1,Y)},ee.prototype.unshift=function(_){return ye(this,_,null,!0,!1)};function ye(_,E,q,Y,ue){f("readableAddChunk",E);var fe=_._readableState;if(E===null)fe.reading=!1,v(_,fe);else{var ie;if(ue||(ie=ae(fe,E)),ie)Q(_,ie);else if(fe.objectMode||E&&E.length>0)if(typeof E!="string"&&!fe.objectMode&&Object.getPrototypeOf(E)!==n.prototype&&(E=o(E)),Y)fe.endEmitted?Q(_,new R):oe(_,fe,E,!0);else if(fe.ended)Q(_,new H);else{if(fe.destroyed)return!1;fe.reading=!1,fe.decoder&&!q?(E=fe.decoder.write(E),fe.objectMode||E.length!==0?oe(_,fe,E,!1):T(_,fe)):oe(_,fe,E,!1)}else Y||(fe.reading=!1,T(_,fe))}return!fe.ended&&(fe.length<fe.highWaterMark||fe.length===0)}function oe(_,E,q,Y){E.flowing&&E.length===0&&!E.sync?(E.awaitDrain=0,_.emit("data",q)):(E.length+=E.objectMode?1:q.length,Y?E.buffer.unshift(q):E.buffer.push(q),E.needReadable&&x(_)),T(_,E)}function ae(_,E){var q;return!s(E)&&typeof E!="string"&&E!==void 0&&!_.objectMode&&(q=new N("chunk",["string","Buffer","Uint8Array"],E)),q}ee.prototype.isPaused=function(){return this._readableState.flowing===!1},ee.prototype.setEncoding=function(_){B||(B=uc().StringDecoder);var E=new B(_);this._readableState.decoder=E,this._readableState.encoding=this._readableState.decoder.encoding;for(var q=this._readableState.buffer.head,Y="";q!==null;)Y+=E.write(q.data),q=q.next;return this._readableState.buffer.clear(),Y!==""&&this._readableState.buffer.push(Y),this._readableState.length=Y.length,this};var M=1073741824;function u(_){return _>=M?_=M:(_--,_|=_>>>1,_|=_>>>2,_|=_>>>4,_|=_>>>8,_|=_>>>16,_++),_}function d(_,E){return _<=0||E.length===0&&E.ended?0:E.objectMode?1:_!==_?E.flowing&&E.length?E.buffer.head.data.length:E.length:(_>E.highWaterMark&&(E.highWaterMark=u(_)),_<=E.length?_:E.ended?E.length:(E.needReadable=!0,0))}ee.prototype.read=function(_){f("read",_),_=parseInt(_,10);var E=this._readableState,q=_;if(_!==0&&(E.emittedReadable=!1),_===0&&E.needReadable&&((E.highWaterMark!==0?E.length>=E.highWaterMark:E.length>0)||E.ended))return f("read: emitReadable",E.length,E.ended),E.length===0&&E.ended?j(this):x(this),null;if(_=d(_,E),_===0&&E.ended)return E.length===0&&j(this),null;var Y=E.needReadable;f("need readable",Y),(E.length===0||E.length-_<E.highWaterMark)&&(Y=!0,f("length less than watermark",Y)),E.ended||E.reading?(Y=!1,f("reading or ended",Y)):Y&&(f("do read"),E.reading=!0,E.sync=!0,E.length===0&&(E.needReadable=!0),this._read(E.highWaterMark),E.sync=!1,E.reading||(_=d(q,E)));var ue;return _>0?ue=O(_,E):ue=null,ue===null?(E.needReadable=E.length<=E.highWaterMark,_=0):(E.length-=_,E.awaitDrain=0),E.length===0&&(E.ended||(E.needReadable=!0),q!==_&&E.ended&&j(this)),ue!==null&&this.emit("data",ue),ue};function v(_,E){if(f("onEofChunk"),!E.ended){if(E.decoder){var q=E.decoder.end();q&&q.length&&(E.buffer.push(q),E.length+=E.objectMode?1:q.length)}E.ended=!0,E.sync?x(_):(E.needReadable=!1,E.emittedReadable||(E.emittedReadable=!0,A(_)))}}function x(_){var E=_._readableState;f("emitReadable",E.needReadable,E.emittedReadable),E.needReadable=!1,E.emittedReadable||(f("emitReadable",E.flowing),E.emittedReadable=!0,ve.nextTick(A,_))}function A(_){var E=_._readableState;f("emitReadable_",E.destroyed,E.length,E.ended),!E.destroyed&&(E.length||E.ended)&&(_.emit("readable"),E.emittedReadable=!1),E.needReadable=!E.flowing&&!E.ended&&E.length<=E.highWaterMark,k(_)}function T(_,E){E.readingMore||(E.readingMore=!0,ve.nextTick(L,_,E))}function L(_,E){for(;!E.reading&&!E.ended&&(E.length<E.highWaterMark||E.flowing&&E.length===0);){var q=E.length;if(f("maybeReadMore read 0"),_.read(0),q===E.length)break}E.readingMore=!1}ee.prototype._read=function(_){Q(this,new U("_read()"))},ee.prototype.pipe=function(_,E){var q=this,Y=this._readableState;switch(Y.pipesCount){case 0:Y.pipes=_;break;case 1:Y.pipes=[Y.pipes,_];break;default:Y.pipes.push(_);break}Y.pipesCount+=1,f("pipe count=%d opts=%j",Y.pipesCount,E);var ue=(!E||E.end!==!1)&&_!==ve.stdout&&_!==ve.stderr,fe=ue?Me:Re;Y.endEmitted?ve.nextTick(fe):q.once("end",fe),_.on("unpipe",ie);function ie(y,l){f("onunpipe"),y===q&&l&&l.hasUnpiped===!1&&(l.hasUnpiped=!0,ke())}function Me(){f("onend"),_.end()}var V=S(q);_.on("drain",V);var Ce=!1;function ke(){f("cleanup"),_.removeListener("close",Oe),_.removeListener("finish",st),_.removeListener("drain",V),_.removeListener("error",Ie),_.removeListener("unpipe",ie),q.removeListener("end",Me),q.removeListener("end",Re),q.removeListener("data",ot),Ce=!0,Y.awaitDrain&&(!_._writableState||_._writableState.needDrain)&&V()}q.on("data",ot);function ot(y){f("ondata");var l=_.write(y);f("dest.write",l),l===!1&&((Y.pipesCount===1&&Y.pipes===_||Y.pipesCount>1&&X(Y.pipes,_)!==-1)&&!Ce&&(f("false write response, pause",Y.awaitDrain),Y.awaitDrain++),q.pause())}function Ie(y){f("onerror",y),Re(),_.removeListener("error",Ie),e(_,"error")===0&&Q(_,y)}te(_,"error",Ie);function Oe(){_.removeListener("finish",st),Re()}_.once("close",Oe);function st(){f("onfinish"),_.removeListener("close",Oe),Re()}_.once("finish",st);function Re(){f("unpipe"),q.unpipe(_)}return _.emit("pipe",q),Y.flowing||(f("pipe resume"),q.resume()),_};function S(_){return function(){var q=_._readableState;f("pipeOnDrain",q.awaitDrain),q.awaitDrain&&q.awaitDrain--,q.awaitDrain===0&&e(_,"data")&&(q.flowing=!0,k(_))}}ee.prototype.unpipe=function(_){var E=this._readableState,q={hasUnpiped:!1};if(E.pipesCount===0)return this;if(E.pipesCount===1)return _&&_!==E.pipes?this:(_||(_=E.pipes),E.pipes=null,E.pipesCount=0,E.flowing=!1,_&&_.emit("unpipe",this,q),this);if(!_){var Y=E.pipes,ue=E.pipesCount;E.pipes=null,E.pipesCount=0,E.flowing=!1;for(var fe=0;fe<ue;fe++)Y[fe].emit("unpipe",this,{hasUnpiped:!1});return this}var ie=X(E.pipes,_);return ie===-1?this:(E.pipes.splice(ie,1),E.pipesCount-=1,E.pipesCount===1&&(E.pipes=E.pipes[0]),_.emit("unpipe",this,q),this)},ee.prototype.on=function(_,E){var q=r.prototype.on.call(this,_,E),Y=this._readableState;return _==="data"?(Y.readableListening=this.listenerCount("readable")>0,Y.flowing!==!1&&this.resume()):_==="readable"&&!Y.endEmitted&&!Y.readableListening&&(Y.readableListening=Y.needReadable=!0,Y.flowing=!1,Y.emittedReadable=!1,f("on readable",Y.length,Y.reading),Y.length?x(this):Y.reading||ve.nextTick(b,this)),q},ee.prototype.addListener=ee.prototype.on,ee.prototype.removeListener=function(_,E){var q=r.prototype.removeListener.call(this,_,E);return _==="readable"&&ve.nextTick(c,this),q},ee.prototype.removeAllListeners=function(_){var E=r.prototype.removeAllListeners.apply(this,arguments);return(_==="readable"||_===void 0)&&ve.nextTick(c,this),E};function c(_){var E=_._readableState;E.readableListening=_.listenerCount("readable")>0,E.resumeScheduled&&!E.paused?E.flowing=!0:_.listenerCount("data")>0&&_.resume()}function b(_){f("readable nexttick read 0"),_.read(0)}ee.prototype.resume=function(){var _=this._readableState;return _.flowing||(f("resume"),_.flowing=!_.readableListening,$(this,_)),_.paused=!1,this};function $(_,E){E.resumeScheduled||(E.resumeScheduled=!0,ve.nextTick(K,_,E))}function K(_,E){f("resume",E.reading),E.reading||_.read(0),E.resumeScheduled=!1,_.emit("resume"),k(_),E.flowing&&!E.reading&&_.read(0)}ee.prototype.pause=function(){return f("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(f("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this};function k(_){var E=_._readableState;for(f("flow",E.flowing);E.flowing&&_.read()!==null;);}ee.prototype.wrap=function(_){var E=this,q=this._readableState,Y=!1;_.on("end",function(){if(f("wrapped end"),q.decoder&&!q.ended){var ie=q.decoder.end();ie&&ie.length&&E.push(ie)}E.push(null)}),_.on("data",function(ie){if(f("wrapped data"),q.decoder&&(ie=q.decoder.write(ie)),!(q.objectMode&&ie==null)&&!(!q.objectMode&&(!ie||!ie.length))){var Me=E.push(ie);Me||(Y=!0,_.pause())}});for(var ue in _)this[ue]===void 0&&typeof _[ue]=="function"&&(this[ue]=function(Me){return function(){return _[Me].apply(_,arguments)}}(ue));for(var fe=0;fe<J.length;fe++)_.on(J[fe],this.emit.bind(this,J[fe]));return this._read=function(ie){f("wrapped _read",ie),Y&&(Y=!1,_.resume())},this},typeof Symbol=="function"&&(ee.prototype[Symbol.asyncIterator]=function(){return D===void 0&&(D=l_()),D(this)}),Object.defineProperty(ee.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(ee.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(ee.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(E){this._readableState&&(this._readableState.flowing=E)}}),ee._fromList=O,Object.defineProperty(ee.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}});function O(_,E){if(E.length===0)return null;var q;return E.objectMode?q=E.buffer.shift():!_||_>=E.length?(E.decoder?q=E.buffer.join(""):E.buffer.length===1?q=E.buffer.first():q=E.buffer.concat(E.length),E.buffer.clear()):q=E.buffer.consume(_,E.decoder),q}function j(_){var E=_._readableState;f("endReadable",E.endEmitted),E.endEmitted||(E.ended=!0,ve.nextTick(z,E,_))}function z(_,E){if(f("endReadableNT",_.endEmitted,_.length),!_.endEmitted&&_.length===0&&(_.endEmitted=!0,E.readable=!1,E.emit("end"),_.autoDestroy)){var q=E._writableState;(!q||q.autoDestroy&&q.finished)&&E.destroy()}}typeof Symbol=="function"&&(ee.from=function(_,E){return G===void 0&&(G=f_()),G(ee,_,E)});function X(_,E){for(var q=0,Y=_.length;q<Y;q++)if(_[q]===E)return q;return-1}return Rs}var Lf=Xt,To=qr.codes,h_=To.ERR_METHOD_NOT_IMPLEMENTED,d_=To.ERR_MULTIPLE_CALLBACK,p_=To.ERR_TRANSFORM_ALREADY_TRANSFORMING,g_=To.ERR_TRANSFORM_WITH_LENGTH_0,Oo=xn();Nt.exports(Xt,Oo);function y_(t,e){var r=this._transformState;r.transforming=!1;var n=r.writecb;if(n===null)return this.emit("error",new d_);r.writechunk=null,r.writecb=null,e!=null&&this.push(e),n(t);var i=this._readableState;i.reading=!1,(i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}function Xt(t){if(!(this instanceof Xt))return new Xt(t);Oo.call(this,t),this._transformState={afterTransform:y_.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,t&&(typeof t.transform=="function"&&(this._transform=t.transform),typeof t.flush=="function"&&(this._flush=t.flush)),this.on("prefinish",b_)}function b_(){var t=this;typeof this._flush=="function"&&!this._readableState.destroyed?this._flush(function(e,r){dc(t,e,r)}):dc(this,null,null)}Xt.prototype.push=function(t,e){return this._transformState.needTransform=!1,Oo.prototype.push.call(this,t,e)};Xt.prototype._transform=function(t,e,r){r(new h_("_transform()"))};Xt.prototype._write=function(t,e,r){var n=this._transformState;if(n.writecb=r,n.writechunk=t,n.writeencoding=e,!n.transforming){var i=this._readableState;(n.needTransform||i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}};Xt.prototype._read=function(t){var e=this._transformState;e.writechunk!==null&&!e.transforming?(e.transforming=!0,this._transform(e.writechunk,e.writeencoding,e.afterTransform)):e.needTransform=!0};Xt.prototype._destroy=function(t,e){Oo.prototype._destroy.call(this,t,function(r){e(r)})};function dc(t,e,r){if(e)return t.emit("error",e);if(r!=null&&t.push(r),t._writableState.length)throw new g_;if(t._transformState.transforming)throw new p_;return t.push(null)}var v_=fi,Df=Lf;Nt.exports(fi,Df);function fi(t){if(!(this instanceof fi))return new fi(t);Df.call(this,t)}fi.prototype._transform=function(t,e,r){r(null,t)};var Ts;function m_(t){var e=!1;return function(){e||(e=!0,t.apply(void 0,arguments))}}var Ff=qr.codes,__=Ff.ERR_MISSING_ARGS,w_=Ff.ERR_STREAM_DESTROYED;function pc(t){if(t)throw t}function S_(t){return t.setHeader&&typeof t.abort=="function"}function E_(t,e,r,n){n=m_(n);var i=!1;t.on("close",function(){i=!0}),Ts===void 0&&(Ts=Va),Ts(t,{readable:e,writable:r},function(s){if(s)return n(s);i=!0,n()});var o=!1;return function(s){if(!i&&!o){if(o=!0,S_(t))return t.abort();if(typeof t.destroy=="function")return t.destroy();n(s||new w_("pipe"))}}}function gc(t){t()}function x_(t,e){return t.pipe(e)}function M_(t){return!t.length||typeof t[t.length-1]!="function"?pc:t.pop()}function A_(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];var n=M_(e);if(Array.isArray(e[0])&&(e=e[0]),e.length<2)throw new __("streams");var i,o=e.map(function(s,a){var f=a<e.length-1,p=a>0;return E_(s,f,p,function(g){i||(i=g),g&&o.forEach(gc),!f&&(o.forEach(gc),n(i))})});return e.reduce(x_)}var C_=A_;(function(t,e){e=t.exports=Pf(),e.Stream=e,e.Readable=e,e.Writable=Nf(),e.Duplex=xn(),e.Transform=Lf,e.PassThrough=v_,e.finished=Va,e.pipeline=C_})(ao,ao.exports);const{Transform:k_}=ao.exports;var I_=t=>class jf extends k_{constructor(r,n,i,o,s){super(s),this._rate=r,this._capacity=n,this._delimitedSuffix=i,this._hashBitLength=o,this._options=s,this._state=new t,this._state.initialize(r,n),this._finalized=!1}_transform(r,n,i){let o=null;try{this.update(r,n)}catch(s){o=s}i(o)}_flush(r){let n=null;try{this.push(this.digest())}catch(i){n=i}r(n)}update(r,n){if(!Se.isBuffer(r)&&typeof r!="string")throw new TypeError("Data must be a string or a buffer");if(this._finalized)throw new Error("Digest already called");return Se.isBuffer(r)||(r=Se.from(r,n)),this._state.absorb(r),this}digest(r){if(this._finalized)throw new Error("Digest already called");this._finalized=!0,this._delimitedSuffix&&this._state.absorbLastFewBits(this._delimitedSuffix);let n=this._state.squeeze(this._hashBitLength/8);return r!==void 0&&(n=n.toString(r)),this._resetState(),n}_resetState(){return this._state.initialize(this._rate,this._capacity),this}_clone(){const r=new jf(this._rate,this._capacity,this._delimitedSuffix,this._hashBitLength,this._options);return this._state.copy(r._state),r._finalized=this._finalized,r}};const{Transform:R_}=ao.exports;var T_=t=>class $f extends R_{constructor(r,n,i,o){super(o),this._rate=r,this._capacity=n,this._delimitedSuffix=i,this._options=o,this._state=new t,this._state.initialize(r,n),this._finalized=!1}_transform(r,n,i){let o=null;try{this.update(r,n)}catch(s){o=s}i(o)}_flush(){}_read(r){this.push(this.squeeze(r))}update(r,n){if(!Se.isBuffer(r)&&typeof r!="string")throw new TypeError("Data must be a string or a buffer");if(this._finalized)throw new Error("Squeeze already called");return Se.isBuffer(r)||(r=Se.from(r,n)),this._state.absorb(r),this}squeeze(r,n){this._finalized||(this._finalized=!0,this._state.absorbLastFewBits(this._delimitedSuffix));let i=this._state.squeeze(r);return n!==void 0&&(i=i.toString(n)),i}_resetState(){return this._state.initialize(this._rate,this._capacity),this}_clone(){const r=new $f(this._rate,this._capacity,this._delimitedSuffix,this._options);return this._state.copy(r._state),r._finalized=this._finalized,r}};const O_=I_,N_=T_;var B_=function(t){const e=O_(t),r=N_(t);return function(n,i){switch(typeof n=="string"?n.toLowerCase():n){case"keccak224":return new e(1152,448,null,224,i);case"keccak256":return new e(1088,512,null,256,i);case"keccak384":return new e(832,768,null,384,i);case"keccak512":return new e(576,1024,null,512,i);case"sha3-224":return new e(1152,448,6,224,i);case"sha3-256":return new e(1088,512,6,256,i);case"sha3-384":return new e(832,768,6,384,i);case"sha3-512":return new e(576,1024,6,512,i);case"shake128":return new r(1344,256,31,i);case"shake256":return new r(1088,512,31,i);default:throw new Error("Invald algorithm: "+n)}}},Uf={};const yc=[1,0,32898,0,32906,2147483648,2147516416,2147483648,32907,0,2147483649,0,2147516545,2147483648,32777,2147483648,138,0,136,0,2147516425,0,2147483658,0,2147516555,0,139,2147483648,32905,2147483648,32771,2147483648,32770,2147483648,128,2147483648,32778,0,2147483658,2147483648,2147516545,2147483648,32896,2147483648,2147483649,0,2147516424,2147483648];Uf.p1600=function(t){for(let e=0;e<24;++e){const r=t[0]^t[10]^t[20]^t[30]^t[40],n=t[1]^t[11]^t[21]^t[31]^t[41],i=t[2]^t[12]^t[22]^t[32]^t[42],o=t[3]^t[13]^t[23]^t[33]^t[43],s=t[4]^t[14]^t[24]^t[34]^t[44],a=t[5]^t[15]^t[25]^t[35]^t[45],f=t[6]^t[16]^t[26]^t[36]^t[46],p=t[7]^t[17]^t[27]^t[37]^t[47],g=t[8]^t[18]^t[28]^t[38]^t[48],I=t[9]^t[19]^t[29]^t[39]^t[49];let m=g^(i<<1|o>>>31),C=I^(o<<1|i>>>31);const N=t[0]^m,H=t[1]^C,U=t[10]^m,R=t[11]^C,B=t[20]^m,D=t[21]^C,G=t[30]^m,Q=t[31]^C,J=t[40]^m,te=t[41]^C;m=r^(s<<1|a>>>31),C=n^(a<<1|s>>>31);const re=t[2]^m,ee=t[3]^C,ye=t[12]^m,oe=t[13]^C,ae=t[22]^m,M=t[23]^C,u=t[32]^m,d=t[33]^C,v=t[42]^m,x=t[43]^C;m=i^(f<<1|p>>>31),C=o^(p<<1|f>>>31);const A=t[4]^m,T=t[5]^C,L=t[14]^m,S=t[15]^C,c=t[24]^m,b=t[25]^C,$=t[34]^m,K=t[35]^C,k=t[44]^m,O=t[45]^C;m=s^(g<<1|I>>>31),C=a^(I<<1|g>>>31);const j=t[6]^m,z=t[7]^C,X=t[16]^m,_=t[17]^C,E=t[26]^m,q=t[27]^C,Y=t[36]^m,ue=t[37]^C,fe=t[46]^m,ie=t[47]^C;m=f^(r<<1|n>>>31),C=p^(n<<1|r>>>31);const Me=t[8]^m,V=t[9]^C,Ce=t[18]^m,ke=t[19]^C,ot=t[28]^m,Ie=t[29]^C,Oe=t[38]^m,st=t[39]^C,Re=t[48]^m,y=t[49]^C,l=N,h=H,w=R<<4|U>>>28,P=U<<4|R>>>28,F=B<<3|D>>>29,W=D<<3|B>>>29,de=Q<<9|G>>>23,he=G<<9|Q>>>23,le=J<<18|te>>>14,Ne=te<<18|J>>>14,ce=re<<1|ee>>>31,Pe=ee<<1|re>>>31,Zr=oe<<12|ye>>>20,Le=ye<<12|oe>>>20,De=ae<<10|M>>>22,Kr=M<<10|ae>>>22,Fe=d<<13|u>>>19,je=u<<13|d>>>19,Yr=v<<2|x>>>30,$e=x<<2|v>>>30,Ue=T<<30|A>>>2,Qr=A<<30|T>>>2,We=L<<6|S>>>26,He=S<<6|L>>>26,Jr=b<<11|c>>>21,Ve=c<<11|b>>>21,ze=$<<15|K>>>17,Xr=K<<15|$>>>17,qe=O<<29|k>>>3,Ge=k<<29|O>>>3,en=j<<28|z>>>4,Ze=z<<28|j>>>4,Ke=_<<23|X>>>9,tn=X<<23|_>>>9,Ye=E<<25|q>>>7,Qe=q<<25|E>>>7,vr=Y<<21|ue>>>11,mr=ue<<21|Y>>>11,_r=ie<<24|fe>>>8,wr=fe<<24|ie>>>8,Sr=Me<<27|V>>>5,Er=V<<27|Me>>>5,xr=Ce<<20|ke>>>12,Mr=ke<<20|Ce>>>12,Ar=Ie<<7|ot>>>25,Cr=ot<<7|Ie>>>25,kr=Oe<<8|st>>>24,Ir=st<<8|Oe>>>24,Rr=Re<<14|y>>>18,Tr=y<<14|Re>>>18;t[0]=l^~Zr&Jr,t[1]=h^~Le&Ve,t[10]=en^~xr&F,t[11]=Ze^~Mr&W,t[20]=ce^~We&Ye,t[21]=Pe^~He&Qe,t[30]=Sr^~w&De,t[31]=Er^~P&Kr,t[40]=Ue^~Ke&Ar,t[41]=Qr^~tn&Cr,t[2]=Zr^~Jr&vr,t[3]=Le^~Ve&mr,t[12]=xr^~F&Fe,t[13]=Mr^~W&je,t[22]=We^~Ye&kr,t[23]=He^~Qe&Ir,t[32]=w^~De&ze,t[33]=P^~Kr&Xr,t[42]=Ke^~Ar&de,t[43]=tn^~Cr&he,t[4]=Jr^~vr&Rr,t[5]=Ve^~mr&Tr,t[14]=F^~Fe&qe,t[15]=W^~je&Ge,t[24]=Ye^~kr&le,t[25]=Qe^~Ir&Ne,t[34]=De^~ze&_r,t[35]=Kr^~Xr&wr,t[44]=Ar^~de&Yr,t[45]=Cr^~he&$e,t[6]=vr^~Rr&l,t[7]=mr^~Tr&h,t[16]=Fe^~qe&en,t[17]=je^~Ge&Ze,t[26]=kr^~le&ce,t[27]=Ir^~Ne&Pe,t[36]=ze^~_r&Sr,t[37]=Xr^~wr&Er,t[46]=de^~Yr&Ue,t[47]=he^~$e&Qr,t[8]=Rr^~l&Zr,t[9]=Tr^~h&Le,t[18]=qe^~en&xr,t[19]=Ge^~Ze&Mr,t[28]=le^~ce&We,t[29]=Ne^~Pe&He,t[38]=_r^~Sr&w,t[39]=wr^~Er&P,t[48]=Yr^~Ue&Ke,t[49]=$e^~Qr&tn,t[0]^=yc[e*2],t[1]^=yc[e*2+1]}};const uo=Uf;function Un(){this.state=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],this.blockSize=null,this.count=0,this.squeezing=!1}Un.prototype.initialize=function(t,e){for(let r=0;r<50;++r)this.state[r]=0;this.blockSize=t/8,this.count=0,this.squeezing=!1};Un.prototype.absorb=function(t){for(let e=0;e<t.length;++e)this.state[~~(this.count/4)]^=t[e]<<8*(this.count%4),this.count+=1,this.count===this.blockSize&&(uo.p1600(this.state),this.count=0)};Un.prototype.absorbLastFewBits=function(t){this.state[~~(this.count/4)]^=t<<8*(this.count%4),(t&128)!==0&&this.count===this.blockSize-1&&uo.p1600(this.state),this.state[~~((this.blockSize-1)/4)]^=128<<8*((this.blockSize-1)%4),uo.p1600(this.state),this.count=0,this.squeezing=!0};Un.prototype.squeeze=function(t){this.squeezing||this.absorbLastFewBits(1);const e=Se.alloc(t);for(let r=0;r<t;++r)e[r]=this.state[~~(this.count/4)]>>>8*(this.count%4)&255,this.count+=1,this.count===this.blockSize&&(uo.p1600(this.state),this.count=0);return e};Un.prototype.copy=function(t){for(let e=0;e<50;++e)t.state[e]=this.state[e];t.blockSize=this.blockSize,t.count=this.count,t.squeezing=this.squeezing};var P_=Un,L_=B_(P_);const D_=L_,F_=di.exports;function Wf(t){return Se.allocUnsafe(t).fill(0)}function Hf(t,e,r){const n=Wf(e);return t=No(t),r?t.length<e?(t.copy(n),n):t.slice(0,e):t.length<e?(t.copy(n,e-t.length),n):t.slice(-e)}function j_(t,e){return Hf(t,e,!0)}function No(t){if(!Se.isBuffer(t))if(Array.isArray(t))t=Se.from(t);else if(typeof t=="string")Vf(t)?t=Se.from(W_(zf(t)),"hex"):t=Se.from(t);else if(typeof t=="number")t=intToBuffer(t);else if(t==null)t=Se.allocUnsafe(0);else if(F_.isBN(t))t=t.toArrayLike(Se);else if(t.toArray)t=Se.from(t.toArray());else throw new Error("invalid type");return t}function $_(t){return t=No(t),"0x"+t.toString("hex")}function U_(t,e){return t=No(t),e||(e=256),D_("keccak"+e).update(t).digest()}function W_(t){return t.length%2?"0"+t:t}function Vf(t){return typeof t=="string"&&t.match(/^0x[0-9A-Fa-f]*$/)}function zf(t){return typeof t=="string"&&t.startsWith("0x")?t.slice(2):t}var qf={zeros:Wf,setLength:Hf,setLengthRight:j_,isHexString:Vf,stripHexPrefix:zf,toBuffer:No,bufferToHex:$_,keccak:U_};const Hr=qf,Fr=di.exports;function Gf(t){return t.startsWith("int[")?"int256"+t.slice(3):t==="int"?"int256":t.startsWith("uint[")?"uint256"+t.slice(4):t==="uint"?"uint256":t.startsWith("fixed[")?"fixed128x128"+t.slice(5):t==="fixed"?"fixed128x128":t.startsWith("ufixed[")?"ufixed128x128"+t.slice(6):t==="ufixed"?"ufixed128x128":t}function pn(t){return parseInt(/^\D+(\d+)$/.exec(t)[1],10)}function bc(t){var e=/^\D+(\d+)x(\d+)$/.exec(t);return[parseInt(e[1],10),parseInt(e[2],10)]}function Zf(t){var e=t.match(/(.*)\[(.*?)\]$/);return e?e[2]===""?"dynamic":parseInt(e[2],10):null}function Br(t){var e=typeof t;if(e==="string")return Hr.isHexString(t)?new Fr(Hr.stripHexPrefix(t),16):new Fr(t,10);if(e==="number")return new Fr(t);if(t.toArray)return t;throw new Error("Argument is not a number")}function Ht(t,e){var r,n,i,o;if(t==="address")return Ht("uint160",Br(e));if(t==="bool")return Ht("uint8",e?1:0);if(t==="string")return Ht("bytes",new Se(e,"utf8"));if(V_(t)){if(typeof e.length>"u")throw new Error("Not an array?");if(r=Zf(t),r!=="dynamic"&&r!==0&&e.length>r)throw new Error("Elements exceed array size: "+r);i=[],t=t.slice(0,t.lastIndexOf("[")),typeof e=="string"&&(e=JSON.parse(e));for(o in e)i.push(Ht(t,e[o]));if(r==="dynamic"){var s=Ht("uint256",e.length);i.unshift(s)}return Se.concat(i)}else{if(t==="bytes")return e=new Se(e),i=Se.concat([Ht("uint256",e.length),e]),e.length%32!==0&&(i=Se.concat([i,Hr.zeros(32-e.length%32)])),i;if(t.startsWith("bytes")){if(r=pn(t),r<1||r>32)throw new Error("Invalid bytes<N> width: "+r);return Hr.setLengthRight(e,32)}else if(t.startsWith("uint")){if(r=pn(t),r%8||r<8||r>256)throw new Error("Invalid uint<N> width: "+r);if(n=Br(e),n.bitLength()>r)throw new Error("Supplied uint exceeds width: "+r+" vs "+n.bitLength());if(n<0)throw new Error("Supplied uint is negative");return n.toArrayLike(Se,"be",32)}else if(t.startsWith("int")){if(r=pn(t),r%8||r<8||r>256)throw new Error("Invalid int<N> width: "+r);if(n=Br(e),n.bitLength()>r)throw new Error("Supplied int exceeds width: "+r+" vs "+n.bitLength());return n.toTwos(256).toArrayLike(Se,"be",32)}else if(t.startsWith("ufixed")){if(r=bc(t),n=Br(e),n<0)throw new Error("Supplied ufixed is negative");return Ht("uint256",n.mul(new Fr(2).pow(new Fr(r[1]))))}else if(t.startsWith("fixed"))return r=bc(t),Ht("int256",Br(e).mul(new Fr(2).pow(new Fr(r[1]))))}throw new Error("Unsupported or invalid type: "+t)}function H_(t){return t==="string"||t==="bytes"||Zf(t)==="dynamic"}function V_(t){return t.lastIndexOf("]")===t.length-1}function z_(t,e){var r=[],n=[],i=32*t.length;for(var o in t){var s=Gf(t[o]),a=e[o],f=Ht(s,a);H_(s)?(r.push(Ht("uint256",i)),n.push(f),i+=f.length):r.push(f)}return Se.concat(r.concat(n))}function Kf(t,e){if(t.length!==e.length)throw new Error("Number of types are not matching the values");for(var r,n,i=[],o=0;o<t.length;o++){var s=Gf(t[o]),a=e[o];if(s==="bytes")i.push(a);else if(s==="string")i.push(new Se(a,"utf8"));else if(s==="bool")i.push(new Se(a?"01":"00","hex"));else if(s==="address")i.push(Hr.setLength(a,20));else if(s.startsWith("bytes")){if(r=pn(s),r<1||r>32)throw new Error("Invalid bytes<N> width: "+r);i.push(Hr.setLengthRight(a,r))}else if(s.startsWith("uint")){if(r=pn(s),r%8||r<8||r>256)throw new Error("Invalid uint<N> width: "+r);if(n=Br(a),n.bitLength()>r)throw new Error("Supplied uint exceeds width: "+r+" vs "+n.bitLength());i.push(n.toArrayLike(Se,"be",r/8))}else if(s.startsWith("int")){if(r=pn(s),r%8||r<8||r>256)throw new Error("Invalid int<N> width: "+r);if(n=Br(a),n.bitLength()>r)throw new Error("Supplied int exceeds width: "+r+" vs "+n.bitLength());i.push(n.toTwos(r).toArrayLike(Se,"be",r/8))}else throw new Error("Unsupported or invalid type: "+s)}return Se.concat(i)}function q_(t,e){return Hr.keccak(Kf(t,e))}var G_={rawEncode:z_,solidityPack:Kf,soliditySHA3:q_};const Dt=qf,ti=G_,Yf={type:"object",properties:{types:{type:"object",additionalProperties:{type:"array",items:{type:"object",properties:{name:{type:"string"},type:{type:"string"}},required:["name","type"]}}},primaryType:{type:"string"},domain:{type:"object"},message:{type:"object"}},required:["types","primaryType","domain","message"]},Os={encodeData(t,e,r,n=!0){const i=["bytes32"],o=[this.hashType(t,r)];if(n){const s=(a,f,p)=>{if(r[f]!==void 0)return["bytes32",p==null?"0x0000000000000000000000000000000000000000000000000000000000000000":Dt.keccak(this.encodeData(f,p,r,n))];if(p===void 0)throw new Error(`missing value for field ${a} of type ${f}`);if(f==="bytes")return["bytes32",Dt.keccak(p)];if(f==="string")return typeof p=="string"&&(p=Se.from(p,"utf8")),["bytes32",Dt.keccak(p)];if(f.lastIndexOf("]")===f.length-1){const g=f.slice(0,f.lastIndexOf("[")),I=p.map(m=>s(a,g,m));return["bytes32",Dt.keccak(ti.rawEncode(I.map(([m])=>m),I.map(([,m])=>m)))]}return[f,p]};for(const a of r[t]){const[f,p]=s(a.name,a.type,e[a.name]);i.push(f),o.push(p)}}else for(const s of r[t]){let a=e[s.name];if(a!==void 0)if(s.type==="bytes")i.push("bytes32"),a=Dt.keccak(a),o.push(a);else if(s.type==="string")i.push("bytes32"),typeof a=="string"&&(a=Se.from(a,"utf8")),a=Dt.keccak(a),o.push(a);else if(r[s.type]!==void 0)i.push("bytes32"),a=Dt.keccak(this.encodeData(s.type,a,r,n)),o.push(a);else{if(s.type.lastIndexOf("]")===s.type.length-1)throw new Error("Arrays currently unimplemented in encodeData");i.push(s.type),o.push(a)}}return ti.rawEncode(i,o)},encodeType(t,e){let r="",n=this.findTypeDependencies(t,e).filter(i=>i!==t);n=[t].concat(n.sort());for(const i of n){if(!e[i])throw new Error("No type definition specified: "+i);r+=i+"("+e[i].map(({name:s,type:a})=>a+" "+s).join(",")+")"}return r},findTypeDependencies(t,e,r=[]){if(t=t.match(/^\w*/)[0],r.includes(t)||e[t]===void 0)return r;r.push(t);for(const n of e[t])for(const i of this.findTypeDependencies(n.type,e,r))!r.includes(i)&&r.push(i);return r},hashStruct(t,e,r,n=!0){return Dt.keccak(this.encodeData(t,e,r,n))},hashType(t,e){return Dt.keccak(this.encodeType(t,e))},sanitizeData(t){const e={};for(const r in Yf.properties)t[r]&&(e[r]=t[r]);return e.types&&(e.types=Object.assign({EIP712Domain:[]},e.types)),e},hash(t,e=!0){const r=this.sanitizeData(t),n=[Se.from("1901","hex")];return n.push(this.hashStruct("EIP712Domain",r.domain,r.types,e)),r.primaryType!=="EIP712Domain"&&n.push(this.hashStruct(r.primaryType,r.message,r.types,e)),Dt.keccak(Se.concat(n))}};var Z_={TYPED_MESSAGE_SCHEMA:Yf,TypedDataUtils:Os,hashForSignTypedDataLegacy:function(t){return K_(t.data)},hashForSignTypedData_v3:function(t){return Os.hash(t.data,!1)},hashForSignTypedData_v4:function(t){return Os.hash(t.data)}};function K_(t){const e=new Error("Expect argument to be non-empty array");if(typeof t!="object"||!t.length)throw e;const r=t.map(function(o){return o.type==="bytes"?Dt.toBuffer(o.value):o.value}),n=t.map(function(o){return o.type}),i=t.map(function(o){if(!o.name)throw e;return o.type+" "+o.name});return ti.soliditySHA3(["bytes32","bytes32"],[ti.soliditySHA3(new Array(t.length).fill("string"),i),ti.soliditySHA3(n,r)])}var Mn={};Object.defineProperty(Mn,"__esModule",{value:!0});Mn.filterFromParam=Mn.FilterPolyfill=void 0;const an=xi,wt=ne,Y_=5*60*1e3,Pr={jsonrpc:"2.0",id:0};class Q_{constructor(e){this.logFilters=new Map,this.blockFilters=new Set,this.pendingTransactionFilters=new Set,this.cursors=new Map,this.timeouts=new Map,this.nextFilterId=(0,an.IntNumber)(1),this.provider=e}async newFilter(e){const r=Qf(e),n=this.makeFilterId(),i=await this.setInitialCursorPosition(n,r.fromBlock);return console.log(`Installing new log filter(${n}):`,r,"initial cursor position:",i),this.logFilters.set(n,r),this.setFilterTimeout(n),(0,wt.hexStringFromIntNumber)(n)}async newBlockFilter(){const e=this.makeFilterId(),r=await this.setInitialCursorPosition(e,"latest");return console.log(`Installing new block filter (${e}) with initial cursor position:`,r),this.blockFilters.add(e),this.setFilterTimeout(e),(0,wt.hexStringFromIntNumber)(e)}async newPendingTransactionFilter(){const e=this.makeFilterId(),r=await this.setInitialCursorPosition(e,"latest");return console.log(`Installing new block filter (${e}) with initial cursor position:`,r),this.pendingTransactionFilters.add(e),this.setFilterTimeout(e),(0,wt.hexStringFromIntNumber)(e)}uninstallFilter(e){const r=(0,wt.intNumberFromHexString)(e);return console.log(`Uninstalling filter (${r})`),this.deleteFilter(r),!0}getFilterChanges(e){const r=(0,wt.intNumberFromHexString)(e);return this.timeouts.has(r)&&this.setFilterTimeout(r),this.logFilters.has(r)?this.getLogFilterChanges(r):this.blockFilters.has(r)?this.getBlockFilterChanges(r):this.pendingTransactionFilters.has(r)?this.getPendingTransactionFilterChanges(r):Promise.resolve(Fi())}async getFilterLogs(e){const r=(0,wt.intNumberFromHexString)(e),n=this.logFilters.get(r);return n?this.sendAsyncPromise(Object.assign(Object.assign({},Pr),{method:"eth_getLogs",params:[vc(n)]})):Fi()}makeFilterId(){return(0,an.IntNumber)(++this.nextFilterId)}sendAsyncPromise(e){return new Promise((r,n)=>{this.provider.sendAsync(e,(i,o)=>{if(i)return n(i);if(Array.isArray(o)||o==null)return n(new Error(`unexpected response received: ${JSON.stringify(o)}`));r(o)})})}deleteFilter(e){console.log(`Deleting filter (${e})`),this.logFilters.delete(e),this.blockFilters.delete(e),this.pendingTransactionFilters.delete(e),this.cursors.delete(e),this.timeouts.delete(e)}async getLogFilterChanges(e){const r=this.logFilters.get(e),n=this.cursors.get(e);if(!n||!r)return Fi();const i=await this.getCurrentBlockHeight(),o=r.toBlock==="latest"?i:r.toBlock;if(n>i||n>r.toBlock)return ji();console.log(`Fetching logs from ${n} to ${o} for filter ${e}`);const s=await this.sendAsyncPromise(Object.assign(Object.assign({},Pr),{method:"eth_getLogs",params:[vc(Object.assign(Object.assign({},r),{fromBlock:n,toBlock:o}))]}));if(Array.isArray(s.result)){const a=s.result.map(p=>(0,wt.intNumberFromHexString)(p.blockNumber||"0x0")),f=Math.max(...a);if(f&&f>n){const p=(0,an.IntNumber)(f+1);console.log(`Moving cursor position for filter (${e}) from ${n} to ${p}`),this.cursors.set(e,p)}}return s}async getBlockFilterChanges(e){const r=this.cursors.get(e);if(!r)return Fi();const n=await this.getCurrentBlockHeight();if(r>n)return ji();console.log(`Fetching blocks from ${r} to ${n} for filter (${e})`);const i=(await Promise.all((0,wt.range)(r,n+1).map(s=>this.getBlockHashByNumber((0,an.IntNumber)(s))))).filter(s=>!!s),o=(0,an.IntNumber)(r+i.length);return console.log(`Moving cursor position for filter (${e}) from ${r} to ${o}`),this.cursors.set(e,o),Object.assign(Object.assign({},Pr),{result:i})}async getPendingTransactionFilterChanges(e){return Promise.resolve(ji())}async setInitialCursorPosition(e,r){const n=await this.getCurrentBlockHeight(),i=typeof r=="number"&&r>n?r:n;return this.cursors.set(e,i),i}setFilterTimeout(e){const r=this.timeouts.get(e);r&&window.clearTimeout(r);const n=window.setTimeout(()=>{console.log(`Filter (${e}) timed out`),this.deleteFilter(e)},Y_);this.timeouts.set(e,n)}async getCurrentBlockHeight(){const{result:e}=await this.sendAsyncPromise(Object.assign(Object.assign({},Pr),{method:"eth_blockNumber",params:[]}));return(0,wt.intNumberFromHexString)((0,wt.ensureHexString)(e))}async getBlockHashByNumber(e){const r=await this.sendAsyncPromise(Object.assign(Object.assign({},Pr),{method:"eth_getBlockByNumber",params:[(0,wt.hexStringFromIntNumber)(e),!1]}));return r.result&&typeof r.result.hash=="string"?(0,wt.ensureHexString)(r.result.hash):null}}Mn.FilterPolyfill=Q_;function Qf(t){return{fromBlock:mc(t.fromBlock),toBlock:mc(t.toBlock),addresses:t.address===void 0?null:Array.isArray(t.address)?t.address:[t.address],topics:t.topics||[]}}Mn.filterFromParam=Qf;function vc(t){const e={fromBlock:_c(t.fromBlock),toBlock:_c(t.toBlock),topics:t.topics};return t.addresses!==null&&(e.address=t.addresses),e}function mc(t){if(t===void 0||t==="latest"||t==="pending")return"latest";if(t==="earliest")return(0,an.IntNumber)(0);if((0,wt.isHexString)(t))return(0,wt.intNumberFromHexString)(t);throw new Error(`Invalid block option: ${String(t)}`)}function _c(t){return t==="latest"?t:(0,wt.hexStringFromIntNumber)(t)}function Fi(){return Object.assign(Object.assign({},Pr),{error:{code:-32e3,message:"filter not found"}})}function ji(){return Object.assign(Object.assign({},Pr),{result:[]})}var Jf={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.JSONRPCMethod=void 0,function(e){e.eth_accounts="eth_accounts",e.eth_coinbase="eth_coinbase",e.net_version="net_version",e.eth_chainId="eth_chainId",e.eth_uninstallFilter="eth_uninstallFilter",e.eth_requestAccounts="eth_requestAccounts",e.eth_sign="eth_sign",e.eth_ecRecover="eth_ecRecover",e.personal_sign="personal_sign",e.personal_ecRecover="personal_ecRecover",e.eth_signTransaction="eth_signTransaction",e.eth_sendRawTransaction="eth_sendRawTransaction",e.eth_sendTransaction="eth_sendTransaction",e.eth_signTypedData_v1="eth_signTypedData_v1",e.eth_signTypedData_v2="eth_signTypedData_v2",e.eth_signTypedData_v3="eth_signTypedData_v3",e.eth_signTypedData_v4="eth_signTypedData_v4",e.eth_signTypedData="eth_signTypedData",e.cbWallet_arbitrary="walletlink_arbitrary",e.wallet_addEthereumChain="wallet_addEthereumChain",e.wallet_switchEthereumChain="wallet_switchEthereumChain",e.wallet_watchAsset="wallet_watchAsset",e.eth_subscribe="eth_subscribe",e.eth_unsubscribe="eth_unsubscribe",e.eth_newFilter="eth_newFilter",e.eth_newBlockFilter="eth_newBlockFilter",e.eth_newPendingTransactionFilter="eth_newPendingTransactionFilter",e.eth_getFilterChanges="eth_getFilterChanges",e.eth_getFilterLogs="eth_getFilterLogs"}(t.JSONRPCMethod||(t.JSONRPCMethod={}))})(Jf);var Bo={};const wc=(t,e)=>function(){const r=e.promiseModule,n=new Array(arguments.length);for(let i=0;i<arguments.length;i++)n[i]=arguments[i];return new r((i,o)=>{e.errorFirst?n.push(function(s,a){if(e.multiArgs){const f=new Array(arguments.length-1);for(let p=1;p<arguments.length;p++)f[p-1]=arguments[p];s?(f.unshift(s),o(f)):i(f)}else s?o(s):i(a)}):n.push(function(s){if(e.multiArgs){const a=new Array(arguments.length-1);for(let f=0;f<arguments.length;f++)a[f]=arguments[f];i(a)}else i(s)}),t.apply(this,n)})};var J_=(t,e)=>{e=Object.assign({exclude:[/.+(Sync|Stream)$/],errorFirst:!0,promiseModule:Promise},e);const r=i=>{const o=s=>typeof s=="string"?i===s:s.test(i);return e.include?e.include.some(o):!e.exclude.some(o)};let n;typeof t=="function"?n=function(){return e.excludeMain?t.apply(this,arguments):wc(t,e).apply(this,arguments)}:n=Object.create(Object.getPrototypeOf(t));for(const i in t){const o=t[i];n[i]=typeof o=="function"&&r(i)?wc(o,e):o}return n},X_=tw,ew=Object.prototype.hasOwnProperty;function tw(){for(var t={},e=0;e<arguments.length;e++){var r=arguments[e];for(var n in r)ew.call(r,n)&&(t[n]=r[n])}return t}var rw=nw;function nw(t){t=t||{};var e=t.max||Number.MAX_SAFE_INTEGER,r=typeof t.start<"u"?t.start:Math.floor(Math.random()*e);return function(){return r=r%e,r++}}const iw=X_,ow=rw();var sw=pe;function pe(t){const e=this;e.currentProvider=t}pe.prototype.getBalance=Ci(2,"eth_getBalance");pe.prototype.getCode=Ci(2,"eth_getCode");pe.prototype.getTransactionCount=Ci(2,"eth_getTransactionCount");pe.prototype.getStorageAt=Ci(3,"eth_getStorageAt");pe.prototype.call=Ci(2,"eth_call");pe.prototype.protocolVersion=we("eth_protocolVersion");pe.prototype.syncing=we("eth_syncing");pe.prototype.coinbase=we("eth_coinbase");pe.prototype.mining=we("eth_mining");pe.prototype.hashrate=we("eth_hashrate");pe.prototype.gasPrice=we("eth_gasPrice");pe.prototype.accounts=we("eth_accounts");pe.prototype.blockNumber=we("eth_blockNumber");pe.prototype.getBlockTransactionCountByHash=we("eth_getBlockTransactionCountByHash");pe.prototype.getBlockTransactionCountByNumber=we("eth_getBlockTransactionCountByNumber");pe.prototype.getUncleCountByBlockHash=we("eth_getUncleCountByBlockHash");pe.prototype.getUncleCountByBlockNumber=we("eth_getUncleCountByBlockNumber");pe.prototype.sign=we("eth_sign");pe.prototype.sendTransaction=we("eth_sendTransaction");pe.prototype.sendRawTransaction=we("eth_sendRawTransaction");pe.prototype.estimateGas=we("eth_estimateGas");pe.prototype.getBlockByHash=we("eth_getBlockByHash");pe.prototype.getBlockByNumber=we("eth_getBlockByNumber");pe.prototype.getTransactionByHash=we("eth_getTransactionByHash");pe.prototype.getTransactionByBlockHashAndIndex=we("eth_getTransactionByBlockHashAndIndex");pe.prototype.getTransactionByBlockNumberAndIndex=we("eth_getTransactionByBlockNumberAndIndex");pe.prototype.getTransactionReceipt=we("eth_getTransactionReceipt");pe.prototype.getUncleByBlockHashAndIndex=we("eth_getUncleByBlockHashAndIndex");pe.prototype.getUncleByBlockNumberAndIndex=we("eth_getUncleByBlockNumberAndIndex");pe.prototype.getCompilers=we("eth_getCompilers");pe.prototype.compileLLL=we("eth_compileLLL");pe.prototype.compileSolidity=we("eth_compileSolidity");pe.prototype.compileSerpent=we("eth_compileSerpent");pe.prototype.newFilter=we("eth_newFilter");pe.prototype.newBlockFilter=we("eth_newBlockFilter");pe.prototype.newPendingTransactionFilter=we("eth_newPendingTransactionFilter");pe.prototype.uninstallFilter=we("eth_uninstallFilter");pe.prototype.getFilterChanges=we("eth_getFilterChanges");pe.prototype.getFilterLogs=we("eth_getFilterLogs");pe.prototype.getLogs=we("eth_getLogs");pe.prototype.getWork=we("eth_getWork");pe.prototype.submitWork=we("eth_submitWork");pe.prototype.submitHashrate=we("eth_submitHashrate");pe.prototype.sendAsync=function(t,e){this.currentProvider.sendAsync(aw(t),function(n,i){if(!n&&i.error&&(n=new Error("EthQuery - RPC Error - "+i.error.message)),n)return e(n);e(null,i.result)})};function we(t){return function(){const e=this;var r=[].slice.call(arguments),n=r.pop();e.sendAsync({method:t,params:r},n)}}function Ci(t,e){return function(){const r=this;var n=[].slice.call(arguments),i=n.pop();n.length<t&&n.push("latest"),r.sendAsync({method:e,params:n},i)}}function aw(t){return iw({id:ow(),jsonrpc:"2.0",params:[]},t)}var Xf={},eh={},uw=sf,Po=function(){return uw()&&!!Symbol.toStringTag},cw=Po(),lw=Io,ya=lw("Object.prototype.toString"),Lo=function(e){return cw&&e&&typeof e=="object"&&Symbol.toStringTag in e?!1:ya(e)==="[object Arguments]"},th=function(e){return Lo(e)?!0:e!==null&&typeof e=="object"&&typeof e.length=="number"&&e.length>=0&&ya(e)!=="[object Array]"&&ya(e.callee)==="[object Function]"},fw=function(){return Lo(arguments)}();Lo.isLegacyArguments=th;var hw=fw?Lo:th,dw=Object.prototype.toString,pw=Function.prototype.toString,gw=/^\s*(?:function)?\*/,rh=Po(),Ns=Object.getPrototypeOf,yw=function(){if(!rh)return!1;try{return Function("return function*() {}")()}catch{}},Bs,bw=function(e){if(typeof e!="function")return!1;if(gw.test(pw.call(e)))return!0;if(!rh){var r=dw.call(e);return r==="[object GeneratorFunction]"}if(!Ns)return!1;if(typeof Bs>"u"){var n=yw();Bs=n?Ns(n):!1}return Ns(e)===Bs},nh=Function.prototype.toString,cn=typeof Reflect=="object"&&Reflect!==null&&Reflect.apply,ba,Gi;if(typeof cn=="function"&&typeof Object.defineProperty=="function")try{ba=Object.defineProperty({},"length",{get:function(){throw Gi}}),Gi={},cn(function(){throw 42},null,ba)}catch(t){t!==Gi&&(cn=null)}else cn=null;var vw=/^\s*class\b/,va=function(e){try{var r=nh.call(e);return vw.test(r)}catch{return!1}},mw=function(e){try{return va(e)?!1:(nh.call(e),!0)}catch{return!1}},_w=Object.prototype.toString,ww="[object Function]",Sw="[object GeneratorFunction]",Ew=typeof Symbol=="function"&&!!Symbol.toStringTag,Sc=typeof document=="object"&&typeof document.all>"u"&&document.all!==void 0?document.all:{},xw=cn?function(e){if(e===Sc)return!0;if(!e||typeof e!="function"&&typeof e!="object")return!1;if(typeof e=="function"&&!e.prototype)return!0;try{cn(e,null,ba)}catch(r){if(r!==Gi)return!1}return!va(e)}:function(e){if(e===Sc)return!0;if(!e||typeof e!="function"&&typeof e!="object")return!1;if(typeof e=="function"&&!e.prototype)return!0;if(Ew)return mw(e);if(va(e))return!1;var r=_w.call(e);return r===ww||r===Sw},Mw=xw,Aw=Object.prototype.toString,ih=Object.prototype.hasOwnProperty,Cw=function(e,r,n){for(var i=0,o=e.length;i<o;i++)ih.call(e,i)&&(n==null?r(e[i],i,e):r.call(n,e[i],i,e))},kw=function(e,r,n){for(var i=0,o=e.length;i<o;i++)n==null?r(e.charAt(i),i,e):r.call(n,e.charAt(i),i,e)},Iw=function(e,r,n){for(var i in e)ih.call(e,i)&&(n==null?r(e[i],i,e):r.call(n,e[i],i,e))},Rw=function(e,r,n){if(!Mw(r))throw new TypeError("iterator must be a function");var i;arguments.length>=3&&(i=n),Aw.call(e)==="[object Array]"?Cw(e,r,i):typeof e=="string"?kw(e,r,i):Iw(e,r,i)},oh=Rw,Ps=["BigInt64Array","BigUint64Array","Float32Array","Float64Array","Int16Array","Int32Array","Int8Array","Uint16Array","Uint32Array","Uint8Array","Uint8ClampedArray"],Tw=typeof globalThis>"u"?_e:globalThis,sh=function(){for(var e=[],r=0;r<Ps.length;r++)typeof Tw[Ps[r]]=="function"&&(e[e.length]=Ps[r]);return e},Ls,Ec;function ah(){if(Ec)return Ls;Ec=1;var t=ko,e=t("%Object.getOwnPropertyDescriptor%",!0);if(e)try{e([],"length")}catch{e=null}return Ls=e,Ls}var uh=oh,Ow=sh,za=Io,Nw=za("Object.prototype.toString"),ch=Po(),Bw=typeof globalThis>"u"?_e:globalThis,lh=Ow(),Pw=za("Array.prototype.indexOf",!0)||function(e,r){for(var n=0;n<e.length;n+=1)if(e[n]===r)return n;return-1},Lw=za("String.prototype.slice"),fh={},Zi=ah(),Ds=Object.getPrototypeOf;ch&&Zi&&Ds&&uh(lh,function(t){var e=new Bw[t];if(Symbol.toStringTag in e){var r=Ds(e),n=Zi(r,Symbol.toStringTag);if(!n){var i=Ds(r);n=Zi(i,Symbol.toStringTag)}fh[t]=n.get}});var Dw=function(e){var r=!1;return uh(fh,function(n,i){if(!r)try{r=n.call(e)===i}catch{}}),r},hh=function(e){if(!e||typeof e!="object")return!1;if(!ch||!(Symbol.toStringTag in e)){var r=Lw(Nw(e),8,-1);return Pw(lh,r)>-1}return Zi?Dw(e):!1},dh=oh,Fw=sh,ph=Io,jw=ph("Object.prototype.toString"),gh=Po(),xc=typeof globalThis>"u"?_e:globalThis,$w=Fw(),Uw=ph("String.prototype.slice"),yh={},Fs=ah(),js=Object.getPrototypeOf;gh&&Fs&&js&&dh($w,function(t){if(typeof xc[t]=="function"){var e=new xc[t];if(Symbol.toStringTag in e){var r=js(e),n=Fs(r,Symbol.toStringTag);if(!n){var i=js(r);n=Fs(i,Symbol.toStringTag)}yh[t]=n.get}}});var Ww=function(e){var r=!1;return dh(yh,function(n,i){if(!r)try{var o=n.call(e);o===i&&(r=o)}catch{}}),r},Hw=hh,Vw=function(e){return Hw(e)?!gh||!(Symbol.toStringTag in e)?Uw(jw(e),8,-1):Ww(e):!1};(function(t){var e=hw,r=bw,n=Vw,i=hh;function o(V){return V.call.bind(V)}var s=typeof BigInt<"u",a=typeof Symbol<"u",f=o(Object.prototype.toString),p=o(Number.prototype.valueOf),g=o(String.prototype.valueOf),I=o(Boolean.prototype.valueOf);if(s)var m=o(BigInt.prototype.valueOf);if(a)var C=o(Symbol.prototype.valueOf);function N(V,Ce){if(typeof V!="object")return!1;try{return Ce(V),!0}catch{return!1}}t.isArgumentsObject=e,t.isGeneratorFunction=r,t.isTypedArray=i;function H(V){return typeof Promise<"u"&&V instanceof Promise||V!==null&&typeof V=="object"&&typeof V.then=="function"&&typeof V.catch=="function"}t.isPromise=H;function U(V){return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?ArrayBuffer.isView(V):i(V)||b(V)}t.isArrayBufferView=U;function R(V){return n(V)==="Uint8Array"}t.isUint8Array=R;function B(V){return n(V)==="Uint8ClampedArray"}t.isUint8ClampedArray=B;function D(V){return n(V)==="Uint16Array"}t.isUint16Array=D;function G(V){return n(V)==="Uint32Array"}t.isUint32Array=G;function Q(V){return n(V)==="Int8Array"}t.isInt8Array=Q;function J(V){return n(V)==="Int16Array"}t.isInt16Array=J;function te(V){return n(V)==="Int32Array"}t.isInt32Array=te;function re(V){return n(V)==="Float32Array"}t.isFloat32Array=re;function ee(V){return n(V)==="Float64Array"}t.isFloat64Array=ee;function ye(V){return n(V)==="BigInt64Array"}t.isBigInt64Array=ye;function oe(V){return n(V)==="BigUint64Array"}t.isBigUint64Array=oe;function ae(V){return f(V)==="[object Map]"}ae.working=typeof Map<"u"&&ae(new Map);function M(V){return typeof Map>"u"?!1:ae.working?ae(V):V instanceof Map}t.isMap=M;function u(V){return f(V)==="[object Set]"}u.working=typeof Set<"u"&&u(new Set);function d(V){return typeof Set>"u"?!1:u.working?u(V):V instanceof Set}t.isSet=d;function v(V){return f(V)==="[object WeakMap]"}v.working=typeof WeakMap<"u"&&v(new WeakMap);function x(V){return typeof WeakMap>"u"?!1:v.working?v(V):V instanceof WeakMap}t.isWeakMap=x;function A(V){return f(V)==="[object WeakSet]"}A.working=typeof WeakSet<"u"&&A(new WeakSet);function T(V){return A(V)}t.isWeakSet=T;function L(V){return f(V)==="[object ArrayBuffer]"}L.working=typeof ArrayBuffer<"u"&&L(new ArrayBuffer);function S(V){return typeof ArrayBuffer>"u"?!1:L.working?L(V):V instanceof ArrayBuffer}t.isArrayBuffer=S;function c(V){return f(V)==="[object DataView]"}c.working=typeof ArrayBuffer<"u"&&typeof DataView<"u"&&c(new DataView(new ArrayBuffer(1),0,1));function b(V){return typeof DataView>"u"?!1:c.working?c(V):V instanceof DataView}t.isDataView=b;var $=typeof SharedArrayBuffer<"u"?SharedArrayBuffer:void 0;function K(V){return f(V)==="[object SharedArrayBuffer]"}function k(V){return typeof $>"u"?!1:(typeof K.working>"u"&&(K.working=K(new $)),K.working?K(V):V instanceof $)}t.isSharedArrayBuffer=k;function O(V){return f(V)==="[object AsyncFunction]"}t.isAsyncFunction=O;function j(V){return f(V)==="[object Map Iterator]"}t.isMapIterator=j;function z(V){return f(V)==="[object Set Iterator]"}t.isSetIterator=z;function X(V){return f(V)==="[object Generator]"}t.isGeneratorObject=X;function _(V){return f(V)==="[object WebAssembly.Module]"}t.isWebAssemblyCompiledModule=_;function E(V){return N(V,p)}t.isNumberObject=E;function q(V){return N(V,g)}t.isStringObject=q;function Y(V){return N(V,I)}t.isBooleanObject=Y;function ue(V){return s&&N(V,m)}t.isBigIntObject=ue;function fe(V){return a&&N(V,C)}t.isSymbolObject=fe;function ie(V){return E(V)||q(V)||Y(V)||ue(V)||fe(V)}t.isBoxedPrimitive=ie;function Me(V){return typeof Uint8Array<"u"&&(S(V)||k(V))}t.isAnyArrayBuffer=Me,["isProxy","isExternal","isModuleNamespaceObject"].forEach(function(V){Object.defineProperty(t,V,{enumerable:!1,value:function(){throw new Error(V+" is not supported in userland")}})})})(eh);var zw=function(e){return e&&typeof e=="object"&&typeof e.copy=="function"&&typeof e.fill=="function"&&typeof e.readUInt8=="function"};(function(t){var e=Object.getOwnPropertyDescriptors||function(b){for(var $=Object.keys(b),K={},k=0;k<$.length;k++)K[$[k]]=Object.getOwnPropertyDescriptor(b,$[k]);return K},r=/%[sdj%]/g;t.format=function(c){if(!Q(c)){for(var b=[],$=0;$<arguments.length;$++)b.push(s(arguments[$]));return b.join(" ")}for(var $=1,K=arguments,k=K.length,O=String(c).replace(r,function(z){if(z==="%%")return"%";if($>=k)return z;switch(z){case"%s":return String(K[$++]);case"%d":return Number(K[$++]);case"%j":try{return JSON.stringify(K[$++])}catch{return"[Circular]"}default:return z}}),j=K[$];$<k;j=K[++$])B(j)||!ee(j)?O+=" "+j:O+=" "+s(j);return O},t.deprecate=function(c,b){if(typeof ve<"u"&&ve.noDeprecation===!0)return c;if(typeof ve>"u")return function(){return t.deprecate(c,b).apply(this,arguments)};var $=!1;function K(){if(!$){if(ve.throwDeprecation)throw new Error(b);ve.traceDeprecation?console.trace(b):console.error(b),$=!0}return c.apply(this,arguments)}return K};var n={},i=/^$/;if(ve.env.NODE_DEBUG){var o=ve.env.NODE_DEBUG;o=o.replace(/[|\\{}()[\]^$+?.]/g,"\\$&").replace(/\*/g,".*").replace(/,/g,"$|^").toUpperCase(),i=new RegExp("^"+o+"$","i")}t.debuglog=function(c){if(c=c.toUpperCase(),!n[c])if(i.test(c)){var b=ve.pid;n[c]=function(){var $=t.format.apply(t,arguments);console.error("%s %d: %s",c,b,$)}}else n[c]=function(){};return n[c]};function s(c,b){var $={seen:[],stylize:f};return arguments.length>=3&&($.depth=arguments[2]),arguments.length>=4&&($.colors=arguments[3]),R(b)?$.showHidden=b:b&&t._extend($,b),te($.showHidden)&&($.showHidden=!1),te($.depth)&&($.depth=2),te($.colors)&&($.colors=!1),te($.customInspect)&&($.customInspect=!0),$.colors&&($.stylize=a),g($,c,$.depth)}t.inspect=s,s.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},s.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"};function a(c,b){var $=s.styles[b];return $?"\x1B["+s.colors[$][0]+"m"+c+"\x1B["+s.colors[$][1]+"m":c}function f(c,b){return c}function p(c){var b={};return c.forEach(function($,K){b[$]=!0}),b}function g(c,b,$){if(c.customInspect&&b&&ae(b.inspect)&&b.inspect!==t.inspect&&!(b.constructor&&b.constructor.prototype===b)){var K=b.inspect($,c);return Q(K)||(K=g(c,K,$)),K}var k=I(c,b);if(k)return k;var O=Object.keys(b),j=p(O);if(c.showHidden&&(O=Object.getOwnPropertyNames(b)),oe(b)&&(O.indexOf("message")>=0||O.indexOf("description")>=0))return m(b);if(O.length===0){if(ae(b)){var z=b.name?": "+b.name:"";return c.stylize("[Function"+z+"]","special")}if(re(b))return c.stylize(RegExp.prototype.toString.call(b),"regexp");if(ye(b))return c.stylize(Date.prototype.toString.call(b),"date");if(oe(b))return m(b)}var X="",_=!1,E=["{","}"];if(U(b)&&(_=!0,E=["[","]"]),ae(b)){var q=b.name?": "+b.name:"";X=" [Function"+q+"]"}if(re(b)&&(X=" "+RegExp.prototype.toString.call(b)),ye(b)&&(X=" "+Date.prototype.toUTCString.call(b)),oe(b)&&(X=" "+m(b)),O.length===0&&(!_||b.length==0))return E[0]+X+E[1];if($<0)return re(b)?c.stylize(RegExp.prototype.toString.call(b),"regexp"):c.stylize("[Object]","special");c.seen.push(b);var Y;return _?Y=C(c,b,$,j,O):Y=O.map(function(ue){return N(c,b,$,j,ue,_)}),c.seen.pop(),H(Y,X,E)}function I(c,b){if(te(b))return c.stylize("undefined","undefined");if(Q(b)){var $="'"+JSON.stringify(b).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return c.stylize($,"string")}if(G(b))return c.stylize(""+b,"number");if(R(b))return c.stylize(""+b,"boolean");if(B(b))return c.stylize("null","null")}function m(c){return"["+Error.prototype.toString.call(c)+"]"}function C(c,b,$,K,k){for(var O=[],j=0,z=b.length;j<z;++j)A(b,String(j))?O.push(N(c,b,$,K,String(j),!0)):O.push("");return k.forEach(function(X){X.match(/^\d+$/)||O.push(N(c,b,$,K,X,!0))}),O}function N(c,b,$,K,k,O){var j,z,X;if(X=Object.getOwnPropertyDescriptor(b,k)||{value:b[k]},X.get?X.set?z=c.stylize("[Getter/Setter]","special"):z=c.stylize("[Getter]","special"):X.set&&(z=c.stylize("[Setter]","special")),A(K,k)||(j="["+k+"]"),z||(c.seen.indexOf(X.value)<0?(B($)?z=g(c,X.value,null):z=g(c,X.value,$-1),z.indexOf(`
`)>-1&&(O?z=z.split(`
`).map(function(_){return"  "+_}).join(`
`).substr(2):z=`
`+z.split(`
`).map(function(_){return"   "+_}).join(`
`))):z=c.stylize("[Circular]","special")),te(j)){if(O&&k.match(/^\d+$/))return z;j=JSON.stringify(""+k),j.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(j=j.substr(1,j.length-2),j=c.stylize(j,"name")):(j=j.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),j=c.stylize(j,"string"))}return j+": "+z}function H(c,b,$){var K=c.reduce(function(k,O){return O.indexOf(`
`)>=0,k+O.replace(/\u001b\[\d\d?m/g,"").length+1},0);return K>60?$[0]+(b===""?"":b+`
 `)+" "+c.join(`,
  `)+" "+$[1]:$[0]+b+" "+c.join(", ")+" "+$[1]}t.types=eh;function U(c){return Array.isArray(c)}t.isArray=U;function R(c){return typeof c=="boolean"}t.isBoolean=R;function B(c){return c===null}t.isNull=B;function D(c){return c==null}t.isNullOrUndefined=D;function G(c){return typeof c=="number"}t.isNumber=G;function Q(c){return typeof c=="string"}t.isString=Q;function J(c){return typeof c=="symbol"}t.isSymbol=J;function te(c){return c===void 0}t.isUndefined=te;function re(c){return ee(c)&&u(c)==="[object RegExp]"}t.isRegExp=re,t.types.isRegExp=re;function ee(c){return typeof c=="object"&&c!==null}t.isObject=ee;function ye(c){return ee(c)&&u(c)==="[object Date]"}t.isDate=ye,t.types.isDate=ye;function oe(c){return ee(c)&&(u(c)==="[object Error]"||c instanceof Error)}t.isError=oe,t.types.isNativeError=oe;function ae(c){return typeof c=="function"}t.isFunction=ae;function M(c){return c===null||typeof c=="boolean"||typeof c=="number"||typeof c=="string"||typeof c=="symbol"||typeof c>"u"}t.isPrimitive=M,t.isBuffer=zw;function u(c){return Object.prototype.toString.call(c)}function d(c){return c<10?"0"+c.toString(10):c.toString(10)}var v=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function x(){var c=new Date,b=[d(c.getHours()),d(c.getMinutes()),d(c.getSeconds())].join(":");return[c.getDate(),v[c.getMonth()],b].join(" ")}t.log=function(){console.log("%s - %s",x(),t.format.apply(t,arguments))},t.inherits=Nt.exports,t._extend=function(c,b){if(!b||!ee(b))return c;for(var $=Object.keys(b),K=$.length;K--;)c[$[K]]=b[$[K]];return c};function A(c,b){return Object.prototype.hasOwnProperty.call(c,b)}var T=typeof Symbol<"u"?Symbol("util.promisify.custom"):void 0;t.promisify=function(b){if(typeof b!="function")throw new TypeError('The "original" argument must be of type Function');if(T&&b[T]){var $=b[T];if(typeof $!="function")throw new TypeError('The "util.promisify.custom" argument must be of type Function');return Object.defineProperty($,T,{value:$,enumerable:!1,writable:!1,configurable:!0}),$}function $(){for(var K,k,O=new Promise(function(X,_){K=X,k=_}),j=[],z=0;z<arguments.length;z++)j.push(arguments[z]);j.push(function(X,_){X?k(X):K(_)});try{b.apply(this,j)}catch(X){k(X)}return O}return Object.setPrototypeOf($,Object.getPrototypeOf(b)),T&&Object.defineProperty($,T,{value:$,enumerable:!1,writable:!1,configurable:!0}),Object.defineProperties($,e(b))},t.promisify.custom=T;function L(c,b){if(!c){var $=new Error("Promise was rejected with a falsy value");$.reason=c,c=$}return b(c)}function S(c){if(typeof c!="function")throw new TypeError('The "original" argument must be of type Function');function b(){for(var $=[],K=0;K<arguments.length;K++)$.push(arguments[K]);var k=$.pop();if(typeof k!="function")throw new TypeError("The last argument must be of type Function");var O=this,j=function(){return k.apply(O,arguments)};c.apply(this,$).then(function(z){ve.nextTick(j.bind(null,null,z))},function(z){ve.nextTick(L.bind(null,z,j))})}return Object.setPrototypeOf(b,Object.getPrototypeOf(c)),Object.defineProperties(b,e(c)),b}t.callbackify=S})(Xf);const qw=Xf,bh=yo.exports;var $s=typeof Reflect=="object"?Reflect:null,Gw=$s&&typeof $s.apply=="function"?$s.apply:function(e,r,n){return Function.prototype.apply.call(e,r,n)},Zw=qa;function qa(){bh.call(this)}qw.inherits(qa,bh);qa.prototype.emit=function(t){for(var e=[],r=1;r<arguments.length;r++)e.push(arguments[r]);var n=t==="error",i=this._events;if(i!==void 0)n=n&&i.error===void 0;else if(!n)return!1;if(n){var o;if(e.length>0&&(o=e[0]),o instanceof Error)throw o;var s=new Error("Unhandled error."+(o?" ("+o.message+")":""));throw s.context=o,s}var a=i[t];if(a===void 0)return!1;if(typeof a=="function")Mc(a,this,e);else for(var f=a.length,p=Kw(a,f),r=0;r<f;++r)Mc(p[r],this,e);return!0};function Mc(t,e,r){try{Gw(t,e,r)}catch(n){setTimeout(()=>{throw n})}}function Kw(t,e){for(var r=new Array(e),n=0;n<e;++n)r[n]=t[n];return r}const Yw=Zw,Qw=1e3,Jw=(t,e)=>t+e,Ac=["sync","latest"];class Xw extends Yw{constructor(e={}){super(),this._blockResetDuration=e.blockResetDuration||20*Qw,this._blockResetTimeout,this._currentBlock=null,this._isRunning=!1,this._onNewListener=this._onNewListener.bind(this),this._onRemoveListener=this._onRemoveListener.bind(this),this._resetCurrentBlock=this._resetCurrentBlock.bind(this),this._setupInternalEvents()}isRunning(){return this._isRunning}getCurrentBlock(){return this._currentBlock}async getLatestBlock(){return this._currentBlock?this._currentBlock:await new Promise(r=>this.once("latest",r))}removeAllListeners(e){e?super.removeAllListeners(e):super.removeAllListeners(),this._setupInternalEvents(),this._onRemoveListener()}_start(){}_end(){}_setupInternalEvents(){this.removeListener("newListener",this._onNewListener),this.removeListener("removeListener",this._onRemoveListener),this.on("newListener",this._onNewListener),this.on("removeListener",this._onRemoveListener)}_onNewListener(e,r){!Ac.includes(e)||this._maybeStart()}_onRemoveListener(e,r){this._getBlockTrackerEventCount()>0||this._maybeEnd()}_maybeStart(){this._isRunning||(this._isRunning=!0,this._cancelBlockResetTimeout(),this._start())}_maybeEnd(){!this._isRunning||(this._isRunning=!1,this._setupBlockResetTimeout(),this._end())}_getBlockTrackerEventCount(){return Ac.map(e=>this.listenerCount(e)).reduce(Jw)}_newPotentialLatest(e){const r=this._currentBlock;r&&Cc(e)<=Cc(r)||this._setCurrentBlock(e)}_setCurrentBlock(e){const r=this._currentBlock;this._currentBlock=e,this.emit("latest",e),this.emit("sync",{oldBlock:r,newBlock:e})}_setupBlockResetTimeout(){this._cancelBlockResetTimeout(),this._blockResetTimeout=setTimeout(this._resetCurrentBlock,this._blockResetDuration),this._blockResetTimeout.unref&&this._blockResetTimeout.unref()}_cancelBlockResetTimeout(){clearTimeout(this._blockResetTimeout)}_resetCurrentBlock(){this._currentBlock=null}}var e2=Xw;function Cc(t){return Number.parseInt(t,16)}const t2=J_,r2=e2,n2=1e3;class i2 extends r2{constructor(e={}){if(!e.provider)throw new Error("PollingBlockTracker - no provider specified.");const r=e.pollingInterval||20*n2,n=e.retryTimeout||r/10,i=e.keepEventLoopActive!==void 0?e.keepEventLoopActive:!0,o=e.setSkipCacheFlag||!1;super(Object.assign({blockResetDuration:r},e)),this._provider=e.provider,this._pollingInterval=r,this._retryTimeout=n,this._keepEventLoopActive=i,this._setSkipCacheFlag=o}async checkForLatestBlock(){return await this._updateLatestBlock(),await this.getLatestBlock()}_start(){this._performSync().catch(e=>this.emit("error",e))}async _performSync(){for(;this._isRunning;)try{await this._updateLatestBlock(),await kc(this._pollingInterval,!this._keepEventLoopActive)}catch(e){const r=new Error(`PollingBlockTracker - encountered an error while attempting to update latest block:
${e.stack}`);try{this.emit("error",r)}catch{console.error(r)}await kc(this._retryTimeout,!this._keepEventLoopActive)}}async _updateLatestBlock(){const e=await this._fetchLatestBlock();this._newPotentialLatest(e)}async _fetchLatestBlock(){const e={jsonrpc:"2.0",id:1,method:"eth_blockNumber",params:[]};this._setSkipCacheFlag&&(e.skipCache=!0);const r=await t2(n=>this._provider.sendAsync(e,n))();if(r.error)throw new Error(`PollingBlockTracker - encountered error fetching block:
${r.error}`);return r.result}}var o2=i2;function kc(t,e){return new Promise(r=>{const n=setTimeout(r,t);n.unref&&e&&n.unref()})}var Ga={exports:{}},s2=function(e){return(r,n,i,o)=>{const s=e[r.method];return s===void 0?i():typeof s=="function"?s(r,n,i,o):(n.result=s,o())}};(function(t){t.exports=s2})(Ga);var Za={},Do={},ki={};Object.defineProperty(ki,"__esModule",{value:!0});ki.getUniqueId=void 0;const vh=4294967295;let Us=Math.floor(Math.random()*vh);function a2(){return Us=(Us+1)%vh,Us}ki.getUniqueId=a2;Object.defineProperty(Do,"__esModule",{value:!0});Do.createIdRemapMiddleware=void 0;const u2=ki;function c2(){return(t,e,r,n)=>{const i=t.id,o=u2.getUniqueId();t.id=o,e.id=o,r(s=>{t.id=i,e.id=i,s()})}}Do.createIdRemapMiddleware=c2;var Fo={};Object.defineProperty(Fo,"__esModule",{value:!0});Fo.createAsyncMiddleware=void 0;function l2(t){return async(e,r,n,i)=>{let o;const s=new Promise(g=>{o=g});let a=null,f=!1;const p=async()=>{f=!0,n(g=>{a=g,o()}),await s};try{await t(e,r,p),f?(await s,a(null)):i(null)}catch(g){a?a(g):i(g)}}}Fo.createAsyncMiddleware=l2;var jo={};Object.defineProperty(jo,"__esModule",{value:!0});jo.createScaffoldMiddleware=void 0;function f2(t){return(e,r,n,i)=>{const o=t[e.method];return o===void 0?n():typeof o=="function"?o(e,r,n,i):(r.result=o,i())}}jo.createScaffoldMiddleware=f2;var Ii={},mh={},gr={};Object.defineProperty(gr,"__esModule",{value:!0});gr.EthereumProviderError=gr.EthereumRpcError=void 0;const h2=nl;class _h extends Error{constructor(e,r,n){if(!Number.isInteger(e))throw new Error('"code" must be an integer.');if(!r||typeof r!="string")throw new Error('"message" must be a nonempty string.');super(r),this.code=e,n!==void 0&&(this.data=n)}serialize(){const e={code:this.code,message:this.message};return this.data!==void 0&&(e.data=this.data),this.stack&&(e.stack=this.stack),e}toString(){return h2.default(this.serialize(),g2,2)}}gr.EthereumRpcError=_h;class d2 extends _h{constructor(e,r,n){if(!p2(e))throw new Error('"code" must be an integer such that: 1000 <= code <= 4999');super(e,r,n)}}gr.EthereumProviderError=d2;function p2(t){return Number.isInteger(t)&&t>=1e3&&t<=4999}function g2(t,e){if(e!=="[Circular]")return e}var Ka={},yr={};Object.defineProperty(yr,"__esModule",{value:!0});yr.errorValues=yr.errorCodes=void 0;yr.errorCodes={rpc:{invalidInput:-32e3,resourceNotFound:-32001,resourceUnavailable:-32002,transactionRejected:-32003,methodNotSupported:-32004,limitExceeded:-32005,parse:-32700,invalidRequest:-32600,methodNotFound:-32601,invalidParams:-32602,internal:-32603},provider:{userRejectedRequest:4001,unauthorized:4100,unsupportedMethod:4200,disconnected:4900,chainDisconnected:4901}};yr.errorValues={"-32700":{standard:"JSON RPC 2.0",message:"Invalid JSON was received by the server. An error occurred on the server while parsing the JSON text."},"-32600":{standard:"JSON RPC 2.0",message:"The JSON sent is not a valid Request object."},"-32601":{standard:"JSON RPC 2.0",message:"The method does not exist / is not available."},"-32602":{standard:"JSON RPC 2.0",message:"Invalid method parameter(s)."},"-32603":{standard:"JSON RPC 2.0",message:"Internal JSON-RPC error."},"-32000":{standard:"EIP-1474",message:"Invalid input."},"-32001":{standard:"EIP-1474",message:"Resource not found."},"-32002":{standard:"EIP-1474",message:"Resource unavailable."},"-32003":{standard:"EIP-1474",message:"Transaction rejected."},"-32004":{standard:"EIP-1474",message:"Method not supported."},"-32005":{standard:"EIP-1474",message:"Request limit exceeded."},4001:{standard:"EIP-1193",message:"User rejected the request."},4100:{standard:"EIP-1193",message:"The requested account and/or method has not been authorized by the user."},4200:{standard:"EIP-1193",message:"The requested method is not supported by this Ethereum provider."},4900:{standard:"EIP-1193",message:"The provider is disconnected from all chains."},4901:{standard:"EIP-1193",message:"The provider is disconnected from the specified chain."}};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.serializeError=t.isValidCode=t.getMessageFromCode=t.JSON_RPC_SERVER_ERROR_MESSAGE=void 0;const e=yr,r=gr,n=e.errorCodes.rpc.internal,i="Unspecified error message. This is a bug, please report it.",o={code:n,message:s(n)};t.JSON_RPC_SERVER_ERROR_MESSAGE="Unspecified server error.";function s(m,C=i){if(Number.isInteger(m)){const N=m.toString();if(I(e.errorValues,N))return e.errorValues[N].message;if(p(m))return t.JSON_RPC_SERVER_ERROR_MESSAGE}return C}t.getMessageFromCode=s;function a(m){if(!Number.isInteger(m))return!1;const C=m.toString();return!!(e.errorValues[C]||p(m))}t.isValidCode=a;function f(m,{fallbackError:C=o,shouldIncludeStack:N=!1}={}){var H,U;if(!C||!Number.isInteger(C.code)||typeof C.message!="string")throw new Error("Must provide fallback error with integer number code and string message.");if(m instanceof r.EthereumRpcError)return m.serialize();const R={};if(m&&typeof m=="object"&&!Array.isArray(m)&&I(m,"code")&&a(m.code)){const D=m;R.code=D.code,D.message&&typeof D.message=="string"?(R.message=D.message,I(D,"data")&&(R.data=D.data)):(R.message=s(R.code),R.data={originalError:g(m)})}else{R.code=C.code;const D=(H=m)===null||H===void 0?void 0:H.message;R.message=D&&typeof D=="string"?D:C.message,R.data={originalError:g(m)}}const B=(U=m)===null||U===void 0?void 0:U.stack;return N&&m&&B&&typeof B=="string"&&(R.stack=B),R}t.serializeError=f;function p(m){return m>=-32099&&m<=-32e3}function g(m){return m&&typeof m=="object"&&!Array.isArray(m)?Object.assign({},m):m}function I(m,C){return Object.prototype.hasOwnProperty.call(m,C)}})(Ka);var $o={};Object.defineProperty($o,"__esModule",{value:!0});$o.ethErrors=void 0;const Ya=gr,wh=Ka,yt=yr;$o.ethErrors={rpc:{parse:t=>kt(yt.errorCodes.rpc.parse,t),invalidRequest:t=>kt(yt.errorCodes.rpc.invalidRequest,t),invalidParams:t=>kt(yt.errorCodes.rpc.invalidParams,t),methodNotFound:t=>kt(yt.errorCodes.rpc.methodNotFound,t),internal:t=>kt(yt.errorCodes.rpc.internal,t),server:t=>{if(!t||typeof t!="object"||Array.isArray(t))throw new Error("Ethereum RPC Server errors must provide single object argument.");const{code:e}=t;if(!Number.isInteger(e)||e>-32005||e<-32099)throw new Error('"code" must be an integer such that: -32099 <= code <= -32005');return kt(e,t)},invalidInput:t=>kt(yt.errorCodes.rpc.invalidInput,t),resourceNotFound:t=>kt(yt.errorCodes.rpc.resourceNotFound,t),resourceUnavailable:t=>kt(yt.errorCodes.rpc.resourceUnavailable,t),transactionRejected:t=>kt(yt.errorCodes.rpc.transactionRejected,t),methodNotSupported:t=>kt(yt.errorCodes.rpc.methodNotSupported,t),limitExceeded:t=>kt(yt.errorCodes.rpc.limitExceeded,t)},provider:{userRejectedRequest:t=>qn(yt.errorCodes.provider.userRejectedRequest,t),unauthorized:t=>qn(yt.errorCodes.provider.unauthorized,t),unsupportedMethod:t=>qn(yt.errorCodes.provider.unsupportedMethod,t),disconnected:t=>qn(yt.errorCodes.provider.disconnected,t),chainDisconnected:t=>qn(yt.errorCodes.provider.chainDisconnected,t),custom:t=>{if(!t||typeof t!="object"||Array.isArray(t))throw new Error("Ethereum Provider custom errors must provide single object argument.");const{code:e,message:r,data:n}=t;if(!r||typeof r!="string")throw new Error('"message" must be a nonempty string');return new Ya.EthereumProviderError(e,r,n)}}};function kt(t,e){const[r,n]=Sh(e);return new Ya.EthereumRpcError(t,r||wh.getMessageFromCode(t),n)}function qn(t,e){const[r,n]=Sh(e);return new Ya.EthereumProviderError(t,r||wh.getMessageFromCode(t),n)}function Sh(t){if(t){if(typeof t=="string")return[t];if(typeof t=="object"&&!Array.isArray(t)){const{message:e,data:r}=t;if(e&&typeof e!="string")throw new Error("Must specify string message.");return[e||void 0,r]}}return[]}(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.getMessageFromCode=t.serializeError=t.EthereumProviderError=t.EthereumRpcError=t.ethErrors=t.errorCodes=void 0;const e=gr;Object.defineProperty(t,"EthereumRpcError",{enumerable:!0,get:function(){return e.EthereumRpcError}}),Object.defineProperty(t,"EthereumProviderError",{enumerable:!0,get:function(){return e.EthereumProviderError}});const r=Ka;Object.defineProperty(t,"serializeError",{enumerable:!0,get:function(){return r.serializeError}}),Object.defineProperty(t,"getMessageFromCode",{enumerable:!0,get:function(){return r.getMessageFromCode}});const n=$o;Object.defineProperty(t,"ethErrors",{enumerable:!0,get:function(){return n.ethErrors}});const i=yr;Object.defineProperty(t,"errorCodes",{enumerable:!0,get:function(){return i.errorCodes}})})(mh);var y2=_e&&_e.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Ii,"__esModule",{value:!0});Ii.JsonRpcEngine=void 0;const b2=y2(Tn),It=mh;class Zt extends b2.default{constructor(){super(),this._middleware=[]}push(e){this._middleware.push(e)}handle(e,r){if(r&&typeof r!="function")throw new Error('"callback" must be a function if provided.');return Array.isArray(e)?r?this._handleBatch(e,r):this._handleBatch(e):r?this._handle(e,r):this._promiseHandle(e)}asMiddleware(){return async(e,r,n,i)=>{try{const[o,s,a]=await Zt._runAllMiddleware(e,r,this._middleware);return s?(await Zt._runReturnHandlers(a),i(o)):n(async f=>{try{await Zt._runReturnHandlers(a)}catch(p){return f(p)}return f()})}catch(o){return i(o)}}}async _handleBatch(e,r){try{const n=await Promise.all(e.map(this._promiseHandle.bind(this)));return r?r(null,n):n}catch(n){if(r)return r(n);throw n}}_promiseHandle(e){return new Promise(r=>{this._handle(e,(n,i)=>{r(i)})})}async _handle(e,r){if(!e||Array.isArray(e)||typeof e!="object"){const s=new It.EthereumRpcError(It.errorCodes.rpc.invalidRequest,`Requests must be plain objects. Received: ${typeof e}`,{request:e});return r(s,{id:void 0,jsonrpc:"2.0",error:s})}if(typeof e.method!="string"){const s=new It.EthereumRpcError(It.errorCodes.rpc.invalidRequest,`Must specify a string method. Received: ${typeof e.method}`,{request:e});return r(s,{id:e.id,jsonrpc:"2.0",error:s})}const n=Object.assign({},e),i={id:n.id,jsonrpc:n.jsonrpc};let o=null;try{await this._processRequest(n,i)}catch(s){o=s}return o&&(delete i.result,i.error||(i.error=It.serializeError(o))),r(o,i)}async _processRequest(e,r){const[n,i,o]=await Zt._runAllMiddleware(e,r,this._middleware);if(Zt._checkForCompletion(e,r,i),await Zt._runReturnHandlers(o),n)throw n}static async _runAllMiddleware(e,r,n){const i=[];let o=null,s=!1;for(const a of n)if([o,s]=await Zt._runMiddleware(e,r,a,i),s)break;return[o,s,i.reverse()]}static _runMiddleware(e,r,n,i){return new Promise(o=>{const s=f=>{const p=f||r.error;p&&(r.error=It.serializeError(p)),o([p,!0])},a=f=>{r.error?s(r.error):(f&&(typeof f!="function"&&s(new It.EthereumRpcError(It.errorCodes.rpc.internal,`JsonRpcEngine: "next" return handlers must be functions. Received "${typeof f}" for request:
${Ws(e)}`,{request:e})),i.push(f)),o([null,!1]))};try{n(e,r,a,s)}catch(f){s(f)}})}static async _runReturnHandlers(e){for(const r of e)await new Promise((n,i)=>{r(o=>o?i(o):n())})}static _checkForCompletion(e,r,n){if(!("result"in r)&&!("error"in r))throw new It.EthereumRpcError(It.errorCodes.rpc.internal,`JsonRpcEngine: Response has no error or result for request:
${Ws(e)}`,{request:e});if(!n)throw new It.EthereumRpcError(It.errorCodes.rpc.internal,`JsonRpcEngine: Nothing ended request:
${Ws(e)}`,{request:e})}}Ii.JsonRpcEngine=Zt;function Ws(t){return JSON.stringify(t,null,2)}var Uo={};Object.defineProperty(Uo,"__esModule",{value:!0});Uo.mergeMiddleware=void 0;const v2=Ii;function m2(t){const e=new v2.JsonRpcEngine;return t.forEach(r=>e.push(r)),e.asMiddleware()}Uo.mergeMiddleware=m2;(function(t){var e=_e&&_e.__createBinding||(Object.create?function(n,i,o,s){s===void 0&&(s=o),Object.defineProperty(n,s,{enumerable:!0,get:function(){return i[o]}})}:function(n,i,o,s){s===void 0&&(s=o),n[s]=i[o]}),r=_e&&_e.__exportStar||function(n,i){for(var o in n)o!=="default"&&!Object.prototype.hasOwnProperty.call(i,o)&&e(i,n,o)};Object.defineProperty(t,"__esModule",{value:!0}),r(Do,t),r(Fo,t),r(jo,t),r(ki,t),r(Ii,t),r(Uo,t)})(Za);var Eh={},Qa={};const Ja=Rn(id);var Wo={};Object.defineProperty(Wo,"__esModule",{value:!0});var Ic=Ja,_2=function(){function t(e){if(this._maxConcurrency=e,this._queue=[],e<=0)throw new Error("semaphore must be initialized to a positive value");this._value=e}return t.prototype.acquire=function(){var e=this,r=this.isLocked(),n=new Promise(function(i){return e._queue.push(i)});return r||this._dispatch(),n},t.prototype.runExclusive=function(e){return Ic.__awaiter(this,void 0,void 0,function(){var r,n,i;return Ic.__generator(this,function(o){switch(o.label){case 0:return[4,this.acquire()];case 1:r=o.sent(),n=r[0],i=r[1],o.label=2;case 2:return o.trys.push([2,,4,5]),[4,e(n)];case 3:return[2,o.sent()];case 4:return i(),[7];case 5:return[2]}})})},t.prototype.isLocked=function(){return this._value<=0},t.prototype.release=function(){if(this._maxConcurrency>1)throw new Error("this method is unavailabel on semaphores with concurrency > 1; use the scoped release returned by acquire instead");if(this._currentReleaser){var e=this._currentReleaser;this._currentReleaser=void 0,e()}},t.prototype._dispatch=function(){var e=this,r=this._queue.shift();if(!!r){var n=!1;this._currentReleaser=function(){n||(n=!0,e._value++,e._dispatch())},r([this._value--,this._currentReleaser])}},t}();Wo.default=_2;Object.defineProperty(Qa,"__esModule",{value:!0});var Rc=Ja,w2=Wo,S2=function(){function t(){this._semaphore=new w2.default(1)}return t.prototype.acquire=function(){return Rc.__awaiter(this,void 0,void 0,function(){var e,r;return Rc.__generator(this,function(n){switch(n.label){case 0:return[4,this._semaphore.acquire()];case 1:return e=n.sent(),r=e[1],[2,r]}})})},t.prototype.runExclusive=function(e){return this._semaphore.runExclusive(function(){return e()})},t.prototype.isLocked=function(){return this._semaphore.isLocked()},t.prototype.release=function(){this._semaphore.release()},t}();Qa.default=S2;var Ho={};Object.defineProperty(Ho,"__esModule",{value:!0});Ho.withTimeout=void 0;var $i=Ja;function E2(t,e,r){var n=this;return r===void 0&&(r=new Error("timeout")),{acquire:function(){return new Promise(function(i,o){return $i.__awaiter(n,void 0,void 0,function(){var s,a,f;return $i.__generator(this,function(p){switch(p.label){case 0:return s=!1,setTimeout(function(){s=!0,o(r)},e),[4,t.acquire()];case 1:return a=p.sent(),s?(f=Array.isArray(a)?a[1]:a,f()):i(a),[2]}})})})},runExclusive:function(i){return $i.__awaiter(this,void 0,void 0,function(){var o,s;return $i.__generator(this,function(a){switch(a.label){case 0:o=function(){},a.label=1;case 1:return a.trys.push([1,,7,8]),[4,this.acquire()];case 2:return s=a.sent(),Array.isArray(s)?(o=s[1],[4,i(s[0])]):[3,4];case 3:return[2,a.sent()];case 4:return o=s,[4,i()];case 5:return[2,a.sent()];case 6:return[3,8];case 7:return o(),[7];case 8:return[2]}})})},release:function(){t.release()},isLocked:function(){return t.isLocked()}}}Ho.withTimeout=E2;(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.withTimeout=t.Semaphore=t.Mutex=void 0;var e=Qa;Object.defineProperty(t,"Mutex",{enumerable:!0,get:function(){return e.default}});var r=Wo;Object.defineProperty(t,"Semaphore",{enumerable:!0,get:function(){return r.default}});var n=Ho;Object.defineProperty(t,"withTimeout",{enumerable:!0,get:function(){return n.withTimeout}})})(Eh);const Tc=(t,e,r,n)=>function(...i){const o=e.promiseModule;return new o((s,a)=>{e.multiArgs?i.push((...p)=>{e.errorFirst?p[0]?a(p):(p.shift(),s(p)):s(p)}):e.errorFirst?i.push((p,g)=>{p?a(p):s(g)}):i.push(s),Reflect.apply(t,this===r?n:this,i)})},Oc=new WeakMap;var x2=(t,e)=>{e={exclude:[/.+(?:Sync|Stream)$/],errorFirst:!0,promiseModule:Promise,...e};const r=typeof t;if(!(t!==null&&(r==="object"||r==="function")))throw new TypeError(`Expected \`input\` to be a \`Function\` or \`Object\`, got \`${t===null?"null":r}\``);const n=(s,a)=>{let f=Oc.get(s);if(f||(f={},Oc.set(s,f)),a in f)return f[a];const p=N=>typeof N=="string"||typeof a=="symbol"?a===N:N.test(a),g=Reflect.getOwnPropertyDescriptor(s,a),I=g===void 0||g.writable||g.configurable,C=(e.include?e.include.some(p):!e.exclude.some(p))&&I;return f[a]=C,C},i=new WeakMap,o=new Proxy(t,{apply(s,a,f){const p=i.get(s);if(p)return Reflect.apply(p,a,f);const g=e.excludeMain?s:Tc(s,e,o,s);return i.set(s,g),Reflect.apply(g,a,f)},get(s,a){const f=s[a];if(!n(s,a)||f===Function.prototype[a])return f;const p=i.get(f);if(p)return p;if(typeof f=="function"){const g=Tc(f,e,o,s);return i.set(f,g),g}return f}});return o};const M2=Tn.default;class A2 extends M2{constructor(){super(),this.updates=[]}async initialize(){}async update(){throw new Error("BaseFilter - no update method specified")}addResults(e){this.updates=this.updates.concat(e),e.forEach(r=>this.emit("update",r))}addInitialResults(e){}getChangesAndClear(){const e=this.updates;return this.updates=[],e}}var Xa=A2;const C2=Xa;class k2 extends C2{constructor(){super(),this.allResults=[]}async update(){throw new Error("BaseFilterWithHistory - no update method specified")}addResults(e){this.allResults=this.allResults.concat(e),super.addResults(e)}addInitialResults(e){this.allResults=this.allResults.concat(e),super.addInitialResults(e)}getAllResults(){return this.allResults}}var I2=k2,Ri={minBlockRef:R2,maxBlockRef:T2,sortBlockRefs:eu,bnToHex:O2,blockRefIsNumber:N2,hexToInt:co,incrementHexInt:B2,intToHex:xh,unsafeRandomBytes:P2};function R2(...t){return eu(t)[0]}function T2(...t){const e=eu(t);return e[e.length-1]}function eu(t){return t.sort((e,r)=>e==="latest"||r==="earliest"?1:r==="latest"||e==="earliest"?-1:co(e)-co(r))}function O2(t){return"0x"+t.toString(16)}function N2(t){return t&&!["earliest","latest","pending"].includes(t)}function co(t){return t==null?t:Number.parseInt(t,16)}function B2(t){if(t==null)return t;const e=co(t);return xh(e+1)}function xh(t){if(t==null)return t;let e=t.toString(16);return e.length%2&&(e="0"+e),"0x"+e}function P2(t){let e="0x";for(let r=0;r<t;r++)e+=Nc(),e+=Nc();return e}function Nc(){return Math.floor(Math.random()*16).toString(16)}const L2=sw,D2=x2,F2=I2,{bnToHex:Lx,hexToInt:Ui,incrementHexInt:j2,minBlockRef:$2,blockRefIsNumber:U2}=Ri;class W2 extends F2{constructor({provider:e,params:r}){super(),this.type="log",this.ethQuery=new L2(e),this.params=Object.assign({fromBlock:"latest",toBlock:"latest",address:void 0,topics:[]},r),this.params.address&&(Array.isArray(this.params.address)||(this.params.address=[this.params.address]),this.params.address=this.params.address.map(n=>n.toLowerCase()))}async initialize({currentBlock:e}){let r=this.params.fromBlock;["latest","pending"].includes(r)&&(r=e),r==="earliest"&&(r="0x0"),this.params.fromBlock=r;const n=$2(this.params.toBlock,e),i=Object.assign({},this.params,{toBlock:n}),o=await this._fetchLogs(i);this.addInitialResults(o)}async update({oldBlock:e,newBlock:r}){const n=r;let i;e?i=j2(e):i=r;const o=Object.assign({},this.params,{fromBlock:i,toBlock:n}),a=(await this._fetchLogs(o)).filter(f=>this.matchLog(f));this.addResults(a)}async _fetchLogs(e){return await D2(n=>this.ethQuery.getLogs(e,n))()}matchLog(e){if(Ui(this.params.fromBlock)>=Ui(e.blockNumber)||U2(this.params.toBlock)&&Ui(this.params.toBlock)<=Ui(e.blockNumber))return!1;const r=e.address&&e.address.toLowerCase();return this.params.address&&r&&!this.params.address.includes(r)?!1:this.params.topics.every((i,o)=>{let s=e.topics[o];if(!s)return!1;s=s.toLowerCase();let a=Array.isArray(i)?i:[i];return a.includes(null)?!0:(a=a.map(g=>g.toLowerCase()),a.includes(s))})}}var H2=W2,tu=V2;async function V2({provider:t,fromBlock:e,toBlock:r}){e||(e=r);const n=Bc(e),o=Bc(r)-n+1,s=Array(o).fill().map((f,p)=>n+p).map(z2);return await Promise.all(s.map(f=>q2(t,"eth_getBlockByNumber",[f,!1])))}function Bc(t){return t==null?t:Number.parseInt(t,16)}function z2(t){if(t==null)return t;const e=t.toString(16);return"0x"+e}function q2(t,e,r){return new Promise((n,i)=>{t.sendAsync({id:1,jsonrpc:"2.0",method:e,params:r},(o,s)=>{if(o)return i(o);n(s.result)})})}const G2=Xa,Z2=tu,{incrementHexInt:K2}=Ri;class Y2 extends G2{constructor({provider:e,params:r}){super(),this.type="block",this.provider=e}async update({oldBlock:e,newBlock:r}){const n=r,i=K2(e),s=(await Z2({provider:this.provider,fromBlock:i,toBlock:n})).map(a=>a.hash);this.addResults(s)}}var Q2=Y2;const J2=Xa,X2=tu,{incrementHexInt:eS}=Ri;class tS extends J2{constructor({provider:e}){super(),this.type="tx",this.provider=e}async update({oldBlock:e}){const r=e,n=eS(e),i=await X2({provider:this.provider,fromBlock:n,toBlock:r}),o=[];for(const s of i)o.push(...s.transactions);this.addResults(o)}}var rS=tS;const nS=Eh.Mutex,{createAsyncMiddleware:iS}=Za,oS=Ga.exports,sS=H2,aS=Q2,uS=rS,{intToHex:Mh,hexToInt:Hs}=Ri;var cS=lS;function lS({blockTracker:t,provider:e}){let r=0,n={};const i=new nS,o=fS({mutex:i}),s=oS({eth_newFilter:o(Vs(f)),eth_newBlockFilter:o(Vs(p)),eth_newPendingTransactionFilter:o(Vs(g)),eth_uninstallFilter:o(Ki(C)),eth_getFilterChanges:o(Ki(I)),eth_getFilterLogs:o(Ki(m))}),a=async({oldBlock:B,newBlock:D})=>{if(n.length===0)return;const G=await i.acquire();try{await Promise.all(nn(n).map(async Q=>{try{await Q.update({oldBlock:B,newBlock:D})}catch(J){console.error(J)}}))}catch(Q){console.error(Q)}G()};return s.newLogFilter=f,s.newBlockFilter=p,s.newPendingTransactionFilter=g,s.uninstallFilter=C,s.getFilterChanges=I,s.getFilterLogs=m,s.destroy=()=>{U()},s;async function f(B){const D=new sS({provider:e,params:B});return await N(D),D}async function p(){const B=new aS({provider:e});return await N(B),B}async function g(){const B=new uS({provider:e});return await N(B),B}async function I(B){const D=Hs(B),G=n[D];if(!G)throw new Error(`No filter for index "${D}"`);return G.getChangesAndClear()}async function m(B){const D=Hs(B),G=n[D];if(!G)throw new Error(`No filter for index "${D}"`);return G.type==="log"?results=G.getAllResults():results=[],results}async function C(B){const D=Hs(B),G=n[D],Q=Boolean(G);return Q&&await H(D),Q}async function N(B){const D=nn(n).length,G=await t.getLatestBlock();await B.initialize({currentBlock:G}),r++,n[r]=B,B.id=r,B.idHex=Mh(r);const Q=nn(n).length;return R({prevFilterCount:D,newFilterCount:Q}),r}async function H(B){const D=nn(n).length;delete n[B];const G=nn(n).length;R({prevFilterCount:D,newFilterCount:G})}async function U(){const B=nn(n).length;n={},R({prevFilterCount:B,newFilterCount:0})}function R({prevFilterCount:B,newFilterCount:D}){if(B===0&&D>0){t.on("sync",a);return}if(B>0&&D===0){t.removeListener("sync",a);return}}}function Vs(t){return Ki(async(...e)=>{const r=await t(...e);return Mh(r.id)})}function Ki(t){return iS(async(e,r)=>{const n=await t.apply(null,e.params);r.result=n})}function fS({mutex:t}){return e=>async(r,n,i,o)=>{(await t.acquire())(),e(r,n,i,o)}}function nn(t,e){const r=[];for(let n in t)r.push(t[n]);return r}const hS=Tn.default,dS=Ga.exports,{createAsyncMiddleware:Pc}=Za,pS=cS,{unsafeRandomBytes:gS,incrementHexInt:yS}=Ri,bS=tu;var vS=mS;function mS({blockTracker:t,provider:e}){const r={},n=pS({blockTracker:t,provider:e});let i=!1;const o=new hS,s=dS({eth_subscribe:Pc(a),eth_unsubscribe:Pc(f)});return s.destroy=g,{events:o,middleware:s};async function a(I,m){if(i)throw new Error("SubscriptionManager - attempting to use after destroying");const C=I.params[0],N=gS(16);let H;switch(C){case"newHeads":H=U({subId:N});break;case"logs":const B=I.params[1],D=await n.newLogFilter(B);H=R({subId:N,filter:D});break;default:throw new Error(`SubscriptionManager - unsupported subscription type "${C}"`)}r[N]=H,m.result=N;return;function U({subId:B}){const D={type:C,destroy:async()=>{t.removeListener("sync",D.update)},update:async({oldBlock:G,newBlock:Q})=>{const J=Q,te=yS(G);(await bS({provider:e,fromBlock:te,toBlock:J})).map(_S).forEach(ye=>{p(B,ye)})}};return t.on("sync",D.update),D}function R({subId:B,filter:D}){return D.on("update",Q=>p(B,Q)),{type:C,destroy:async()=>await n.uninstallFilter(D.idHex)}}}async function f(I,m){if(i)throw new Error("SubscriptionManager - attempting to use after destroying");const C=I.params[0],N=r[C];if(!N){m.result=!1;return}delete r[C],await N.destroy(),m.result=!0}function p(I,m){o.emit("notification",{jsonrpc:"2.0",method:"eth_subscription",params:{subscription:I,result:m}})}function g(){o.removeAllListeners();for(const I in r)r[I].destroy(),delete r[I];i=!0}}function _S(t){return{hash:t.hash,parentHash:t.parentHash,sha3Uncles:t.sha3Uncles,miner:t.miner,stateRoot:t.stateRoot,transactionsRoot:t.transactionsRoot,receiptsRoot:t.receiptsRoot,logsBloom:t.logsBloom,difficulty:t.difficulty,number:t.number,gasLimit:t.gasLimit,gasUsed:t.gasUsed,nonce:t.nonce,mixHash:t.mixHash,timestamp:t.timestamp,extraData:t.extraData}}Object.defineProperty(Bo,"__esModule",{value:!0});Bo.SubscriptionManager=void 0;const wS=o2,SS=vS,Lc=()=>{};class ES{constructor(e){const r=new wS({provider:e,pollingInterval:15e3,setSkipCacheFlag:!0}),{events:n,middleware:i}=SS({blockTracker:r,provider:e});this.events=n,this.subscriptionMiddleware=i}async handleRequest(e){const r={};return await this.subscriptionMiddleware(e,r,Lc,Lc),r}destroy(){this.subscriptionMiddleware.destroy()}}Bo.SubscriptionManager=ES;var ru=_e&&_e.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(yn,"__esModule",{value:!0});yn.CoinbaseWalletProvider=void 0;const xS=ru(Tn),MS=ru(di.exports),bt=mo,zs=On,Dc=Nn,Fc=jt,be=ne,qs=ru(Z_),AS=Mn,Te=Jf,CS=Bo,jc="DefaultChainId",$c="DefaultJsonRpcUrl",kS=[1,10,137,61,56,250,42161,100,43114,3,4,5,42,69,80001,97,4002,421611,43113];class IS extends xS.default{constructor(e){var r,n;super(),this._filterPolyfill=new AS.FilterPolyfill(this),this._subscriptionManager=new CS.SubscriptionManager(this),this._relay=null,this._addresses=[],this.hasMadeFirstChainChangedEmission=!1,this._send=this.send.bind(this),this._sendAsync=this.sendAsync.bind(this),this.setProviderInfo=this.setProviderInfo.bind(this),this.updateProviderInfo=this.updateProviderInfo.bind(this),this.getChainId=this.getChainId.bind(this),this.setAppInfo=this.setAppInfo.bind(this),this.enable=this.enable.bind(this),this.close=this.close.bind(this),this.send=this.send.bind(this),this.sendAsync=this.sendAsync.bind(this),this.request=this.request.bind(this),this._setAddresses=this._setAddresses.bind(this),this.scanQRCode=this.scanQRCode.bind(this),this.genericRequest=this.genericRequest.bind(this),this._chainIdFromOpts=e.chainId,this._jsonRpcUrlFromOpts=e.jsonRpcUrl,this._overrideIsMetaMask=e.overrideIsMetaMask,this._relayProvider=e.relayProvider,this._storage=e.storage,this._relayEventManager=e.relayEventManager,this.diagnostic=e.diagnosticLogger,this.reloadOnDisconnect=!0,this.isCoinbaseWallet=(r=e.overrideIsCoinbaseWallet)!==null&&r!==void 0?r:!0,this.isCoinbaseBrowser=(n=e.overrideIsCoinbaseBrowser)!==null&&n!==void 0?n:!1,this.qrUrl=e.qrUrl,this.supportsAddressSwitching=e.supportsAddressSwitching,this.isLedger=e.isLedger;const i=this.getChainId(),o=(0,be.prepend0x)(i.toString(16));this.emit("connect",{chainIdStr:o});const s=this._storage.getItem(Fc.LOCAL_STORAGE_ADDRESSES_KEY);if(s){const a=s.split(" ");a[0]!==""&&(this._addresses=a.map(f=>(0,be.ensureAddressString)(f)),this.emit("accountsChanged",a))}this._subscriptionManager.events.on("notification",a=>{this.emit("message",{type:a.method,data:a.params})}),this._addresses.length>0&&this.initializeRelay(),window.addEventListener("message",a=>{var f;if(a.data.type==="walletLinkMessage"){if(a.data.data.action==="defaultChainChanged"||a.data.data.action==="dappChainSwitched"){const p=a.data.data.chainId,g=(f=a.data.data.jsonRpcUrl)!==null&&f!==void 0?f:this.jsonRpcUrl;this.updateProviderInfo(g,Number(p))}a.data.data.action==="addressChanged"&&this._setAddresses([a.data.data.address])}})}get selectedAddress(){return this._addresses[0]||void 0}get networkVersion(){return this.getChainId().toString(10)}get chainId(){return(0,be.prepend0x)(this.getChainId().toString(16))}get isWalletLink(){return!0}get isMetaMask(){return this._overrideIsMetaMask}get host(){return this.jsonRpcUrl}get connected(){return!0}isConnected(){return!0}get jsonRpcUrl(){var e;return(e=this._storage.getItem($c))!==null&&e!==void 0?e:this._jsonRpcUrlFromOpts}set jsonRpcUrl(e){this._storage.setItem($c,e)}disableReloadOnDisconnect(){this.reloadOnDisconnect=!1}setProviderInfo(e,r){this._chainIdFromOpts=r,this._jsonRpcUrlFromOpts=e,this.updateProviderInfo(e,r)}updateProviderInfo(e,r){this.jsonRpcUrl=e;const n=this.getChainId();this._storage.setItem(jc,r.toString(10)),((0,be.ensureIntNumber)(r)!==n||!this.hasMadeFirstChainChangedEmission)&&(this.emit("chainChanged",this.getChainId()),this.hasMadeFirstChainChangedEmission=!0)}async watchAsset(e,r,n,i,o,s){return!!(await(await this.initializeRelay()).watchAsset(e,r,n,i,o,s==null?void 0:s.toString()).promise).result}async addEthereumChain(e,r,n,i,o,s){var a,f;if((0,be.ensureIntNumber)(e)===this.getChainId())return!1;const p=await this.initializeRelay(),g=p.inlineAddEthereumChain(e.toString());!this._isAuthorized()&&!g&&await p.requestEthereumAccounts().promise;const I=await p.addEthereumChain(e.toString(),r,o,n,i,s).promise;return((a=I.result)===null||a===void 0?void 0:a.isApproved)===!0&&this.updateProviderInfo(r[0],e),((f=I.result)===null||f===void 0?void 0:f.isApproved)===!0}async switchEthereumChain(e){kS.includes(e)&&this.updateProviderInfo(this.jsonRpcUrl,e);const n=await(await this.initializeRelay()).switchEthereumChain(e.toString(10),this.selectedAddress||void 0).promise;if(n.errorCode)throw bt.ethErrors.provider.custom({code:n.errorCode});const i=n.result;i.isApproved&&i.rpcUrl.length>0&&this.updateProviderInfo(i.rpcUrl,e)}setAppInfo(e,r){this.initializeRelay().then(n=>n.setAppInfo(e,r))}async enable(){var e;return(e=this.diagnostic)===null||e===void 0||e.log(zs.EVENTS.ETH_ACCOUNTS_STATE,{method:"provider::enable",addresses_length:this._addresses.length,sessionIdHash:this._relay?Dc.Session.hash(this._relay.session.id):void 0}),this._addresses.length>0?[...this._addresses]:await this._send(Te.JSONRPCMethod.eth_requestAccounts)}async close(){(await this.initializeRelay()).resetAndReload()}send(e,r){if(typeof e=="string"){const i=e,o=Array.isArray(r)?r:r!==void 0?[r]:[],s={jsonrpc:"2.0",id:0,method:i,params:o};return this._sendRequestAsync(s).then(a=>a.result)}if(typeof r=="function"){const i=e,o=r;return this._sendAsync(i,o)}if(Array.isArray(e))return e.map(o=>this._sendRequest(o));const n=e;return this._sendRequest(n)}async sendAsync(e,r){if(typeof r!="function")throw new Error("callback is required");if(Array.isArray(e)){const i=r;this._sendMultipleRequestsAsync(e).then(o=>i(null,o)).catch(o=>i(o,null));return}const n=r;return this._sendRequestAsync(e).then(i=>n(null,i)).catch(i=>n(i,null))}async request(e){if(!e||typeof e!="object"||Array.isArray(e))throw bt.ethErrors.rpc.invalidRequest({message:"Expected a single, non-array, object argument.",data:e});const{method:r,params:n}=e;if(typeof r!="string"||r.length===0)throw bt.ethErrors.rpc.invalidRequest({message:"'args.method' must be a non-empty string.",data:e});if(n!==void 0&&!Array.isArray(n)&&(typeof n!="object"||n===null))throw bt.ethErrors.rpc.invalidRequest({message:"'args.params' must be an object or array if provided.",data:e});const i=n===void 0?[]:n,o=this._relayEventManager.makeRequestId();return(await this._sendRequestAsync({method:r,params:i,jsonrpc:"2.0",id:o})).result}async scanQRCode(e){const n=await(await this.initializeRelay()).scanQRCode((0,be.ensureRegExpString)(e)).promise;if(typeof n.result!="string")throw new Error("result was not a string");return n.result}async genericRequest(e,r){const i=await(await this.initializeRelay()).genericRequest(e,r).promise;if(typeof i.result!="string")throw new Error("result was not a string");return i.result}async selectProvider(e){const n=await(await this.initializeRelay()).selectProvider(e).promise;if(typeof n.result!="string")throw new Error("result was not a string");return n.result}supportsSubscriptions(){return!1}subscribe(){throw new Error("Subscriptions are not supported")}unsubscribe(){throw new Error("Subscriptions are not supported")}disconnect(){return!0}_sendRequest(e){const r={jsonrpc:"2.0",id:e.id},{method:n}=e;if(r.result=this._handleSynchronousMethods(e),r.result===void 0)throw new Error(`Coinbase Wallet does not support calling ${n} synchronously without a callback. Please provide a callback parameter to call ${n} asynchronously.`);return r}_setAddresses(e,r){if(!Array.isArray(e))throw new Error("addresses is not an array");const n=e.map(i=>(0,be.ensureAddressString)(i));JSON.stringify(n)!==JSON.stringify(this._addresses)&&(this._addresses.length>0&&this.supportsAddressSwitching===!1&&!r||(this._addresses=n,this.emit("accountsChanged",this._addresses),this._storage.setItem(Fc.LOCAL_STORAGE_ADDRESSES_KEY,n.join(" "))))}_sendRequestAsync(e){return new Promise((r,n)=>{try{const i=this._handleSynchronousMethods(e);if(i!==void 0)return r({jsonrpc:"2.0",id:e.id,result:i});const o=this._handleAsynchronousFilterMethods(e);if(o!==void 0){o.then(a=>r(Object.assign(Object.assign({},a),{id:e.id}))).catch(a=>n(a));return}const s=this._handleSubscriptionMethods(e);if(s!==void 0){s.then(a=>r({jsonrpc:"2.0",id:e.id,result:a.result})).catch(a=>n(a));return}}catch(i){return n(i)}this._handleAsynchronousMethods(e).then(i=>i&&r(Object.assign(Object.assign({},i),{id:e.id}))).catch(i=>n(i))})}_sendMultipleRequestsAsync(e){return Promise.all(e.map(r=>this._sendRequestAsync(r)))}_handleSynchronousMethods(e){const{method:r}=e,n=e.params||[];switch(r){case Te.JSONRPCMethod.eth_accounts:return this._eth_accounts();case Te.JSONRPCMethod.eth_coinbase:return this._eth_coinbase();case Te.JSONRPCMethod.eth_uninstallFilter:return this._eth_uninstallFilter(n);case Te.JSONRPCMethod.net_version:return this._net_version();case Te.JSONRPCMethod.eth_chainId:return this._eth_chainId();default:return}}async _handleAsynchronousMethods(e){const{method:r}=e,n=e.params||[];switch(r){case Te.JSONRPCMethod.eth_requestAccounts:return this._eth_requestAccounts();case Te.JSONRPCMethod.eth_sign:return this._eth_sign(n);case Te.JSONRPCMethod.eth_ecRecover:return this._eth_ecRecover(n);case Te.JSONRPCMethod.personal_sign:return this._personal_sign(n);case Te.JSONRPCMethod.personal_ecRecover:return this._personal_ecRecover(n);case Te.JSONRPCMethod.eth_signTransaction:return this._eth_signTransaction(n);case Te.JSONRPCMethod.eth_sendRawTransaction:return this._eth_sendRawTransaction(n);case Te.JSONRPCMethod.eth_sendTransaction:return this._eth_sendTransaction(n);case Te.JSONRPCMethod.eth_signTypedData_v1:return this._eth_signTypedData_v1(n);case Te.JSONRPCMethod.eth_signTypedData_v2:return this._throwUnsupportedMethodError();case Te.JSONRPCMethod.eth_signTypedData_v3:return this._eth_signTypedData_v3(n);case Te.JSONRPCMethod.eth_signTypedData_v4:case Te.JSONRPCMethod.eth_signTypedData:return this._eth_signTypedData_v4(n);case Te.JSONRPCMethod.cbWallet_arbitrary:return this._cbwallet_arbitrary(n);case Te.JSONRPCMethod.wallet_addEthereumChain:return this._wallet_addEthereumChain(n);case Te.JSONRPCMethod.wallet_switchEthereumChain:return this._wallet_switchEthereumChain(n);case Te.JSONRPCMethod.wallet_watchAsset:return this._wallet_watchAsset(n)}return(await this.initializeRelay()).makeEthereumJSONRPCRequest(e,this.jsonRpcUrl)}_handleAsynchronousFilterMethods(e){const{method:r}=e,n=e.params||[];switch(r){case Te.JSONRPCMethod.eth_newFilter:return this._eth_newFilter(n);case Te.JSONRPCMethod.eth_newBlockFilter:return this._eth_newBlockFilter();case Te.JSONRPCMethod.eth_newPendingTransactionFilter:return this._eth_newPendingTransactionFilter();case Te.JSONRPCMethod.eth_getFilterChanges:return this._eth_getFilterChanges(n);case Te.JSONRPCMethod.eth_getFilterLogs:return this._eth_getFilterLogs(n)}}_handleSubscriptionMethods(e){switch(e.method){case Te.JSONRPCMethod.eth_subscribe:case Te.JSONRPCMethod.eth_unsubscribe:return this._subscriptionManager.handleRequest(e)}}_isKnownAddress(e){try{const r=(0,be.ensureAddressString)(e);return this._addresses.map(i=>(0,be.ensureAddressString)(i)).includes(r)}catch{}return!1}_ensureKnownAddress(e){var r;if(!this._isKnownAddress(e))throw(r=this.diagnostic)===null||r===void 0||r.log(zs.EVENTS.UNKNOWN_ADDRESS_ENCOUNTERED),new Error("Unknown Ethereum address")}_prepareTransactionParams(e){const r=e.from?(0,be.ensureAddressString)(e.from):this.selectedAddress;if(!r)throw new Error("Ethereum address is unavailable");this._ensureKnownAddress(r);const n=e.to?(0,be.ensureAddressString)(e.to):null,i=e.value!=null?(0,be.ensureBN)(e.value):new MS.default(0),o=e.data?(0,be.ensureBuffer)(e.data):Se.alloc(0),s=e.nonce!=null?(0,be.ensureIntNumber)(e.nonce):null,a=e.gasPrice!=null?(0,be.ensureBN)(e.gasPrice):null,f=e.maxFeePerGas!=null?(0,be.ensureBN)(e.maxFeePerGas):null,p=e.maxPriorityFeePerGas!=null?(0,be.ensureBN)(e.maxPriorityFeePerGas):null,g=e.gas!=null?(0,be.ensureBN)(e.gas):null,I=this.getChainId();return{fromAddress:r,toAddress:n,weiValue:i,data:o,nonce:s,gasPriceInWei:a,maxFeePerGas:f,maxPriorityFeePerGas:p,gasLimit:g,chainId:I}}_isAuthorized(){return this._addresses.length>0}_requireAuthorization(){if(!this._isAuthorized())throw bt.ethErrors.provider.unauthorized({})}_throwUnsupportedMethodError(){throw bt.ethErrors.provider.unsupportedMethod({})}async _signEthereumMessage(e,r,n,i){this._ensureKnownAddress(r);try{const s=await(await this.initializeRelay()).signEthereumMessage(e,r,n,i).promise;return{jsonrpc:"2.0",id:0,result:s.result}}catch(o){throw typeof o.message=="string"&&o.message.match(/(denied|rejected)/i)?bt.ethErrors.provider.userRejectedRequest("User denied message signature"):o}}async _ethereumAddressFromSignedMessage(e,r,n){const o=await(await this.initializeRelay()).ethereumAddressFromSignedMessage(e,r,n).promise;return{jsonrpc:"2.0",id:0,result:o.result}}_eth_accounts(){return[...this._addresses]}_eth_coinbase(){return this.selectedAddress||null}_net_version(){return this.getChainId().toString(10)}_eth_chainId(){return(0,be.hexStringFromIntNumber)(this.getChainId())}getChainId(){const e=this._storage.getItem(jc);if(!e)return(0,be.ensureIntNumber)(this._chainIdFromOpts);const r=parseInt(e,10);return(0,be.ensureIntNumber)(r)}async _eth_requestAccounts(){var e;if((e=this.diagnostic)===null||e===void 0||e.log(zs.EVENTS.ETH_ACCOUNTS_STATE,{method:"provider::_eth_requestAccounts",addresses_length:this._addresses.length,sessionIdHash:this._relay?Dc.Session.hash(this._relay.session.id):void 0}),this._addresses.length>0)return Promise.resolve({jsonrpc:"2.0",id:0,result:this._addresses});let r;try{r=await(await this.initializeRelay()).requestEthereumAccounts().promise}catch(n){throw typeof n.message=="string"&&n.message.match(/(denied|rejected)/i)?bt.ethErrors.provider.userRejectedRequest("User denied account authorization"):n}if(!r.result)throw new Error("accounts received is empty");return this._setAddresses(r.result),this.isLedger||await this.switchEthereumChain(this.getChainId()),{jsonrpc:"2.0",id:0,result:this._addresses}}_eth_sign(e){this._requireAuthorization();const r=(0,be.ensureAddressString)(e[0]),n=(0,be.ensureBuffer)(e[1]);return this._signEthereumMessage(n,r,!1)}_eth_ecRecover(e){const r=(0,be.ensureBuffer)(e[0]),n=(0,be.ensureBuffer)(e[1]);return this._ethereumAddressFromSignedMessage(r,n,!1)}_personal_sign(e){this._requireAuthorization();const r=(0,be.ensureBuffer)(e[0]),n=(0,be.ensureAddressString)(e[1]);return this._signEthereumMessage(r,n,!0)}_personal_ecRecover(e){const r=(0,be.ensureBuffer)(e[0]),n=(0,be.ensureBuffer)(e[1]);return this._ethereumAddressFromSignedMessage(r,n,!0)}async _eth_signTransaction(e){this._requireAuthorization();const r=this._prepareTransactionParams(e[0]||{});try{const i=await(await this.initializeRelay()).signEthereumTransaction(r).promise;return{jsonrpc:"2.0",id:0,result:i.result}}catch(n){throw typeof n.message=="string"&&n.message.match(/(denied|rejected)/i)?bt.ethErrors.provider.userRejectedRequest("User denied transaction signature"):n}}async _eth_sendRawTransaction(e){const r=(0,be.ensureBuffer)(e[0]),i=await(await this.initializeRelay()).submitEthereumTransaction(r,this.getChainId()).promise;return{jsonrpc:"2.0",id:0,result:i.result}}async _eth_sendTransaction(e){this._requireAuthorization();const r=this._prepareTransactionParams(e[0]||{});try{const i=await(await this.initializeRelay()).signAndSubmitEthereumTransaction(r).promise;return{jsonrpc:"2.0",id:0,result:i.result}}catch(n){throw typeof n.message=="string"&&n.message.match(/(denied|rejected)/i)?bt.ethErrors.provider.userRejectedRequest("User denied transaction signature"):n}}async _eth_signTypedData_v1(e){this._requireAuthorization();const r=(0,be.ensureParsedJSONObject)(e[0]),n=(0,be.ensureAddressString)(e[1]);this._ensureKnownAddress(n);const i=qs.default.hashForSignTypedDataLegacy({data:r}),o=JSON.stringify(r,null,2);return this._signEthereumMessage(i,n,!1,o)}async _eth_signTypedData_v3(e){this._requireAuthorization();const r=(0,be.ensureAddressString)(e[0]),n=(0,be.ensureParsedJSONObject)(e[1]);this._ensureKnownAddress(r);const i=qs.default.hashForSignTypedData_v3({data:n}),o=JSON.stringify(n,null,2);return this._signEthereumMessage(i,r,!1,o)}async _eth_signTypedData_v4(e){this._requireAuthorization();const r=(0,be.ensureAddressString)(e[0]),n=(0,be.ensureParsedJSONObject)(e[1]);this._ensureKnownAddress(r);const i=qs.default.hashForSignTypedData_v4({data:n}),o=JSON.stringify(n,null,2);return this._signEthereumMessage(i,r,!1,o)}async _cbwallet_arbitrary(e){const r=e[0],n=e[1];if(typeof n!="string")throw new Error("parameter must be a string");if(typeof r!="object"||r===null)throw new Error("parameter must be an object");const i=await this.genericRequest(r,n);return{jsonrpc:"2.0",id:0,result:i}}async _wallet_addEthereumChain(e){var r,n,i,o;const s=e[0];if(((r=s.rpcUrls)===null||r===void 0?void 0:r.length)===0)return{jsonrpc:"2.0",id:0,error:{code:2,message:"please pass in at least 1 rpcUrl"}};if(!s.chainName||s.chainName.trim()==="")throw bt.ethErrors.provider.custom({code:0,message:"chainName is a required field"});if(!s.nativeCurrency)throw bt.ethErrors.provider.custom({code:0,message:"nativeCurrency is a required field"});const a=parseInt(s.chainId,16);return await this.addEthereumChain(a,(n=s.rpcUrls)!==null&&n!==void 0?n:[],(i=s.blockExplorerUrls)!==null&&i!==void 0?i:[],s.chainName,(o=s.iconUrls)!==null&&o!==void 0?o:[],s.nativeCurrency)?{jsonrpc:"2.0",id:0,result:null}:{jsonrpc:"2.0",id:0,error:{code:2,message:"unable to add ethereum chain"}}}async _wallet_switchEthereumChain(e){const r=e[0];return await this.switchEthereumChain(parseInt(r.chainId,16)),{jsonrpc:"2.0",id:0,result:null}}async _wallet_watchAsset(e){const r=Array.isArray(e)?e[0]:e;if(!r.type)throw bt.ethErrors.rpc.invalidParams({message:"Type is required"});if((r==null?void 0:r.type)!=="ERC20")throw bt.ethErrors.rpc.invalidParams({message:`Asset of type '${r.type}' is not supported`});if(!(r!=null&&r.options))throw bt.ethErrors.rpc.invalidParams({message:"Options are required"});if(!(r!=null&&r.options.address))throw bt.ethErrors.rpc.invalidParams({message:"Address is required"});const n=this.getChainId(),{address:i,symbol:o,image:s,decimals:a}=r.options,f=await this.watchAsset(r.type,i,o,a,s,n);return{jsonrpc:"2.0",id:0,result:f}}_eth_uninstallFilter(e){const r=(0,be.ensureHexString)(e[0]);return this._filterPolyfill.uninstallFilter(r)}async _eth_newFilter(e){const r=e[0],n=await this._filterPolyfill.newFilter(r);return{jsonrpc:"2.0",id:0,result:n}}async _eth_newBlockFilter(){const e=await this._filterPolyfill.newBlockFilter();return{jsonrpc:"2.0",id:0,result:e}}async _eth_newPendingTransactionFilter(){const e=await this._filterPolyfill.newPendingTransactionFilter();return{jsonrpc:"2.0",id:0,result:e}}_eth_getFilterChanges(e){const r=(0,be.ensureHexString)(e[0]);return this._filterPolyfill.getFilterChanges(r)}_eth_getFilterLogs(e){const r=(0,be.ensureHexString)(e[0]);return this._filterPolyfill.getFilterLogs(r)}initializeRelay(){return this._relay?Promise.resolve(this._relay):this._relayProvider().then(e=>(e.setAccountsCallback((r,n)=>this._setAddresses(r,n)),e.setChainCallback((r,n)=>{this.updateProviderInfo(n,parseInt(r,10))}),e.setDappDefaultChainCallback(this._chainIdFromOpts),this._relay=e,e))}}yn.CoinbaseWalletProvider=IS;var Vo={},zo={},Ti,ge,Ah,Ch,ri,Uc,kh,lo={},Ih=[],RS=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i;function Kt(t,e){for(var r in e)t[r]=e[r];return t}function Rh(t){var e=t.parentNode;e&&e.removeChild(t)}function ma(t,e,r){var n,i,o,s={};for(o in e)o=="key"?n=e[o]:o=="ref"?i=e[o]:s[o]=e[o];if(arguments.length>2&&(s.children=arguments.length>3?Ti.call(arguments,2):r),typeof t=="function"&&t.defaultProps!=null)for(o in t.defaultProps)s[o]===void 0&&(s[o]=t.defaultProps[o]);return ni(t,s,n,i,null)}function ni(t,e,r,n,i){var o={type:t,props:e,key:r,ref:n,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,__h:null,constructor:void 0,__v:i==null?++Ah:i};return i==null&&ge.vnode!=null&&ge.vnode(o),o}function TS(){return{current:null}}function Wn(t){return t.children}function ii(t,e){this.props=t,this.context=e}function An(t,e){if(e==null)return t.__?An(t.__,t.__.__k.indexOf(t)+1):null;for(var r;e<t.__k.length;e++)if((r=t.__k[e])!=null&&r.__e!=null)return r.__e;return typeof t.type=="function"?An(t):null}function Th(t){var e,r;if((t=t.__)!=null&&t.__c!=null){for(t.__e=t.__c.base=null,e=0;e<t.__k.length;e++)if((r=t.__k[e])!=null&&r.__e!=null){t.__e=t.__c.base=r.__e;break}return Th(t)}}function _a(t){(!t.__d&&(t.__d=!0)&&ri.push(t)&&!fo.__r++||Uc!==ge.debounceRendering)&&((Uc=ge.debounceRendering)||setTimeout)(fo)}function fo(){for(var t;fo.__r=ri.length;)t=ri.sort(function(e,r){return e.__v.__b-r.__v.__b}),ri=[],t.some(function(e){var r,n,i,o,s,a;e.__d&&(s=(o=(r=e).__v).__e,(a=r.__P)&&(n=[],(i=Kt({},o)).__v=o.__v+1,nu(a,o,i,r.__n,a.ownerSVGElement!==void 0,o.__h!=null?[s]:null,n,s==null?An(o):s,o.__h),Lh(n,o),o.__e!=s&&Th(o)))})}function Oh(t,e,r,n,i,o,s,a,f,p){var g,I,m,C,N,H,U,R=n&&n.__k||Ih,B=R.length;for(r.__k=[],g=0;g<e.length;g++)if((C=r.__k[g]=(C=e[g])==null||typeof C=="boolean"?null:typeof C=="string"||typeof C=="number"||typeof C=="bigint"?ni(null,C,null,null,C):Array.isArray(C)?ni(Wn,{children:C},null,null,null):C.__b>0?ni(C.type,C.props,C.key,C.ref?C.ref:null,C.__v):C)!=null){if(C.__=r,C.__b=r.__b+1,(m=R[g])===null||m&&C.key==m.key&&C.type===m.type)R[g]=void 0;else for(I=0;I<B;I++){if((m=R[I])&&C.key==m.key&&C.type===m.type){R[I]=void 0;break}m=null}nu(t,C,m=m||lo,i,o,s,a,f,p),N=C.__e,(I=C.ref)&&m.ref!=I&&(U||(U=[]),m.ref&&U.push(m.ref,null,C),U.push(I,C.__c||N,C)),N!=null?(H==null&&(H=N),typeof C.type=="function"&&C.__k===m.__k?C.__d=f=Nh(C,f,t):f=Ph(t,C,m,R,N,f),typeof r.type=="function"&&(r.__d=f)):f&&m.__e==f&&f.parentNode!=t&&(f=An(m))}for(r.__e=H,g=B;g--;)R[g]!=null&&(typeof r.type=="function"&&R[g].__e!=null&&R[g].__e==r.__d&&(r.__d=An(n,g+1)),Fh(R[g],R[g]));if(U)for(g=0;g<U.length;g++)Dh(U[g],U[++g],U[++g])}function Nh(t,e,r){for(var n,i=t.__k,o=0;i&&o<i.length;o++)(n=i[o])&&(n.__=t,e=typeof n.type=="function"?Nh(n,e,r):Ph(r,n,n,i,n.__e,e));return e}function Bh(t,e){return e=e||[],t==null||typeof t=="boolean"||(Array.isArray(t)?t.some(function(r){Bh(r,e)}):e.push(t)),e}function Ph(t,e,r,n,i,o){var s,a,f;if(e.__d!==void 0)s=e.__d,e.__d=void 0;else if(r==null||i!=o||i.parentNode==null)e:if(o==null||o.parentNode!==t)t.appendChild(i),s=null;else{for(a=o,f=0;(a=a.nextSibling)&&f<n.length;f+=2)if(a==i)break e;t.insertBefore(i,o),s=o}return s!==void 0?s:i.nextSibling}function OS(t,e,r,n,i){var o;for(o in r)o==="children"||o==="key"||o in e||ho(t,o,null,r[o],n);for(o in e)i&&typeof e[o]!="function"||o==="children"||o==="key"||o==="value"||o==="checked"||r[o]===e[o]||ho(t,o,e[o],r[o],n)}function Wc(t,e,r){e[0]==="-"?t.setProperty(e,r):t[e]=r==null?"":typeof r!="number"||RS.test(e)?r:r+"px"}function ho(t,e,r,n,i){var o;e:if(e==="style")if(typeof r=="string")t.style.cssText=r;else{if(typeof n=="string"&&(t.style.cssText=n=""),n)for(e in n)r&&e in r||Wc(t.style,e,"");if(r)for(e in r)n&&r[e]===n[e]||Wc(t.style,e,r[e])}else if(e[0]==="o"&&e[1]==="n")o=e!==(e=e.replace(/Capture$/,"")),e=e.toLowerCase()in t?e.toLowerCase().slice(2):e.slice(2),t.l||(t.l={}),t.l[e+o]=r,r?n||t.addEventListener(e,o?Vc:Hc,o):t.removeEventListener(e,o?Vc:Hc,o);else if(e!=="dangerouslySetInnerHTML"){if(i)e=e.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if(e!=="href"&&e!=="list"&&e!=="form"&&e!=="tabIndex"&&e!=="download"&&e in t)try{t[e]=r==null?"":r;break e}catch{}typeof r=="function"||(r!=null&&(r!==!1||e[0]==="a"&&e[1]==="r")?t.setAttribute(e,r):t.removeAttribute(e))}}function Hc(t){this.l[t.type+!1](ge.event?ge.event(t):t)}function Vc(t){this.l[t.type+!0](ge.event?ge.event(t):t)}function nu(t,e,r,n,i,o,s,a,f){var p,g,I,m,C,N,H,U,R,B,D,G,Q,J=e.type;if(e.constructor!==void 0)return null;r.__h!=null&&(f=r.__h,a=e.__e=r.__e,e.__h=null,o=[a]),(p=ge.__b)&&p(e);try{e:if(typeof J=="function"){if(U=e.props,R=(p=J.contextType)&&n[p.__c],B=p?R?R.props.value:p.__:n,r.__c?H=(g=e.__c=r.__c).__=g.__E:("prototype"in J&&J.prototype.render?e.__c=g=new J(U,B):(e.__c=g=new ii(U,B),g.constructor=J,g.render=BS),R&&R.sub(g),g.props=U,g.state||(g.state={}),g.context=B,g.__n=n,I=g.__d=!0,g.__h=[]),g.__s==null&&(g.__s=g.state),J.getDerivedStateFromProps!=null&&(g.__s==g.state&&(g.__s=Kt({},g.__s)),Kt(g.__s,J.getDerivedStateFromProps(U,g.__s))),m=g.props,C=g.state,I)J.getDerivedStateFromProps==null&&g.componentWillMount!=null&&g.componentWillMount(),g.componentDidMount!=null&&g.__h.push(g.componentDidMount);else{if(J.getDerivedStateFromProps==null&&U!==m&&g.componentWillReceiveProps!=null&&g.componentWillReceiveProps(U,B),!g.__e&&g.shouldComponentUpdate!=null&&g.shouldComponentUpdate(U,g.__s,B)===!1||e.__v===r.__v){g.props=U,g.state=g.__s,e.__v!==r.__v&&(g.__d=!1),g.__v=e,e.__e=r.__e,e.__k=r.__k,e.__k.forEach(function(te){te&&(te.__=e)}),g.__h.length&&s.push(g);break e}g.componentWillUpdate!=null&&g.componentWillUpdate(U,g.__s,B),g.componentDidUpdate!=null&&g.__h.push(function(){g.componentDidUpdate(m,C,N)})}if(g.context=B,g.props=U,g.__v=e,g.__P=t,D=ge.__r,G=0,"prototype"in J&&J.prototype.render)g.state=g.__s,g.__d=!1,D&&D(e),p=g.render(g.props,g.state,g.context);else do g.__d=!1,D&&D(e),p=g.render(g.props,g.state,g.context),g.state=g.__s;while(g.__d&&++G<25);g.state=g.__s,g.getChildContext!=null&&(n=Kt(Kt({},n),g.getChildContext())),I||g.getSnapshotBeforeUpdate==null||(N=g.getSnapshotBeforeUpdate(m,C)),Q=p!=null&&p.type===Wn&&p.key==null?p.props.children:p,Oh(t,Array.isArray(Q)?Q:[Q],e,r,n,i,o,s,a,f),g.base=e.__e,e.__h=null,g.__h.length&&s.push(g),H&&(g.__E=g.__=null),g.__e=!1}else o==null&&e.__v===r.__v?(e.__k=r.__k,e.__e=r.__e):e.__e=NS(r.__e,e,r,n,i,o,s,f);(p=ge.diffed)&&p(e)}catch(te){e.__v=null,(f||o!=null)&&(e.__e=a,e.__h=!!f,o[o.indexOf(a)]=null),ge.__e(te,e,r)}}function Lh(t,e){ge.__c&&ge.__c(e,t),t.some(function(r){try{t=r.__h,r.__h=[],t.some(function(n){n.call(r)})}catch(n){ge.__e(n,r.__v)}})}function NS(t,e,r,n,i,o,s,a){var f,p,g,I=r.props,m=e.props,C=e.type,N=0;if(C==="svg"&&(i=!0),o!=null){for(;N<o.length;N++)if((f=o[N])&&"setAttribute"in f==!!C&&(C?f.localName===C:f.nodeType===3)){t=f,o[N]=null;break}}if(t==null){if(C===null)return document.createTextNode(m);t=i?document.createElementNS("http://www.w3.org/2000/svg",C):document.createElement(C,m.is&&m),o=null,a=!1}if(C===null)I===m||a&&t.data===m||(t.data=m);else{if(o=o&&Ti.call(t.childNodes),p=(I=r.props||lo).dangerouslySetInnerHTML,g=m.dangerouslySetInnerHTML,!a){if(o!=null)for(I={},N=0;N<t.attributes.length;N++)I[t.attributes[N].name]=t.attributes[N].value;(g||p)&&(g&&(p&&g.__html==p.__html||g.__html===t.innerHTML)||(t.innerHTML=g&&g.__html||""))}if(OS(t,m,I,i,a),g)e.__k=[];else if(N=e.props.children,Oh(t,Array.isArray(N)?N:[N],e,r,n,i&&C!=="foreignObject",o,s,o?o[0]:r.__k&&An(r,0),a),o!=null)for(N=o.length;N--;)o[N]!=null&&Rh(o[N]);a||("value"in m&&(N=m.value)!==void 0&&(N!==t.value||C==="progress"&&!N||C==="option"&&N!==I.value)&&ho(t,"value",N,I.value,!1),"checked"in m&&(N=m.checked)!==void 0&&N!==t.checked&&ho(t,"checked",N,I.checked,!1))}return t}function Dh(t,e,r){try{typeof t=="function"?t(e):t.current=e}catch(n){ge.__e(n,r)}}function Fh(t,e,r){var n,i;if(ge.unmount&&ge.unmount(t),(n=t.ref)&&(n.current&&n.current!==t.__e||Dh(n,null,e)),(n=t.__c)!=null){if(n.componentWillUnmount)try{n.componentWillUnmount()}catch(o){ge.__e(o,e)}n.base=n.__P=null,t.__c=void 0}if(n=t.__k)for(i=0;i<n.length;i++)n[i]&&Fh(n[i],e,typeof t.type!="function");r||t.__e==null||Rh(t.__e),t.__=t.__e=t.__d=void 0}function BS(t,e,r){return this.constructor(t,r)}function jh(t,e,r){var n,i,o;ge.__&&ge.__(t,e),i=(n=typeof r=="function")?null:r&&r.__k||e.__k,o=[],nu(e,t=(!n&&r||e).__k=ma(Wn,null,[t]),i||lo,lo,e.ownerSVGElement!==void 0,!n&&r?[r]:i?null:e.firstChild?Ti.call(e.childNodes):null,o,!n&&r?r:i?i.__e:e.firstChild,n),Lh(o,t)}function $h(t,e){jh(t,e,$h)}function PS(t,e,r){var n,i,o,s=Kt({},t.props);for(o in e)o=="key"?n=e[o]:o=="ref"?i=e[o]:s[o]=e[o];return arguments.length>2&&(s.children=arguments.length>3?Ti.call(arguments,2):r),ni(t.type,s,n||t.key,i||t.ref,null)}function LS(t,e){var r={__c:e="__cC"+kh++,__:t,Consumer:function(n,i){return n.children(i)},Provider:function(n){var i,o;return this.getChildContext||(i=[],(o={})[e]=this,this.getChildContext=function(){return o},this.shouldComponentUpdate=function(s){this.props.value!==s.value&&i.some(_a)},this.sub=function(s){i.push(s);var a=s.componentWillUnmount;s.componentWillUnmount=function(){i.splice(i.indexOf(s),1),a&&a.call(s)}}),n.children}};return r.Provider.__=r.Consumer.contextType=r}Ti=Ih.slice,ge={__e:function(t,e,r,n){for(var i,o,s;e=e.__;)if((i=e.__c)&&!i.__)try{if((o=i.constructor)&&o.getDerivedStateFromError!=null&&(i.setState(o.getDerivedStateFromError(t)),s=i.__d),i.componentDidCatch!=null&&(i.componentDidCatch(t,n||{}),s=i.__d),s)return i.__E=i}catch(a){t=a}throw t}},Ah=0,Ch=function(t){return t!=null&&t.constructor===void 0},ii.prototype.setState=function(t,e){var r;r=this.__s!=null&&this.__s!==this.state?this.__s:this.__s=Kt({},this.state),typeof t=="function"&&(t=t(Kt({},r),this.props)),t&&Kt(r,t),t!=null&&this.__v&&(e&&this.__h.push(e),_a(this))},ii.prototype.forceUpdate=function(t){this.__v&&(this.__e=!0,t&&this.__h.push(t),_a(this))},ii.prototype.render=Wn,ri=[],fo.__r=0,kh=0;const DS=Object.freeze(Object.defineProperty({__proto__:null,Component:ii,Fragment:Wn,cloneElement:PS,createContext:LS,createElement:ma,createRef:TS,h:ma,hydrate:$h,get isValidElement(){return Ch},get options(){return ge},render:jh,toChildArray:Bh},Symbol.toStringTag,{value:"Module"})),Oi=Rn(DS);var qo={};function Uh(t){var e,r,n="";if(typeof t=="string"||typeof t=="number")n+=t;else if(typeof t=="object")if(Array.isArray(t))for(e=0;e<t.length;e++)t[e]&&(r=Uh(t[e]))&&(n&&(n+=" "),n+=r);else for(e in t)t[e]&&(n&&(n+=" "),n+=e);return n}function zc(){for(var t,e,r=0,n="";r<arguments.length;)(t=arguments[r++])&&(e=Uh(t))&&(n&&(n+=" "),n+=e);return n}const FS=Object.freeze(Object.defineProperty({__proto__:null,clsx:zc,default:zc},Symbol.toStringTag,{value:"Module"})),Wh=Rn(FS);var er,Be,Gs,qc,Cn=0,Hh=[],Yi=[],Gc=ge.__b,Zc=ge.__r,Kc=ge.diffed,Yc=ge.__c,Qc=ge.unmount;function Gr(t,e){ge.__h&&ge.__h(Be,t,Cn||e),Cn=0;var r=Be.__H||(Be.__H={__:[],__h:[]});return t>=r.__.length&&r.__.push({__V:Yi}),r.__[t]}function Vh(t){return Cn=1,zh(Gh,t)}function zh(t,e,r){var n=Gr(er++,2);if(n.t=t,!n.__c&&(n.__=[r?r(e):Gh(void 0,e),function(o){var s=n.__N?n.__N[0]:n.__[0],a=n.t(s,o);s!==a&&(n.__N=[a,n.__[1]],n.__c.setState({}))}],n.__c=Be,!Be.u)){Be.u=!0;var i=Be.shouldComponentUpdate;Be.shouldComponentUpdate=function(o,s,a){if(!n.__c.__H)return!0;var f=n.__c.__H.__.filter(function(g){return g.__c});if(f.every(function(g){return!g.__N}))return!i||i.call(this,o,s,a);var p=!1;return f.forEach(function(g){if(g.__N){var I=g.__[0];g.__=g.__N,g.__N=void 0,I!==g.__[0]&&(p=!0)}}),!!p&&(!i||i.call(this,o,s,a))}}return n.__N||n.__}function jS(t,e){var r=Gr(er++,3);!ge.__s&&ou(r.__H,e)&&(r.__=t,r.i=e,Be.__H.__h.push(r))}function qh(t,e){var r=Gr(er++,4);!ge.__s&&ou(r.__H,e)&&(r.__=t,r.i=e,Be.__h.push(r))}function $S(t){return Cn=5,iu(function(){return{current:t}},[])}function US(t,e,r){Cn=6,qh(function(){return typeof t=="function"?(t(e()),function(){return t(null)}):t?(t.current=e(),function(){return t.current=null}):void 0},r==null?r:r.concat(t))}function iu(t,e){var r=Gr(er++,7);return ou(r.__H,e)?(r.__V=t(),r.i=e,r.__h=t,r.__V):r.__}function WS(t,e){return Cn=8,iu(function(){return t},e)}function HS(t){var e=Be.context[t.__c],r=Gr(er++,9);return r.c=t,e?(r.__==null&&(r.__=!0,e.sub(Be)),e.props.value):t.__}function VS(t,e){ge.useDebugValue&&ge.useDebugValue(e?e(t):t)}function zS(t){var e=Gr(er++,10),r=Vh();return e.__=t,Be.componentDidCatch||(Be.componentDidCatch=function(n,i){e.__&&e.__(n,i),r[1](n)}),[r[0],function(){r[1](void 0)}]}function qS(){var t=Gr(er++,11);return t.__||(t.__="P"+function(e){for(var r=0,n=e.length;n>0;)r=(r<<5)-r+e.charCodeAt(--n)|0;return r}(Be.__v.o)+er),t.__}function GS(){for(var t;t=Hh.shift();)if(t.__P&&t.__H)try{t.__H.__h.forEach(Qi),t.__H.__h.forEach(wa),t.__H.__h=[]}catch(e){t.__H.__h=[],ge.__e(e,t.__v)}}ge.__b=function(t){typeof t.type!="function"||t.o||t.type===Wn?t.o||(t.o=t.__&&t.__.o?t.__.o:""):t.o=(t.__&&t.__.o?t.__.o:"")+(t.__&&t.__.__k?t.__.__k.indexOf(t):0),Be=null,Gc&&Gc(t)},ge.__r=function(t){Zc&&Zc(t),er=0;var e=(Be=t.__c).__H;e&&(Gs===Be?(e.__h=[],Be.__h=[],e.__.forEach(function(r){r.__N&&(r.__=r.__N),r.__V=Yi,r.__N=r.i=void 0})):(e.__h.forEach(Qi),e.__h.forEach(wa),e.__h=[])),Gs=Be},ge.diffed=function(t){Kc&&Kc(t);var e=t.__c;e&&e.__H&&(e.__H.__h.length&&(Hh.push(e)!==1&&qc===ge.requestAnimationFrame||((qc=ge.requestAnimationFrame)||ZS)(GS)),e.__H.__.forEach(function(r){r.i&&(r.__H=r.i),r.__V!==Yi&&(r.__=r.__V),r.i=void 0,r.__V=Yi})),Gs=Be=null},ge.__c=function(t,e){e.some(function(r){try{r.__h.forEach(Qi),r.__h=r.__h.filter(function(n){return!n.__||wa(n)})}catch(n){e.some(function(i){i.__h&&(i.__h=[])}),e=[],ge.__e(n,r.__v)}}),Yc&&Yc(t,e)},ge.unmount=function(t){Qc&&Qc(t);var e,r=t.__c;r&&r.__H&&(r.__H.__.forEach(function(n){try{Qi(n)}catch(i){e=i}}),r.__H=void 0,e&&ge.__e(e,r.__v))};var Jc=typeof requestAnimationFrame=="function";function ZS(t){var e,r=function(){clearTimeout(n),Jc&&cancelAnimationFrame(e),setTimeout(t)},n=setTimeout(r,100);Jc&&(e=requestAnimationFrame(r))}function Qi(t){var e=Be,r=t.__c;typeof r=="function"&&(t.__c=void 0,r()),Be=e}function wa(t){var e=Be;t.__c=t.__(),Be=e}function ou(t,e){return!t||t.length!==e.length||e.some(function(r,n){return r!==t[n]})}function Gh(t,e){return typeof e=="function"?e(t):e}const KS=Object.freeze(Object.defineProperty({__proto__:null,useCallback:WS,useContext:HS,useDebugValue:VS,useEffect:jS,useErrorBoundary:zS,useId:qS,useImperativeHandle:US,useLayoutEffect:qh,useMemo:iu,useReducer:zh,useRef:$S,useState:Vh},Symbol.toStringTag,{value:"Module"})),su=Rn(KS);var Go={};Object.defineProperty(Go,"__esModule",{value:!0});Go.LIB_VERSION=void 0;Go.LIB_VERSION="3.5.2";var au={};Object.defineProperty(au,"__esModule",{value:!0});au.default="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTYiIGhlaWdodD0iMTYiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZD0iTTggMEMzLjU4IDAgMCAzLjU4IDAgOHMzLjU4IDggOCA4IDgtMy41OCA4LTgtMy41OC04LTgtOFptNS45MSA3aC0xLjk0Yy0uMS0xLjU3LS40Mi0zLS45MS00LjE1IDEuNDguODggMi41NSAyLjM4IDIuODUgNC4xNVpNOCAxNGMtLjQ1IDAtMS43Mi0xLjc3LTEuOTUtNWgzLjljLS4yMyAzLjIzLTEuNSA1LTEuOTUgNVpNNi4wNSA3QzYuMjggMy43NyA3LjU1IDIgOCAyYy40NSAwIDEuNzIgMS43NyAxLjk1IDVoLTMuOVpNNC45NCAyLjg1QzQuNDYgNCA0LjEzIDUuNDMgNC4wMyA3SDIuMDljLjMtMS43NyAxLjM3LTMuMjcgMi44NS00LjE1Wk0yLjA5IDloMS45NGMuMSAxLjU3LjQyIDMgLjkxIDQuMTVBNS45OTggNS45OTggMCAwIDEgMi4wOSA5Wm04Ljk3IDQuMTVjLjQ4LTEuMTUuODEtMi41OC45MS00LjE1aDEuOTRhNS45OTggNS45OTggMCAwIDEtMi44NSA0LjE1WiIgZmlsbD0iIzE2NTJGMCIvPjwvc3ZnPg==";var uu={};Object.defineProperty(uu,"__esModule",{value:!0});uu.default="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTciIGhlaWdodD0iMTciIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZD0iTTE1LjYzNSAyLjExN2EzLjg4OSAzLjg4OSAwIDAgMC01LjUyMSAwTDYuODkgNS4zMzVBMy44OTQgMy44OTQgMCAwIDAgNS44IDguNzM5Yy4wODMuNTA2LjI2OCAxLjAxMS41NTMgMS40NjYuMTUxLjI1My4zMzYuNDcyLjUzNy42OTFsLjYyMS42MjQgMS4xNDEtMS4xNDYtLjYyLS42MjRhMi4xMDUgMi4xMDUgMCAwIDEtLjQ4Ny0uNzQxIDIuMzQgMi4zNCAwIDAgMSAuNTAzLTIuNTFsMy4yMDYtMy4yMmEyLjI5MyAyLjI5MyAwIDAgMSAzLjIzOSAwYy44OS44OTQuODkgMi4zNDMgMCAzLjI1M2wtMS41MjcgMS41MzNjLjIzNC42NC4zMzUgMS4zMzEuMzAyIDIuMDA1bDIuMzgzLTIuMzkyYzEuNTEtMS41MzQgMS40OTMtNC4wMjgtLjAxNy01LjU2MVoiIGZpbGw9IiMxNjUyRjAiLz48cGF0aCBkPSJNMTEuMjcxIDcuNzQ1YTMuMTMgMy4xMyAwIDAgMC0uNTU0LS42OWwtLjYyLS42MjQtMS4xNDIgMS4xNDYuNjIxLjYyM2MuMjE4LjIyLjM4Ni40ODkuNDg3Ljc1OC4zMzUuODI2LjE2NyAxLjgyLS41MDQgMi40OTRsLTMuMjA1IDMuMjE5YTIuMjkzIDIuMjkzIDAgMCAxLTMuMjQgMCAyLjMxNiAyLjMxNiAwIDAgMSAwLTMuMjUybDEuNTI4LTEuNTM0YTQuODE1IDQuODE1IDAgMCAxLS4yODUtMi4wMDVsLTIuMzgzIDIuMzkzYTMuOTI3IDMuOTI3IDAgMCAwIDAgNS41NDQgMy45MDkgMy45MDkgMCAwIDAgNS41MzggMGwzLjIwNS0zLjIxOWEzLjk1OCAzLjk1OCAwIDAgMCAxLjA5MS0zLjQwNCA0LjIxMSA0LjIxMSAwIDAgMC0uNTM3LTEuNDQ5WiIgZmlsbD0iIzE2NTJGMCIvPjwvc3ZnPg==";var cu={};Object.defineProperty(cu,"__esModule",{value:!0});cu.default="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTYiIGhlaWdodD0iMTYiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZD0iTTEgN3Y5aDE0VjdIMVptNy41IDQuMzlWMTRoLTF2LTIuNjFjLS40NC0uMTktLjc1LS42My0uNzUtMS4xNGExLjI1IDEuMjUgMCAwIDEgMi41IDBjMCAuNTEtLjMxLjk1LS43NSAxLjE0Wk01LjY3IDZWNC4zM0M1LjY3IDMuMDUgNi43MSAyIDggMnMyLjMzIDEuMDUgMi4zMyAyLjMzVjZoMlY0LjMzQzEyLjMzIDEuOTQgMTAuMzkgMCA4IDBTMy42NyAxLjk0IDMuNjcgNC4zM1Y2aDJaIiBmaWxsPSIjMTY1MkYwIi8+PC9zdmc+";var lu={};Object.defineProperty(lu,"__esModule",{value:!0});lu.default=`<svg width="100" height="100" viewBox="0 0 100 100" fill="none" xmlns="http://www.w3.org/2000/svg">
<circle cx="50" cy="50" r="50" fill="white"/>
<circle cx="49.9996" cy="49.9996" r="43.6363" fill="#1B53E4"/>
<circle cx="49.9996" cy="49.9996" r="43.6363" stroke="white"/>
<path fill-rule="evenodd" clip-rule="evenodd" d="M19.3379 49.9484C19.3379 66.8508 33.04 80.553 49.9425 80.553C66.8449 80.553 80.5471 66.8508 80.5471 49.9484C80.5471 33.0459 66.8449 19.3438 49.9425 19.3438C33.04 19.3438 19.3379 33.0459 19.3379 49.9484ZM44.0817 40.0799C41.8725 40.0799 40.0817 41.8708 40.0817 44.0799V55.8029C40.0817 58.012 41.8725 59.8029 44.0817 59.8029H55.8046C58.0138 59.8029 59.8046 58.012 59.8046 55.8029V44.0799C59.8046 41.8708 58.0138 40.0799 55.8046 40.0799H44.0817Z" fill="white"/>
</svg>

`;var Zo={};function Zh(t){this.mode=Mt.MODE_8BIT_BYTE,this.data=t,this.parsedData=[];for(var e=0,r=this.data.length;e<r;e++){var n=[],i=this.data.charCodeAt(e);i>65536?(n[0]=240|(i&1835008)>>>18,n[1]=128|(i&258048)>>>12,n[2]=128|(i&4032)>>>6,n[3]=128|i&63):i>2048?(n[0]=224|(i&61440)>>>12,n[1]=128|(i&4032)>>>6,n[2]=128|i&63):i>128?(n[0]=192|(i&1984)>>>6,n[1]=128|i&63):n[0]=i,this.parsedData.push(n)}this.parsedData=Array.prototype.concat.apply([],this.parsedData),this.parsedData.length!=this.data.length&&(this.parsedData.unshift(191),this.parsedData.unshift(187),this.parsedData.unshift(239))}Zh.prototype={getLength:function(t){return this.parsedData.length},write:function(t){for(var e=0,r=this.parsedData.length;e<r;e++)t.put(this.parsedData[e],8)}};function qt(t,e){this.typeNumber=t,this.errorCorrectLevel=e,this.modules=null,this.moduleCount=0,this.dataCache=null,this.dataList=[]}qt.prototype={addData:function(t){var e=new Zh(t);this.dataList.push(e),this.dataCache=null},isDark:function(t,e){if(t<0||this.moduleCount<=t||e<0||this.moduleCount<=e)throw new Error(t+","+e);return this.modules[t][e]},getModuleCount:function(){return this.moduleCount},make:function(){this.makeImpl(!1,this.getBestMaskPattern())},makeImpl:function(t,e){this.moduleCount=this.typeNumber*4+17,this.modules=new Array(this.moduleCount);for(var r=0;r<this.moduleCount;r++){this.modules[r]=new Array(this.moduleCount);for(var n=0;n<this.moduleCount;n++)this.modules[r][n]=null}this.setupPositionProbePattern(0,0),this.setupPositionProbePattern(this.moduleCount-7,0),this.setupPositionProbePattern(0,this.moduleCount-7),this.setupPositionAdjustPattern(),this.setupTimingPattern(),this.setupTypeInfo(t,e),this.typeNumber>=7&&this.setupTypeNumber(t),this.dataCache==null&&(this.dataCache=qt.createData(this.typeNumber,this.errorCorrectLevel,this.dataList)),this.mapData(this.dataCache,e)},setupPositionProbePattern:function(t,e){for(var r=-1;r<=7;r++)if(!(t+r<=-1||this.moduleCount<=t+r))for(var n=-1;n<=7;n++)e+n<=-1||this.moduleCount<=e+n||(0<=r&&r<=6&&(n==0||n==6)||0<=n&&n<=6&&(r==0||r==6)||2<=r&&r<=4&&2<=n&&n<=4?this.modules[t+r][e+n]=!0:this.modules[t+r][e+n]=!1)},getBestMaskPattern:function(){for(var t=0,e=0,r=0;r<8;r++){this.makeImpl(!0,r);var n=et.getLostPoint(this);(r==0||t>n)&&(t=n,e=r)}return e},createMovieClip:function(t,e,r){var n=t.createEmptyMovieClip(e,r),i=1;this.make();for(var o=0;o<this.modules.length;o++)for(var s=o*i,a=0;a<this.modules[o].length;a++){var f=a*i,p=this.modules[o][a];p&&(n.beginFill(0,100),n.moveTo(f,s),n.lineTo(f+i,s),n.lineTo(f+i,s+i),n.lineTo(f,s+i),n.endFill())}return n},setupTimingPattern:function(){for(var t=8;t<this.moduleCount-8;t++)this.modules[t][6]==null&&(this.modules[t][6]=t%2==0);for(var e=8;e<this.moduleCount-8;e++)this.modules[6][e]==null&&(this.modules[6][e]=e%2==0)},setupPositionAdjustPattern:function(){for(var t=et.getPatternPosition(this.typeNumber),e=0;e<t.length;e++)for(var r=0;r<t.length;r++){var n=t[e],i=t[r];if(this.modules[n][i]==null)for(var o=-2;o<=2;o++)for(var s=-2;s<=2;s++)o==-2||o==2||s==-2||s==2||o==0&&s==0?this.modules[n+o][i+s]=!0:this.modules[n+o][i+s]=!1}},setupTypeNumber:function(t){for(var e=et.getBCHTypeNumber(this.typeNumber),r=0;r<18;r++){var n=!t&&(e>>r&1)==1;this.modules[Math.floor(r/3)][r%3+this.moduleCount-8-3]=n}for(var r=0;r<18;r++){var n=!t&&(e>>r&1)==1;this.modules[r%3+this.moduleCount-8-3][Math.floor(r/3)]=n}},setupTypeInfo:function(t,e){for(var r=this.errorCorrectLevel<<3|e,n=et.getBCHTypeInfo(r),i=0;i<15;i++){var o=!t&&(n>>i&1)==1;i<6?this.modules[i][8]=o:i<8?this.modules[i+1][8]=o:this.modules[this.moduleCount-15+i][8]=o}for(var i=0;i<15;i++){var o=!t&&(n>>i&1)==1;i<8?this.modules[8][this.moduleCount-i-1]=o:i<9?this.modules[8][15-i-1+1]=o:this.modules[8][15-i-1]=o}this.modules[this.moduleCount-8][8]=!t},mapData:function(t,e){for(var r=-1,n=this.moduleCount-1,i=7,o=0,s=this.moduleCount-1;s>0;s-=2)for(s==6&&s--;;){for(var a=0;a<2;a++)if(this.modules[n][s-a]==null){var f=!1;o<t.length&&(f=(t[o]>>>i&1)==1);var p=et.getMask(e,n,s-a);p&&(f=!f),this.modules[n][s-a]=f,i--,i==-1&&(o++,i=7)}if(n+=r,n<0||this.moduleCount<=n){n-=r,r=-r;break}}}};qt.PAD0=236;qt.PAD1=17;qt.createData=function(t,e,r){for(var n=zt.getRSBlocks(t,e),i=new Kh,o=0;o<r.length;o++){var s=r[o];i.put(s.mode,4),i.put(s.getLength(),et.getLengthInBits(s.mode,t)),s.write(i)}for(var a=0,o=0;o<n.length;o++)a+=n[o].dataCount;if(i.getLengthInBits()>a*8)throw new Error("code length overflow. ("+i.getLengthInBits()+">"+a*8+")");for(i.getLengthInBits()+4<=a*8&&i.put(0,4);i.getLengthInBits()%8!=0;)i.putBit(!1);for(;!(i.getLengthInBits()>=a*8||(i.put(qt.PAD0,8),i.getLengthInBits()>=a*8));)i.put(qt.PAD1,8);return qt.createBytes(i,n)};qt.createBytes=function(t,e){for(var r=0,n=0,i=0,o=new Array(e.length),s=new Array(e.length),a=0;a<e.length;a++){var f=e[a].dataCount,p=e[a].totalCount-f;n=Math.max(n,f),i=Math.max(i,p),o[a]=new Array(f);for(var g=0;g<o[a].length;g++)o[a][g]=255&t.buffer[g+r];r+=f;var I=et.getErrorCorrectPolynomial(p),m=new gn(o[a],I.getLength()-1),C=m.mod(I);s[a]=new Array(I.getLength()-1);for(var g=0;g<s[a].length;g++){var N=g+C.getLength()-s[a].length;s[a][g]=N>=0?C.get(N):0}}for(var H=0,g=0;g<e.length;g++)H+=e[g].totalCount;for(var U=new Array(H),R=0,g=0;g<n;g++)for(var a=0;a<e.length;a++)g<o[a].length&&(U[R++]=o[a][g]);for(var g=0;g<i;g++)for(var a=0;a<e.length;a++)g<s[a].length&&(U[R++]=s[a][g]);return U};var Mt={MODE_NUMBER:1<<0,MODE_ALPHA_NUM:1<<1,MODE_8BIT_BYTE:1<<2,MODE_KANJI:1<<3},cr={L:1,M:0,Q:3,H:2},rr={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7},et={PATTERN_POSITION_TABLE:[[],[6,18],[6,22],[6,26],[6,30],[6,34],[6,22,38],[6,24,42],[6,26,46],[6,28,50],[6,30,54],[6,32,58],[6,34,62],[6,26,46,66],[6,26,48,70],[6,26,50,74],[6,30,54,78],[6,30,56,82],[6,30,58,86],[6,34,62,90],[6,28,50,72,94],[6,26,50,74,98],[6,30,54,78,102],[6,28,54,80,106],[6,32,58,84,110],[6,30,58,86,114],[6,34,62,90,118],[6,26,50,74,98,122],[6,30,54,78,102,126],[6,26,52,78,104,130],[6,30,56,82,108,134],[6,34,60,86,112,138],[6,30,58,86,114,142],[6,34,62,90,118,146],[6,30,54,78,102,126,150],[6,24,50,76,102,128,154],[6,28,54,80,106,132,158],[6,32,58,84,110,136,162],[6,26,54,82,110,138,166],[6,30,58,86,114,142,170]],G15:1<<10|1<<8|1<<5|1<<4|1<<2|1<<1|1<<0,G18:1<<12|1<<11|1<<10|1<<9|1<<8|1<<5|1<<2|1<<0,G15_MASK:1<<14|1<<12|1<<10|1<<4|1<<1,getBCHTypeInfo:function(t){for(var e=t<<10;et.getBCHDigit(e)-et.getBCHDigit(et.G15)>=0;)e^=et.G15<<et.getBCHDigit(e)-et.getBCHDigit(et.G15);return(t<<10|e)^et.G15_MASK},getBCHTypeNumber:function(t){for(var e=t<<12;et.getBCHDigit(e)-et.getBCHDigit(et.G18)>=0;)e^=et.G18<<et.getBCHDigit(e)-et.getBCHDigit(et.G18);return t<<12|e},getBCHDigit:function(t){for(var e=0;t!=0;)e++,t>>>=1;return e},getPatternPosition:function(t){return et.PATTERN_POSITION_TABLE[t-1]},getMask:function(t,e,r){switch(t){case rr.PATTERN000:return(e+r)%2==0;case rr.PATTERN001:return e%2==0;case rr.PATTERN010:return r%3==0;case rr.PATTERN011:return(e+r)%3==0;case rr.PATTERN100:return(Math.floor(e/2)+Math.floor(r/3))%2==0;case rr.PATTERN101:return e*r%2+e*r%3==0;case rr.PATTERN110:return(e*r%2+e*r%3)%2==0;case rr.PATTERN111:return(e*r%3+(e+r)%2)%2==0;default:throw new Error("bad maskPattern:"+t)}},getErrorCorrectPolynomial:function(t){for(var e=new gn([1],0),r=0;r<t;r++)e=e.multiply(new gn([1,lt.gexp(r)],0));return e},getLengthInBits:function(t,e){if(1<=e&&e<10)switch(t){case Mt.MODE_NUMBER:return 10;case Mt.MODE_ALPHA_NUM:return 9;case Mt.MODE_8BIT_BYTE:return 8;case Mt.MODE_KANJI:return 8;default:throw new Error("mode:"+t)}else if(e<27)switch(t){case Mt.MODE_NUMBER:return 12;case Mt.MODE_ALPHA_NUM:return 11;case Mt.MODE_8BIT_BYTE:return 16;case Mt.MODE_KANJI:return 10;default:throw new Error("mode:"+t)}else if(e<41)switch(t){case Mt.MODE_NUMBER:return 14;case Mt.MODE_ALPHA_NUM:return 13;case Mt.MODE_8BIT_BYTE:return 16;case Mt.MODE_KANJI:return 12;default:throw new Error("mode:"+t)}else throw new Error("type:"+e)},getLostPoint:function(t){for(var e=t.getModuleCount(),r=0,n=0;n<e;n++)for(var i=0;i<e;i++){for(var o=0,s=t.isDark(n,i),a=-1;a<=1;a++)if(!(n+a<0||e<=n+a))for(var f=-1;f<=1;f++)i+f<0||e<=i+f||a==0&&f==0||s==t.isDark(n+a,i+f)&&o++;o>5&&(r+=3+o-5)}for(var n=0;n<e-1;n++)for(var i=0;i<e-1;i++){var p=0;t.isDark(n,i)&&p++,t.isDark(n+1,i)&&p++,t.isDark(n,i+1)&&p++,t.isDark(n+1,i+1)&&p++,(p==0||p==4)&&(r+=3)}for(var n=0;n<e;n++)for(var i=0;i<e-6;i++)t.isDark(n,i)&&!t.isDark(n,i+1)&&t.isDark(n,i+2)&&t.isDark(n,i+3)&&t.isDark(n,i+4)&&!t.isDark(n,i+5)&&t.isDark(n,i+6)&&(r+=40);for(var i=0;i<e;i++)for(var n=0;n<e-6;n++)t.isDark(n,i)&&!t.isDark(n+1,i)&&t.isDark(n+2,i)&&t.isDark(n+3,i)&&t.isDark(n+4,i)&&!t.isDark(n+5,i)&&t.isDark(n+6,i)&&(r+=40);for(var g=0,i=0;i<e;i++)for(var n=0;n<e;n++)t.isDark(n,i)&&g++;var I=Math.abs(100*g/e/e-50)/5;return r+=I*10,r}},lt={glog:function(t){if(t<1)throw new Error("glog("+t+")");return lt.LOG_TABLE[t]},gexp:function(t){for(;t<0;)t+=255;for(;t>=256;)t-=255;return lt.EXP_TABLE[t]},EXP_TABLE:new Array(256),LOG_TABLE:new Array(256)};for(var pt=0;pt<8;pt++)lt.EXP_TABLE[pt]=1<<pt;for(var pt=8;pt<256;pt++)lt.EXP_TABLE[pt]=lt.EXP_TABLE[pt-4]^lt.EXP_TABLE[pt-5]^lt.EXP_TABLE[pt-6]^lt.EXP_TABLE[pt-8];for(var pt=0;pt<255;pt++)lt.LOG_TABLE[lt.EXP_TABLE[pt]]=pt;function gn(t,e){if(t.length==null)throw new Error(t.length+"/"+e);for(var r=0;r<t.length&&t[r]==0;)r++;this.num=new Array(t.length-r+e);for(var n=0;n<t.length-r;n++)this.num[n]=t[n+r]}gn.prototype={get:function(t){return this.num[t]},getLength:function(){return this.num.length},multiply:function(t){for(var e=new Array(this.getLength()+t.getLength()-1),r=0;r<this.getLength();r++)for(var n=0;n<t.getLength();n++)e[r+n]^=lt.gexp(lt.glog(this.get(r))+lt.glog(t.get(n)));return new gn(e,0)},mod:function(t){if(this.getLength()-t.getLength()<0)return this;for(var e=lt.glog(this.get(0))-lt.glog(t.get(0)),r=new Array(this.getLength()),n=0;n<this.getLength();n++)r[n]=this.get(n);for(var n=0;n<t.getLength();n++)r[n]^=lt.gexp(lt.glog(t.get(n))+e);return new gn(r,0).mod(t)}};function zt(t,e){this.totalCount=t,this.dataCount=e}zt.RS_BLOCK_TABLE=[[1,26,19],[1,26,16],[1,26,13],[1,26,9],[1,44,34],[1,44,28],[1,44,22],[1,44,16],[1,70,55],[1,70,44],[2,35,17],[2,35,13],[1,100,80],[2,50,32],[2,50,24],[4,25,9],[1,134,108],[2,67,43],[2,33,15,2,34,16],[2,33,11,2,34,12],[2,86,68],[4,43,27],[4,43,19],[4,43,15],[2,98,78],[4,49,31],[2,32,14,4,33,15],[4,39,13,1,40,14],[2,121,97],[2,60,38,2,61,39],[4,40,18,2,41,19],[4,40,14,2,41,15],[2,146,116],[3,58,36,2,59,37],[4,36,16,4,37,17],[4,36,12,4,37,13],[2,86,68,2,87,69],[4,69,43,1,70,44],[6,43,19,2,44,20],[6,43,15,2,44,16],[4,101,81],[1,80,50,4,81,51],[4,50,22,4,51,23],[3,36,12,8,37,13],[2,116,92,2,117,93],[6,58,36,2,59,37],[4,46,20,6,47,21],[7,42,14,4,43,15],[4,133,107],[8,59,37,1,60,38],[8,44,20,4,45,21],[12,33,11,4,34,12],[3,145,115,1,146,116],[4,64,40,5,65,41],[11,36,16,5,37,17],[11,36,12,5,37,13],[5,109,87,1,110,88],[5,65,41,5,66,42],[5,54,24,7,55,25],[11,36,12],[5,122,98,1,123,99],[7,73,45,3,74,46],[15,43,19,2,44,20],[3,45,15,13,46,16],[1,135,107,5,136,108],[10,74,46,1,75,47],[1,50,22,15,51,23],[2,42,14,17,43,15],[5,150,120,1,151,121],[9,69,43,4,70,44],[17,50,22,1,51,23],[2,42,14,19,43,15],[3,141,113,4,142,114],[3,70,44,11,71,45],[17,47,21,4,48,22],[9,39,13,16,40,14],[3,135,107,5,136,108],[3,67,41,13,68,42],[15,54,24,5,55,25],[15,43,15,10,44,16],[4,144,116,4,145,117],[17,68,42],[17,50,22,6,51,23],[19,46,16,6,47,17],[2,139,111,7,140,112],[17,74,46],[7,54,24,16,55,25],[34,37,13],[4,151,121,5,152,122],[4,75,47,14,76,48],[11,54,24,14,55,25],[16,45,15,14,46,16],[6,147,117,4,148,118],[6,73,45,14,74,46],[11,54,24,16,55,25],[30,46,16,2,47,17],[8,132,106,4,133,107],[8,75,47,13,76,48],[7,54,24,22,55,25],[22,45,15,13,46,16],[10,142,114,2,143,115],[19,74,46,4,75,47],[28,50,22,6,51,23],[33,46,16,4,47,17],[8,152,122,4,153,123],[22,73,45,3,74,46],[8,53,23,26,54,24],[12,45,15,28,46,16],[3,147,117,10,148,118],[3,73,45,23,74,46],[4,54,24,31,55,25],[11,45,15,31,46,16],[7,146,116,7,147,117],[21,73,45,7,74,46],[1,53,23,37,54,24],[19,45,15,26,46,16],[5,145,115,10,146,116],[19,75,47,10,76,48],[15,54,24,25,55,25],[23,45,15,25,46,16],[13,145,115,3,146,116],[2,74,46,29,75,47],[42,54,24,1,55,25],[23,45,15,28,46,16],[17,145,115],[10,74,46,23,75,47],[10,54,24,35,55,25],[19,45,15,35,46,16],[17,145,115,1,146,116],[14,74,46,21,75,47],[29,54,24,19,55,25],[11,45,15,46,46,16],[13,145,115,6,146,116],[14,74,46,23,75,47],[44,54,24,7,55,25],[59,46,16,1,47,17],[12,151,121,7,152,122],[12,75,47,26,76,48],[39,54,24,14,55,25],[22,45,15,41,46,16],[6,151,121,14,152,122],[6,75,47,34,76,48],[46,54,24,10,55,25],[2,45,15,64,46,16],[17,152,122,4,153,123],[29,74,46,14,75,47],[49,54,24,10,55,25],[24,45,15,46,46,16],[4,152,122,18,153,123],[13,74,46,32,75,47],[48,54,24,14,55,25],[42,45,15,32,46,16],[20,147,117,4,148,118],[40,75,47,7,76,48],[43,54,24,22,55,25],[10,45,15,67,46,16],[19,148,118,6,149,119],[18,75,47,31,76,48],[34,54,24,34,55,25],[20,45,15,61,46,16]];zt.getRSBlocks=function(t,e){var r=zt.getRsBlockTable(t,e);if(r==null)throw new Error("bad rs block @ typeNumber:"+t+"/errorCorrectLevel:"+e);for(var n=r.length/3,i=[],o=0;o<n;o++)for(var s=r[o*3+0],a=r[o*3+1],f=r[o*3+2],p=0;p<s;p++)i.push(new zt(a,f));return i};zt.getRsBlockTable=function(t,e){switch(e){case cr.L:return zt.RS_BLOCK_TABLE[(t-1)*4+0];case cr.M:return zt.RS_BLOCK_TABLE[(t-1)*4+1];case cr.Q:return zt.RS_BLOCK_TABLE[(t-1)*4+2];case cr.H:return zt.RS_BLOCK_TABLE[(t-1)*4+3];default:return}};function Kh(){this.buffer=[],this.length=0}Kh.prototype={get:function(t){var e=Math.floor(t/8);return(this.buffer[e]>>>7-t%8&1)==1},put:function(t,e){for(var r=0;r<e;r++)this.putBit((t>>>e-r-1&1)==1)},getLengthInBits:function(){return this.length},putBit:function(t){var e=Math.floor(this.length/8);this.buffer.length<=e&&this.buffer.push(0),t&&(this.buffer[e]|=128>>>this.length%8),this.length++}};var Zs=[[17,14,11,7],[32,26,20,14],[53,42,32,24],[78,62,46,34],[106,84,60,44],[134,106,74,58],[154,122,86,64],[192,152,108,84],[230,180,130,98],[271,213,151,119],[321,251,177,137],[367,287,203,155],[425,331,241,177],[458,362,258,194],[520,412,292,220],[586,450,322,250],[644,504,364,280],[718,560,394,310],[792,624,442,338],[858,666,482,382],[929,711,509,403],[1003,779,565,439],[1091,857,611,461],[1171,911,661,511],[1273,997,715,535],[1367,1059,751,593],[1465,1125,805,625],[1528,1190,868,658],[1628,1264,908,698],[1732,1370,982,742],[1840,1452,1030,790],[1952,1538,1112,842],[2068,1628,1168,898],[2188,1722,1228,958],[2303,1809,1283,983],[2431,1911,1351,1051],[2563,1989,1423,1093],[2699,2099,1499,1139],[2809,2213,1579,1219],[2953,2331,1663,1273]];function Yh(t){if(this.options={padding:4,width:256,height:256,typeNumber:4,color:"#000000",background:"#ffffff",ecl:"M",image:{svg:"",width:0,height:0}},typeof t=="string"&&(t={content:t}),t)for(var e in t)this.options[e]=t[e];if(typeof this.options.content!="string")throw new Error("Expected 'content' as string!");if(this.options.content.length===0)throw new Error("Expected 'content' to be non-empty!");if(!(this.options.padding>=0))throw new Error("Expected 'padding' value to be non-negative!");if(!(this.options.width>0)||!(this.options.height>0))throw new Error("Expected 'width' or 'height' value to be higher than zero!");function r(f){switch(f){case"L":return cr.L;case"M":return cr.M;case"Q":return cr.Q;case"H":return cr.H;default:throw new Error("Unknwon error correction level: "+f)}}function n(f,p){for(var g=i(f),I=1,m=0,C=0,N=Zs.length;C<=N;C++){var H=Zs[C];if(!H)throw new Error("Content too long: expected "+m+" but got "+g);switch(p){case"L":m=H[0];break;case"M":m=H[1];break;case"Q":m=H[2];break;case"H":m=H[3];break;default:throw new Error("Unknwon error correction level: "+p)}if(g<=m)break;I++}if(I>Zs.length)throw new Error("Content too long");return I}function i(f){var p=encodeURI(f).toString().replace(/\%[0-9a-fA-F]{2}/g,"a");return p.length+(p.length!=f?3:0)}var o=this.options.content,s=n(o,this.options.ecl),a=r(this.options.ecl);this.qrcode=new qt(s,a),this.qrcode.addData(o),this.qrcode.make()}Yh.prototype.svg=function(t){var e=this.options||{},r=this.qrcode.modules;typeof t>"u"&&(t={container:e.container||"svg"});for(var n=typeof e.pretty<"u"?!!e.pretty:!0,i=n?"  ":"",o=n?`\r
`:"",s=e.width,a=e.height,f=r.length,p=s/(f+2*e.padding),g=a/(f+2*e.padding),I=typeof e.join<"u"?!!e.join:!1,m=typeof e.swap<"u"?!!e.swap:!1,C=typeof e.xmlDeclaration<"u"?!!e.xmlDeclaration:!0,N=typeof e.predefined<"u"?!!e.predefined:!1,H=N?i+'<defs><path id="qrmodule" d="M0 0 h'+g+" v"+p+' H0 z" style="fill:'+e.color+';shape-rendering:crispEdges;" /></defs>'+o:"",U=i+'<rect x="0" y="0" width="'+s+'" height="'+a+'" style="fill:'+e.background+';shape-rendering:crispEdges;"/>'+o,R="",B="",D=0;D<f;D++)for(var G=0;G<f;G++){var Q=r[G][D];if(Q){var J=G*p+e.padding*p,te=D*g+e.padding*g;if(m){var re=J;J=te,te=re}if(I){var ee=p+J,ye=g+te;J=Number.isInteger(J)?Number(J):J.toFixed(2),te=Number.isInteger(te)?Number(te):te.toFixed(2),ee=Number.isInteger(ee)?Number(ee):ee.toFixed(2),ye=Number.isInteger(ye)?Number(ye):ye.toFixed(2),B+="M"+J+","+te+" V"+ye+" H"+ee+" V"+te+" H"+J+" Z "}else N?R+=i+'<use x="'+J.toString()+'" y="'+te.toString()+'" href="#qrmodule" />'+o:R+=i+'<rect x="'+J.toString()+'" y="'+te.toString()+'" width="'+p+'" height="'+g+'" style="fill:'+e.color+';shape-rendering:crispEdges;"/>'+o}}I&&(R=i+'<path x="0" y="0" style="fill:'+e.color+';shape-rendering:crispEdges;" d="'+B+'" />');let oe="";if(this.options.image!==void 0&&this.options.image.svg){const M=s*this.options.image.width/100,u=a*this.options.image.height/100,d=s/2-M/2,v=a/2-u/2;oe+=`<svg x="${d}" y="${v}" width="${M}" height="${u}" viewBox="0 0 100 100" preserveAspectRatio="xMinYMin meet">`,oe+=this.options.image.svg+o,oe+="</svg>"}var ae="";switch(t.container){case"svg":C&&(ae+='<?xml version="1.0" standalone="yes"?>'+o),ae+='<svg xmlns="http://www.w3.org/2000/svg" version="1.1" width="'+s+'" height="'+a+'">'+o,ae+=H+U+R,ae+=oe,ae+="</svg>";break;case"svg-viewbox":C&&(ae+='<?xml version="1.0" standalone="yes"?>'+o),ae+='<svg xmlns="http://www.w3.org/2000/svg" version="1.1" viewBox="0 0 '+s+" "+a+'">'+o,ae+=H+U+R,ae+=oe,ae+="</svg>";break;case"g":ae+='<g width="'+s+'" height="'+a+'">'+o,ae+=H+U+R,ae+=oe,ae+="</g>";break;default:ae+=(H+U+R+oe).replace(/^\s+/,"");break}return ae};var YS=Yh,QS=_e&&_e.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Zo,"__esModule",{value:!0});Zo.QRCode=void 0;const JS=Oi,Xc=su,XS=QS(YS),eE=t=>{const[e,r]=(0,Xc.useState)("");return(0,Xc.useEffect)(()=>{var n,i;const o=new XS.default({content:t.content,background:t.bgColor||"#ffffff",color:t.fgColor||"#000000",container:"svg",ecl:"M",width:(n=t.width)!==null&&n!==void 0?n:256,height:(i=t.height)!==null&&i!==void 0?i:256,padding:0,image:t.image}),s=Se.from(o.svg(),"utf8").toString("base64");r(`data:image/svg+xml;base64,${s}`)}),e?(0,JS.h)("img",{src:e,alt:"QR Code"}):null};Zo.QRCode=eE;var Ko={},fu={};Object.defineProperty(fu,"__esModule",{value:!0});fu.default=".-cbwsdk-css-reset .-cbwsdk-spinner{display:inline-block}.-cbwsdk-css-reset .-cbwsdk-spinner svg{display:inline-block;animation:2s linear infinite -cbwsdk-spinner-svg}.-cbwsdk-css-reset .-cbwsdk-spinner svg circle{animation:1.9s ease-in-out infinite both -cbwsdk-spinner-circle;display:block;fill:rgba(0,0,0,0);stroke-dasharray:283;stroke-dashoffset:280;stroke-linecap:round;stroke-width:10px;transform-origin:50% 50%}@keyframes -cbwsdk-spinner-svg{0%{transform:rotateZ(0deg)}100%{transform:rotateZ(360deg)}}@keyframes -cbwsdk-spinner-circle{0%,25%{stroke-dashoffset:280;transform:rotate(0)}50%,75%{stroke-dashoffset:75;transform:rotate(45deg)}100%{stroke-dashoffset:280;transform:rotate(360deg)}}";var tE=_e&&_e.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Ko,"__esModule",{value:!0});Ko.Spinner=void 0;const Wi=Oi,rE=tE(fu),nE=t=>{var e;const r=(e=t.size)!==null&&e!==void 0?e:64,n=t.color||"#000";return(0,Wi.h)("div",{class:"-cbwsdk-spinner"},(0,Wi.h)("style",null,rE.default),(0,Wi.h)("svg",{viewBox:"0 0 100 100",xmlns:"http://www.w3.org/2000/svg",style:{width:r,height:r}},(0,Wi.h)("circle",{style:{cx:50,cy:50,r:45,stroke:n}})))};Ko.Spinner=nE;var hu={};Object.defineProperty(hu,"__esModule",{value:!0});hu.default='.-cbwsdk-css-reset .-cbwsdk-extension-dialog{z-index:2147483647;position:fixed;top:0;left:0;right:0;bottom:0;display:flex;align-items:center;justify-content:center}.-cbwsdk-css-reset .-cbwsdk-extension-dialog-backdrop{z-index:2147483647;position:fixed;top:0;left:0;right:0;bottom:0;transition:opacity .25s}.-cbwsdk-css-reset .-cbwsdk-extension-dialog-backdrop.light{background-color:rgba(0,0,0,.5)}.-cbwsdk-css-reset .-cbwsdk-extension-dialog-backdrop.dark{background-color:rgba(50,53,61,.4)}.-cbwsdk-css-reset .-cbwsdk-extension-dialog-backdrop-hidden{opacity:0}.-cbwsdk-css-reset .-cbwsdk-extension-dialog-box{display:flex;position:relative;max-width:500px;flex-direction:column;transform:scale(1);transition:opacity .25s,transform .25s}.-cbwsdk-css-reset .-cbwsdk-extension-dialog-box-hidden{opacity:0;transform:scale(0.85)}.-cbwsdk-css-reset .-cbwsdk-extension-dialog-box-top{display:flex;flex-direction:row;border-radius:8px;overflow:hidden;min-height:300px}.-cbwsdk-css-reset .-cbwsdk-extension-dialog-box-top.dark{color:#fff;background-color:#000;box-shadow:0 4px 16px rgba(255,255,255,.05)}.-cbwsdk-css-reset .-cbwsdk-extension-dialog-box-top.light{background-color:#fff}.-cbwsdk-css-reset .-cbwsdk-extension-dialog-box-top-subtext{margin-top:15px;font-size:12px;line-height:1.5}.-cbwsdk-css-reset .-cbwsdk-extension-dialog-box-top-install-region{display:flex;flex-basis:50%;flex-direction:column;justify-content:center;padding:32px}.-cbwsdk-css-reset .-cbwsdk-extension-dialog-box-top-install-region button{display:block;border-radius:8px;background-color:#1652f0;color:#fff;width:90%;min-width:fit-content;height:44px;margin-top:16px;font-size:16px;padding-left:16px;padding-right:16px;cursor:pointer;font-weight:500;text-align:center}.-cbwsdk-css-reset .-cbwsdk-extension-dialog-box-top-install-region button.dark{background-color:#3773f5}.-cbwsdk-css-reset .-cbwsdk-extension-dialog-box-top-info-region{display:flex;flex-basis:50%;flex-direction:column;justify-content:center}.-cbwsdk-css-reset .-cbwsdk-extension-dialog-box-top-info-region.light{background-color:#fafbfc}.-cbwsdk-css-reset .-cbwsdk-extension-dialog-box-top-info-region.dark{background-color:#141519}.-cbwsdk-css-reset .-cbwsdk-extension-dialog-box-top-description{display:flex;flex-direction:row;align-items:center;padding-top:14px;padding-bottom:14px;padding-left:24px;padding-right:32px}.-cbwsdk-css-reset .-cbwsdk-extension-dialog-box-top-description-icon-wrapper{display:block;position:relative;width:40px;height:40px;flex-shrink:0;flex-grow:0;border-radius:20px;background-color:#fff;box-shadow:0px 0px 8px rgba(0,0,0,.04),0px 16px 24px rgba(0,0,0,.06)}.-cbwsdk-css-reset .-cbwsdk-extension-dialog-box-top-description-icon-wrapper img{position:absolute;top:0;bottom:0;left:0;right:0;margin:auto}.-cbwsdk-css-reset .-cbwsdk-extension-dialog-box-top-description-text{margin-left:16px;flex-grow:1;font-size:13px;line-height:19px;align-self:center}.-cbwsdk-css-reset .-cbwsdk-extension-dialog-box-top-description-text.light{color:#000}.-cbwsdk-css-reset .-cbwsdk-extension-dialog-box-top-description-text.dark{color:#fff}.-cbwsdk-css-reset .-cbwsdk-extension-dialog-box-bottom{display:flex;flex-direction:row;overflow:hidden;border-radius:8px;margin-top:8px}.-cbwsdk-css-reset .-cbwsdk-extension-dialog-box-bottom.light{background-color:#fff}.-cbwsdk-css-reset .-cbwsdk-extension-dialog-box-bottom.dark{background-color:#000;box-shadow:0 4px 16px rgba(255,255,255,.05)}.-cbwsdk-css-reset .-cbwsdk-extension-dialog-box-bottom-description-region{display:flex;flex-direction:column;justify-content:center;padding:32px;flex-grow:1}.-cbwsdk-css-reset .-cbwsdk-extension-dialog-box-bottom-description{font-size:13px;line-height:19px;margin-top:12px;color:#aaa}.-cbwsdk-css-reset .-cbwsdk-extension-dialog-box-bottom-description.dark{color:#fff}.-cbwsdk-css-reset .-cbwsdk-extension-dialog-box-bottom-description.dark a{color:#3773f5}.-cbwsdk-css-reset .-cbwsdk-extension-dialog-box-bottom-description a{font-size:inherit;line-height:inherit;color:#1652f0;cursor:pointer}.-cbwsdk-css-reset .-cbwsdk-extension-dialog-box-bottom-qr-region{position:relative;flex-shrink:0;display:flex;flex-direction:column;justify-content:center;padding-left:24px;padding-right:24px;padding-top:16px;padding-bottom:16px}.-cbwsdk-css-reset .-cbwsdk-extension-dialog-box-bottom-qr-wrapper{position:relative;display:block;padding:8px;border-radius:8px;box-shadow:0px 4px 12px rgba(0,0,0,.1);background-color:#fff}.-cbwsdk-css-reset .-cbwsdk-extension-dialog-box-bottom-qr-wrapper img{display:block}.-cbwsdk-css-reset .-cbwsdk-extension-dialog-box-bottom-qr-connecting{position:absolute;top:0;bottom:0;left:0;right:0;display:flex;flex-direction:column;align-items:center;justify-content:center}.-cbwsdk-css-reset .-cbwsdk-extension-dialog-box-bottom-qr-connecting.light{background-color:rgba(255,255,255,.95)}.-cbwsdk-css-reset .-cbwsdk-extension-dialog-box-bottom-qr-connecting.light>p{color:#000}.-cbwsdk-css-reset .-cbwsdk-extension-dialog-box-bottom-qr-connecting.dark{background-color:rgba(20,21,25,.9)}.-cbwsdk-css-reset .-cbwsdk-extension-dialog-box-bottom-qr-connecting.dark>p{color:#fff}.-cbwsdk-css-reset .-cbwsdk-extension-dialog-box-bottom-qr-connecting>p{font-size:12px;font-weight:bold;margin-top:16px}.-cbwsdk-css-reset .-cbwsdk-extension-dialog-box-cancel{position:absolute;-webkit-appearance:none;display:flex;align-items:center;justify-content:center;top:16px;right:16px;width:24px;height:24px;border-radius:12px;cursor:pointer}.-cbwsdk-css-reset .-cbwsdk-extension-dialog-box-cancel.light{background-color:#fafbfc}.-cbwsdk-css-reset .-cbwsdk-extension-dialog-box-cancel.dark{background-color:#141519}.-cbwsdk-css-reset .-cbwsdk-extension-dialog-box-cancel-x{position:relative;display:block;cursor:pointer}.-cbwsdk-css-reset .-cbwsdk-extension-dialog-box-cancel-x.light::before,.-cbwsdk-css-reset .-cbwsdk-extension-dialog-box-cancel-x.light::after{background-color:#000}.-cbwsdk-css-reset .-cbwsdk-extension-dialog-box-cancel-x.dark::before,.-cbwsdk-css-reset .-cbwsdk-extension-dialog-box-cancel-x.dark::after{background-color:#fff}.-cbwsdk-css-reset .-cbwsdk-extension-dialog-box-cancel-x::before,.-cbwsdk-css-reset .-cbwsdk-extension-dialog-box-cancel-x::after{content:"";position:absolute;display:block;top:-1px;left:-7px;width:14px;height:1px;transition:background-color .2s}.-cbwsdk-css-reset .-cbwsdk-extension-dialog-box-cancel-x::before{transform:rotate(45deg)}.-cbwsdk-css-reset .-cbwsdk-extension-dialog-box-cancel-x::after{transform:rotate(135deg)}.-cbwsdk-css-reset .-cbwsdk-extension-dialog-box-cancel:hover .-cbwsdk-link-dialog-box-cancel-x-a,.-cbwsdk-css-reset .-cbwsdk-extension-dialog-box-cancel:hover .-cbwsdk-link-dialog-box-cancel-x-b{background-color:#000}.-cbwsdk-css-reset .-cbwsdk-extension-dialog-container{display:block}.-cbwsdk-css-reset .-cbwsdk-extension-dialog-container-hidden{display:none}.-cbwsdk-css-reset .-cbwsdk-extension-dialog h2{display:block;text-align:left;font-size:22px;font-weight:600;line-height:28px}.-cbwsdk-css-reset .-cbwsdk-extension-dialog h2.light{color:#000}.-cbwsdk-css-reset .-cbwsdk-extension-dialog h2.dark{color:#fff}';var Hn=_e&&_e.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(qo,"__esModule",{value:!0});qo.TryExtensionLinkDialog=void 0;const $t=Hn(Wh),Ee=Oi,oi=su,iE=ne,oE=Go,sE=Hn(au),aE=Hn(uu),uE=Hn(cu),cE=Hn(lu),lE=Zo,fE=Ko,hE=Hn(hu),dE=t=>{const{isOpen:e,darkMode:r}=t,[n,i]=(0,oi.useState)(!e),[o,s]=(0,oi.useState)(!e);(0,oi.useEffect)(()=>{const f=[window.setTimeout(()=>{s(!e)},10)];return e?i(!1):f.push(window.setTimeout(()=>{i(!0)},360)),()=>{f.forEach(window.clearTimeout)}},[t.isOpen]);const a=r?"dark":"light";return(0,Ee.h)("div",{class:(0,$t.default)("-cbwsdk-extension-dialog-container",n&&"-cbwsdk-extension-dialog-container-hidden")},(0,Ee.h)("style",null,hE.default),(0,Ee.h)("div",{class:(0,$t.default)("-cbwsdk-extension-dialog-backdrop",a,o&&"-cbwsdk-extension-dialog-backdrop-hidden")}),(0,Ee.h)("div",{class:"-cbwsdk-extension-dialog"},(0,Ee.h)("div",{class:(0,$t.default)("-cbwsdk-extension-dialog-box",o&&"-cbwsdk-extension-dialog-box-hidden")},(0,Ee.h)(pE,{darkMode:r,onInstallClick:()=>{window.open("https://api.wallet.coinbase.com/rpc/v2/desktop/chrome","_blank")}}),t.connectDisabled?null:(0,Ee.h)(gE,{darkMode:r,version:t.version,sessionId:t.sessionId,sessionSecret:t.sessionSecret,linkAPIUrl:t.linkAPIUrl,isConnected:t.isConnected,isParentConnection:t.isParentConnection,chainId:t.chainId}),t.onCancel&&(0,Ee.h)(yE,{darkMode:r,onClick:t.onCancel}))))};qo.TryExtensionLinkDialog=dE;const pE=({darkMode:t,onInstallClick:e})=>{const[r,n]=(0,oi.useState)(!1),i=(0,oi.useCallback)(()=>{r?window.location.reload():(e(),n(!0))},[e,r]),o=t?"dark":"light";return(0,Ee.h)("div",{class:(0,$t.default)("-cbwsdk-extension-dialog-box-top",o)},(0,Ee.h)("div",{class:"-cbwsdk-extension-dialog-box-top-install-region"},(0,Ee.h)("h2",{class:o},"Try the Coinbase Wallet extension"),r&&(0,Ee.h)("div",{class:"-cbwsdk-extension-dialog-box-top-subtext"},"After installing Coinbase Wallet, refresh the page and connect again."),(0,Ee.h)("button",{type:"button",onClick:i},r?"Refresh":"Install")),(0,Ee.h)("div",{class:(0,$t.default)("-cbwsdk-extension-dialog-box-top-info-region",o)},(0,Ee.h)(Ks,{darkMode:t,icon:aE.default,text:"Connect to crypto apps with one click"}),(0,Ee.h)(Ks,{darkMode:t,icon:uE.default,text:"Your private key is stored securely"}),(0,Ee.h)(Ks,{darkMode:t,icon:sE.default,text:"Works with Ethereum, Polygon, and more"})))},gE=t=>{const e=(0,iE.createQrUrl)(t.sessionId,t.sessionSecret,t.linkAPIUrl,t.isParentConnection,t.version,t.chainId),r=t.darkMode?"dark":"light";return(0,Ee.h)("div",{"data-testid":"scan-qr-box",class:(0,$t.default)("-cbwsdk-extension-dialog-box-bottom",r)},(0,Ee.h)("div",{class:"-cbwsdk-extension-dialog-box-bottom-description-region"},(0,Ee.h)("h2",{class:r},"Or scan to connect"),(0,Ee.h)("body",{class:(0,$t.default)("-cbwsdk-extension-dialog-box-bottom-description",r)},"Open"," ",(0,Ee.h)("a",{href:"https://wallet.coinbase.com/",target:"_blank",rel:"noopener noreferrer"},"Coinbase Wallet")," ","on your mobile phone and scan")),(0,Ee.h)("div",{class:"-cbwsdk-extension-dialog-box-bottom-qr-region"},(0,Ee.h)("div",{class:"-cbwsdk-extension-dialog-box-bottom-qr-wrapper"},(0,Ee.h)(lE.QRCode,{content:e,width:150,height:150,fgColor:"#000",bgColor:"transparent",image:{svg:cE.default,width:34,height:34}})),(0,Ee.h)("input",{type:"hidden",name:"cbwsdk-version",value:oE.LIB_VERSION}),(0,Ee.h)("input",{type:"hidden",value:e}),!t.isConnected&&(0,Ee.h)("div",{"data-testid":"connecting-spinner",class:(0,$t.default)("-cbwsdk-extension-dialog-box-bottom-qr-connecting",r)},(0,Ee.h)(fE.Spinner,{size:36,color:t.darkMode?"#FFF":"#000"}),(0,Ee.h)("p",null,"Connecting..."))))},Ks=t=>{const e=t.darkMode?"dark":"light";return(0,Ee.h)("div",{class:"-cbwsdk-extension-dialog-box-top-description"},(0,Ee.h)("div",{class:"-cbwsdk-extension-dialog-box-top-description-icon-wrapper"},(0,Ee.h)("img",{src:t.icon})),(0,Ee.h)("body",{class:(0,$t.default)("-cbwsdk-extension-dialog-box-top-description-text",e)},t.text))},yE=t=>{const e=t.darkMode?"dark":"light";return(0,Ee.h)("button",{type:"button",class:(0,$t.default)("-cbwsdk-extension-dialog-box-cancel",e),onClick:t.onClick},(0,Ee.h)("div",{class:(0,$t.default)("-cbwsdk-extension-dialog-box-cancel-x",e)}))};Object.defineProperty(zo,"__esModule",{value:!0});zo.LinkFlow=void 0;const Ys=Oi,el=Dn,bE=qo;class vE{constructor(e){this.extensionUI$=new el.BehaviorSubject({}),this.subscriptions=new el.Subscription,this.isConnected=!1,this.chainId=1,this.isOpen=!1,this.onCancel=null,this.root=null,this.connectDisabled=!1,this.darkMode=e.darkMode,this.version=e.version,this.sessionId=e.sessionId,this.sessionSecret=e.sessionSecret,this.linkAPIUrl=e.linkAPIUrl,this.isParentConnection=e.isParentConnection,this.connected$=e.connected$,this.chainId$=e.chainId$}attach(e){this.root=document.createElement("div"),this.root.className="-cbwsdk-link-flow-root",e.appendChild(this.root),this.render(),this.subscriptions.add(this.connected$.subscribe(r=>{this.isConnected!==r&&(this.isConnected=r,this.render())})),this.subscriptions.add(this.chainId$.subscribe(r=>{this.chainId!==r&&(this.chainId=r,this.render())}))}detach(){var e;!this.root||(this.subscriptions.unsubscribe(),(0,Ys.render)(null,this.root),(e=this.root.parentElement)===null||e===void 0||e.removeChild(this.root))}setConnectDisabled(e){this.connectDisabled=e}open(e){this.isOpen=!0,this.onCancel=e.onCancel,this.render()}close(){this.isOpen=!1,this.onCancel=null,this.render()}render(){if(!this.root)return;const e=this.extensionUI$.subscribe(()=>{!this.root||(0,Ys.render)((0,Ys.h)(bE.TryExtensionLinkDialog,{darkMode:this.darkMode,version:this.version,sessionId:this.sessionId,sessionSecret:this.sessionSecret,linkAPIUrl:this.linkAPIUrl,isOpen:this.isOpen,isConnected:this.isConnected,isParentConnection:this.isParentConnection,chainId:this.chainId,onCancel:this.onCancel,connectDisabled:this.connectDisabled}),this.root)});this.subscriptions.add(e)}}zo.LinkFlow=vE;var Qh={},du={};Object.defineProperty(du,"__esModule",{value:!0});du.default=".-cbwsdk-css-reset .-gear-container{margin-left:16px !important;margin-right:9px !important;display:flex;align-items:center;justify-content:center;width:24px;height:24px;transition:opacity .25s}.-cbwsdk-css-reset .-gear-container *{user-select:none}.-cbwsdk-css-reset .-gear-container svg{opacity:0;position:absolute}.-cbwsdk-css-reset .-gear-icon{height:12px;width:12px;z-index:10000}.-cbwsdk-css-reset .-cbwsdk-snackbar{align-items:flex-end;display:flex;flex-direction:column;position:fixed;right:0;top:0;z-index:2147483647}.-cbwsdk-css-reset .-cbwsdk-snackbar *{user-select:none}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance{display:flex;flex-direction:column;margin:8px 16px 0 16px;overflow:visible;text-align:left;transform:translateX(0);transition:opacity .25s,transform .25s}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-header:hover .-gear-container svg{opacity:1}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-header{display:flex;align-items:center;background:#fff;overflow:hidden;border:1px solid #e7ebee;box-sizing:border-box;border-radius:8px;cursor:pointer}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-header-cblogo{margin:8px 8px 8px 8px}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-header *{cursor:pointer}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-header-message{color:#000;font-size:13px;line-height:1.5;user-select:none}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu{background:#fff;transition:opacity .25s ease-in-out,transform .25s linear,visibility 0s;visibility:hidden;border:1px solid #e7ebee;box-sizing:border-box;border-radius:8px;opacity:0;flex-direction:column;padding-left:8px;padding-right:8px}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item:last-child{margin-bottom:8px !important}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item:hover{background:#f5f7f8;border-radius:6px;transition:background .25s}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item:hover span{color:#050f19;transition:color .25s}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item:hover svg path{fill:#000;transition:fill .25s}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item{visibility:inherit;height:35px;margin-top:8px;margin-bottom:0;display:flex;flex-direction:row;align-items:center;padding:8px;cursor:pointer}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item *{visibility:inherit;cursor:pointer}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item-is-red:hover{background:rgba(223,95,103,.2);transition:background .25s}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item-is-red:hover *{cursor:pointer}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item-is-red:hover svg path{fill:#df5f67;transition:fill .25s}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item-is-red:hover span{color:#df5f67;transition:color .25s}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item-info{color:#aaa;font-size:13px;margin:0 8px 0 32px;position:absolute}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-hidden{opacity:0;text-align:left;transform:translateX(25%);transition:opacity .5s linear}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-expanded .-cbwsdk-snackbar-instance-menu{opacity:1;display:flex;transform:translateY(8px);visibility:visible}";(function(t){var e=_e&&_e.__importDefault||function(I){return I&&I.__esModule?I:{default:I}};Object.defineProperty(t,"__esModule",{value:!0}),t.SnackbarInstance=t.SnackbarContainer=t.Snackbar=void 0;const r=e(Wh),n=Oi,i=su,o=e(du),s="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMzIiIGhlaWdodD0iMzIiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZD0iTTEuNDkyIDEwLjQxOWE4LjkzIDguOTMgMCAwMTguOTMtOC45M2gxMS4xNjNhOC45MyA4LjkzIDAgMDE4LjkzIDguOTN2MTEuMTYzYTguOTMgOC45MyAwIDAxLTguOTMgOC45M0gxMC40MjJhOC45MyA4LjkzIDAgMDEtOC45My04LjkzVjEwLjQxOXoiIGZpbGw9IiMxNjUyRjAiLz48cGF0aCBmaWxsLXJ1bGU9ImV2ZW5vZGQiIGNsaXAtcnVsZT0iZXZlbm9kZCIgZD0iTTEwLjQxOSAwSDIxLjU4QzI3LjMzNSAwIDMyIDQuNjY1IDMyIDEwLjQxOVYyMS41OEMzMiAyNy4zMzUgMjcuMzM1IDMyIDIxLjU4MSAzMkgxMC40MkM0LjY2NSAzMiAwIDI3LjMzNSAwIDIxLjU4MVYxMC40MkMwIDQuNjY1IDQuNjY1IDAgMTAuNDE5IDB6bTAgMS40ODhhOC45MyA4LjkzIDAgMDAtOC45MyA4LjkzdjExLjE2M2E4LjkzIDguOTMgMCAwMDguOTMgOC45M0gyMS41OGE4LjkzIDguOTMgMCAwMDguOTMtOC45M1YxMC40MmE4LjkzIDguOTMgMCAwMC04LjkzLTguOTNIMTAuNDJ6IiBmaWxsPSIjZmZmIi8+PHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik0xNS45OTggMjYuMDQ5Yy01LjU0OSAwLTEwLjA0Ny00LjQ5OC0xMC4wNDctMTAuMDQ3IDAtNS41NDggNC40OTgtMTAuMDQ2IDEwLjA0Ny0xMC4wNDYgNS41NDggMCAxMC4wNDYgNC40OTggMTAuMDQ2IDEwLjA0NiAwIDUuNTQ5LTQuNDk4IDEwLjA0Ny0xMC4wNDYgMTAuMDQ3eiIgZmlsbD0iI2ZmZiIvPjxwYXRoIGQ9Ik0xMi43NjIgMTQuMjU0YzAtLjgyMi42NjctMS40ODkgMS40ODktMS40ODloMy40OTdjLjgyMiAwIDEuNDg4LjY2NiAxLjQ4OCAxLjQ4OXYzLjQ5N2MwIC44MjItLjY2NiAxLjQ4OC0xLjQ4OCAxLjQ4OGgtMy40OTdhMS40ODggMS40ODggMCAwMS0xLjQ4OS0xLjQ4OHYtMy40OTh6IiBmaWxsPSIjMTY1MkYwIi8+PC9zdmc+",a="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTIiIGhlaWdodD0iMTIiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZD0iTTEyIDYuNzV2LTEuNWwtMS43Mi0uNTdjLS4wOC0uMjctLjE5LS41Mi0uMzItLjc3bC44MS0xLjYyLTEuMDYtMS4wNi0xLjYyLjgxYy0uMjQtLjEzLS41LS4yNC0uNzctLjMyTDYuNzUgMGgtMS41bC0uNTcgMS43MmMtLjI3LjA4LS41My4xOS0uNzcuMzJsLTEuNjItLjgxLTEuMDYgMS4wNi44MSAxLjYyYy0uMTMuMjQtLjI0LjUtLjMyLjc3TDAgNS4yNXYxLjVsMS43Mi41N2MuMDguMjcuMTkuNTMuMzIuNzdsLS44MSAxLjYyIDEuMDYgMS4wNiAxLjYyLS44MWMuMjQuMTMuNS4yMy43Ny4zMkw1LjI1IDEyaDEuNWwuNTctMS43MmMuMjctLjA4LjUyLS4xOS43Ny0uMzJsMS42Mi44MSAxLjA2LTEuMDYtLjgxLTEuNjJjLjEzLS4yNC4yMy0uNS4zMi0uNzdMMTIgNi43NXpNNiA4LjVhMi41IDIuNSAwIDAxMC01IDIuNSAyLjUgMCAwMTAgNXoiIGZpbGw9IiMwNTBGMTkiLz48L3N2Zz4=";class f{constructor(m){this.items=new Map,this.nextItemKey=0,this.root=null,this.darkMode=m.darkMode}attach(m){this.root=document.createElement("div"),this.root.className="-cbwsdk-snackbar-root",m.appendChild(this.root),this.render()}presentItem(m){const C=this.nextItemKey++;return this.items.set(C,m),this.render(),()=>{this.items.delete(C),this.render()}}clear(){this.items.clear(),this.render()}render(){!this.root||(0,n.render)((0,n.h)("div",null,(0,n.h)(t.SnackbarContainer,{darkMode:this.darkMode},Array.from(this.items.entries()).map(([m,C])=>(0,n.h)(t.SnackbarInstance,Object.assign({},C,{key:m}))))),this.root)}}t.Snackbar=f;const p=I=>(0,n.h)("div",{class:(0,r.default)("-cbwsdk-snackbar-container")},(0,n.h)("style",null,o.default),(0,n.h)("div",{class:"-cbwsdk-snackbar"},I.children));t.SnackbarContainer=p;const g=({autoExpand:I,message:m,menuItems:C})=>{const[N,H]=(0,i.useState)(!0),[U,R]=(0,i.useState)(I!=null?I:!1);(0,i.useEffect)(()=>{const D=[window.setTimeout(()=>{H(!1)},1),window.setTimeout(()=>{R(!0)},1e4)];return()=>{D.forEach(window.clearTimeout)}});const B=()=>{R(!U)};return(0,n.h)("div",{class:(0,r.default)("-cbwsdk-snackbar-instance",N&&"-cbwsdk-snackbar-instance-hidden",U&&"-cbwsdk-snackbar-instance-expanded")},(0,n.h)("div",{class:"-cbwsdk-snackbar-instance-header",onClick:B},(0,n.h)("img",{src:s,class:"-cbwsdk-snackbar-instance-header-cblogo"}),(0,n.h)("div",{class:"-cbwsdk-snackbar-instance-header-message"},m),(0,n.h)("div",{class:"-gear-container"},!U&&(0,n.h)("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},(0,n.h)("circle",{cx:"12",cy:"12",r:"12",fill:"#F5F7F8"})),(0,n.h)("img",{src:a,class:"-gear-icon",title:"Expand"}))),C&&C.length>0&&(0,n.h)("div",{class:"-cbwsdk-snackbar-instance-menu"},C.map((D,G)=>(0,n.h)("div",{class:(0,r.default)("-cbwsdk-snackbar-instance-menu-item",D.isRed&&"-cbwsdk-snackbar-instance-menu-item-is-red"),onClick:D.onClick,key:G},(0,n.h)("svg",{width:D.svgWidth,height:D.svgHeight,viewBox:"0 0 10 11",fill:"none",xmlns:"http://www.w3.org/2000/svg"},(0,n.h)("path",{"fill-rule":D.defaultFillRule,"clip-rule":D.defaultClipRule,d:D.path,fill:"#AAAAAA"})),(0,n.h)("span",{class:(0,r.default)("-cbwsdk-snackbar-instance-menu-item-info",D.isRed&&"-cbwsdk-snackbar-instance-menu-item-info-is-red")},D.info)))))};t.SnackbarInstance=g})(Qh);var Yo={},pu={};Object.defineProperty(pu,"__esModule",{value:!0});pu.default='@namespace svg "http://www.w3.org/2000/svg";.-cbwsdk-css-reset,.-cbwsdk-css-reset *{animation:none;animation-delay:0;animation-direction:normal;animation-duration:0;animation-fill-mode:none;animation-iteration-count:1;animation-name:none;animation-play-state:running;animation-timing-function:ease;backface-visibility:visible;background:0;background-attachment:scroll;background-clip:border-box;background-color:rgba(0,0,0,0);background-image:none;background-origin:padding-box;background-position:0 0;background-position-x:0;background-position-y:0;background-repeat:repeat;background-size:auto auto;border:0;border-style:none;border-width:medium;border-color:inherit;border-bottom:0;border-bottom-color:inherit;border-bottom-left-radius:0;border-bottom-right-radius:0;border-bottom-style:none;border-bottom-width:medium;border-collapse:separate;border-image:none;border-left:0;border-left-color:inherit;border-left-style:none;border-left-width:medium;border-radius:0;border-right:0;border-right-color:inherit;border-right-style:none;border-right-width:medium;border-spacing:0;border-top:0;border-top-color:inherit;border-top-left-radius:0;border-top-right-radius:0;border-top-style:none;border-top-width:medium;bottom:auto;box-shadow:none;box-sizing:border-box;caption-side:top;clear:none;clip:auto;color:inherit;columns:auto;column-count:auto;column-fill:balance;column-gap:normal;column-rule:medium none currentColor;column-rule-color:currentColor;column-rule-style:none;column-rule-width:none;column-span:1;column-width:auto;content:normal;counter-increment:none;counter-reset:none;cursor:auto;direction:ltr;display:block;empty-cells:show;float:none;font:normal;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI","Helvetica Neue",Arial,sans-serif;font-size:medium;font-style:normal;font-variant:normal;font-weight:normal;height:auto;hyphens:none;left:auto;letter-spacing:normal;line-height:normal;list-style:none;list-style-image:none;list-style-position:outside;list-style-type:disc;margin:0;margin-bottom:0;margin-left:0;margin-right:0;margin-top:0;max-height:none;max-width:none;min-height:0;min-width:0;opacity:1;orphans:0;outline:0;outline-color:invert;outline-style:none;outline-width:medium;overflow:visible;overflow-x:visible;overflow-y:visible;padding:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;page-break-after:auto;page-break-before:auto;page-break-inside:auto;perspective:none;perspective-origin:50% 50%;pointer-events:auto;position:static;quotes:"\\201C" "\\201D" "\\2018" "\\2019";right:auto;tab-size:8;table-layout:auto;text-align:inherit;text-align-last:auto;text-decoration:none;text-decoration-color:inherit;text-decoration-line:none;text-decoration-style:solid;text-indent:0;text-shadow:none;text-transform:none;top:auto;transform:none;transform-style:flat;transition:none;transition-delay:0s;transition-duration:0s;transition-property:none;transition-timing-function:ease;unicode-bidi:normal;vertical-align:baseline;visibility:visible;white-space:normal;widows:0;width:auto;word-spacing:normal;z-index:auto}.-cbwsdk-css-reset *{box-sizing:border-box;display:initial;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI","Helvetica Neue",Arial,sans-serif;line-height:1}.-cbwsdk-css-reset [class*=container]{margin:0;padding:0}.-cbwsdk-css-reset style{display:none}';var mE=_e&&_e.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Yo,"__esModule",{value:!0});Yo.injectCssReset=void 0;const _E=mE(pu);function wE(){const t=document.createElement("style");t.type="text/css",t.appendChild(document.createTextNode(_E.default)),document.documentElement.appendChild(t)}Yo.injectCssReset=wE;Object.defineProperty(Vo,"__esModule",{value:!0});Vo.WalletSDKUI=void 0;const SE=zo,EE=Qh,xE=Yo;class ME{constructor(e){this.standalone=null,this.attached=!1,this.snackbar=new EE.Snackbar({darkMode:e.darkMode}),this.linkFlow=new SE.LinkFlow({darkMode:e.darkMode,version:e.version,sessionId:e.session.id,sessionSecret:e.session.secret,linkAPIUrl:e.linkAPIUrl,connected$:e.connected$,chainId$:e.chainId$,isParentConnection:!1})}attach(){if(this.attached)throw new Error("Coinbase Wallet SDK UI is already attached");const e=document.documentElement,r=document.createElement("div");r.className="-cbwsdk-css-reset",e.appendChild(r),this.linkFlow.attach(r),this.snackbar.attach(r),this.attached=!0,(0,xE.injectCssReset)()}setConnectDisabled(e){this.linkFlow.setConnectDisabled(e)}addEthereumChain(e){}watchAsset(e){}switchEthereumChain(e){}requestEthereumAccounts(e){this.linkFlow.open({onCancel:e.onCancel})}hideRequestEthereumAccounts(){this.linkFlow.close()}signEthereumMessage(e){}signEthereumTransaction(e){}submitEthereumTransaction(e){}ethereumAddressFromSignedMessage(e){}showConnecting(e){let r;return e.isUnlinkedErrorState?r={autoExpand:!0,message:"Connection lost",menuItems:[{isRed:!1,info:"Reset connection",svgWidth:"10",svgHeight:"11",path:"M5.00008 0.96875C6.73133 0.96875 8.23758 1.94375 9.00008 3.375L10.0001 2.375V5.5H9.53133H7.96883H6.87508L7.80633 4.56875C7.41258 3.3875 6.31258 2.53125 5.00008 2.53125C3.76258 2.53125 2.70633 3.2875 2.25633 4.36875L0.812576 3.76875C1.50008 2.125 3.11258 0.96875 5.00008 0.96875ZM2.19375 6.43125C2.5875 7.6125 3.6875 8.46875 5 8.46875C6.2375 8.46875 7.29375 7.7125 7.74375 6.63125L9.1875 7.23125C8.5 8.875 6.8875 10.0312 5 10.0312C3.26875 10.0312 1.7625 9.05625 1 7.625L0 8.625V5.5H0.46875H2.03125H3.125L2.19375 6.43125Z",defaultFillRule:"evenodd",defaultClipRule:"evenodd",onClick:e.onResetConnection}]}:r={message:"Confirm on phone",menuItems:[{isRed:!0,info:"Cancel transaction",svgWidth:"11",svgHeight:"11",path:"M10.3711 1.52346L9.21775 0.370117L5.37109 4.21022L1.52444 0.370117L0.371094 1.52346L4.2112 5.37012L0.371094 9.21677L1.52444 10.3701L5.37109 6.53001L9.21775 10.3701L10.3711 9.21677L6.53099 5.37012L10.3711 1.52346Z",defaultFillRule:"inherit",defaultClipRule:"inherit",onClick:e.onCancel},{isRed:!1,info:"Reset connection",svgWidth:"10",svgHeight:"11",path:"M5.00008 0.96875C6.73133 0.96875 8.23758 1.94375 9.00008 3.375L10.0001 2.375V5.5H9.53133H7.96883H6.87508L7.80633 4.56875C7.41258 3.3875 6.31258 2.53125 5.00008 2.53125C3.76258 2.53125 2.70633 3.2875 2.25633 4.36875L0.812576 3.76875C1.50008 2.125 3.11258 0.96875 5.00008 0.96875ZM2.19375 6.43125C2.5875 7.6125 3.6875 8.46875 5 8.46875C6.2375 8.46875 7.29375 7.7125 7.74375 6.63125L9.1875 7.23125C8.5 8.875 6.8875 10.0312 5 10.0312C3.26875 10.0312 1.7625 9.05625 1 7.625L0 8.625V5.5H0.46875H2.03125H3.125L2.19375 6.43125Z",defaultFillRule:"evenodd",defaultClipRule:"evenodd",onClick:e.onResetConnection}]},this.snackbar.presentItem(r)}reloadUI(){document.location.reload()}inlineAccountsResponse(){return!1}inlineAddEthereumChain(e){return!1}inlineWatchAsset(){return!1}inlineSwitchEthereumChain(){return!1}setStandalone(e){this.standalone=e}isStandalone(){var e;return(e=this.standalone)!==null&&e!==void 0?e:!1}}Vo.WalletSDKUI=ME;var Qo={},Jo={};Object.defineProperty(Jo,"__esModule",{value:!0});var ln;(function(t){t.typeOfFunction="function",t.boolTrue=!0})(ln||(ln={}));function Jh(t,e,r){if(!r||typeof r.value!==ln.typeOfFunction)throw new TypeError("Only methods can be decorated with @bind. <"+e+"> is not a method!");return{configurable:ln.boolTrue,get:function(){var n=r.value.bind(this);return Object.defineProperty(this,e,{value:n,configurable:ln.boolTrue,writable:ln.boolTrue}),n}}}Jo.bind=Jh;Jo.default=Jh;var Xo={},Tt={};Object.defineProperty(Tt,"__esModule",{value:!0});Tt.ClientMessagePublishEvent=Tt.ClientMessageSetSessionConfig=Tt.ClientMessageGetSessionConfig=Tt.ClientMessageIsLinked=Tt.ClientMessageHostSession=void 0;function AE(t){return Object.assign({type:"HostSession"},t)}Tt.ClientMessageHostSession=AE;function CE(t){return Object.assign({type:"IsLinked"},t)}Tt.ClientMessageIsLinked=CE;function kE(t){return Object.assign({type:"GetSessionConfig"},t)}Tt.ClientMessageGetSessionConfig=kE;function IE(t){return Object.assign({type:"SetSessionConfig"},t)}Tt.ClientMessageSetSessionConfig=IE;function RE(t){return Object.assign({type:"PublishEvent"},t)}Tt.ClientMessagePublishEvent=RE;var Xh={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.RxWebSocket=t.ConnectionState=void 0;const e=Dn,r=xo;var n;(function(o){o[o.DISCONNECTED=0]="DISCONNECTED",o[o.CONNECTING=1]="CONNECTING",o[o.CONNECTED=2]="CONNECTED"})(n=t.ConnectionState||(t.ConnectionState={}));class i{constructor(s,a=WebSocket){this.WebSocketClass=a,this.webSocket=null,this.connectionStateSubject=new e.BehaviorSubject(n.DISCONNECTED),this.incomingDataSubject=new e.Subject,this.url=s.replace(/^http/,"ws")}connect(){return this.webSocket?(0,e.throwError)(new Error("webSocket object is not null")):new e.Observable(s=>{let a;try{this.webSocket=a=new this.WebSocketClass(this.url)}catch(f){s.error(f);return}this.connectionStateSubject.next(n.CONNECTING),a.onclose=f=>{this.clearWebSocket(),s.error(new Error(`websocket error ${f.code}: ${f.reason}`)),this.connectionStateSubject.next(n.DISCONNECTED)},a.onopen=f=>{s.next(),s.complete(),this.connectionStateSubject.next(n.CONNECTED)},a.onmessage=f=>{this.incomingDataSubject.next(f.data)}}).pipe((0,r.take)(1))}disconnect(){const{webSocket:s}=this;if(!!s){this.clearWebSocket(),this.connectionStateSubject.next(n.DISCONNECTED);try{s.close()}catch{}}}get connectionState$(){return this.connectionStateSubject.asObservable()}get incomingData$(){return this.incomingDataSubject.asObservable()}get incomingJSONData$(){return this.incomingData$.pipe((0,r.flatMap)(s=>{let a;try{a=JSON.parse(s)}catch{return(0,e.empty)()}return(0,e.of)(a)}))}sendData(s){const{webSocket:a}=this;if(!a)throw new Error("websocket is not connected");a.send(s)}clearWebSocket(){const{webSocket:s}=this;!s||(this.webSocket=null,s.onclose=null,s.onerror=null,s.onmessage=null,s.onopen=null)}}t.RxWebSocket=i})(Xh);var es={};Object.defineProperty(es,"__esModule",{value:!0});es.isServerMessageFail=void 0;function TE(t){return t&&t.type==="Fail"&&typeof t.id=="number"&&typeof t.sessionId=="string"&&typeof t.error=="string"}es.isServerMessageFail=TE;Object.defineProperty(Xo,"__esModule",{value:!0});Xo.WalletSDKConnection=void 0;const Lt=Dn,xe=xo,Gn=Nn,on=xi,Zn=Tt,Kn=On,Hi=Xh,Qs=es,tl=1e4,OE=6e4;class NE{constructor(e,r,n,i,o=WebSocket){this.sessionId=e,this.sessionKey=r,this.diagnostic=i,this.subscriptions=new Lt.Subscription,this.destroyed=!1,this.lastHeartbeatResponse=0,this.nextReqId=(0,on.IntNumber)(1),this.connectedSubject=new Lt.BehaviorSubject(!1),this.linkedSubject=new Lt.BehaviorSubject(!1),this.sessionConfigSubject=new Lt.ReplaySubject(1);const s=new Hi.RxWebSocket(n+"/rpc",o);this.ws=s,this.subscriptions.add(s.connectionState$.pipe((0,xe.tap)(a=>{var f;return(f=this.diagnostic)===null||f===void 0?void 0:f.log(Kn.EVENTS.CONNECTED_STATE_CHANGE,{state:a,sessionIdHash:Gn.Session.hash(e)})}),(0,xe.skip)(1),(0,xe.filter)(a=>a===Hi.ConnectionState.DISCONNECTED&&!this.destroyed),(0,xe.delay)(5e3),(0,xe.filter)(a=>!this.destroyed),(0,xe.flatMap)(a=>s.connect()),(0,xe.retry)()).subscribe()),this.subscriptions.add(s.connectionState$.pipe((0,xe.skip)(2),(0,xe.switchMap)(a=>(0,Lt.iif)(()=>a===Hi.ConnectionState.CONNECTED,this.authenticate().pipe((0,xe.tap)(f=>this.sendIsLinked()),(0,xe.tap)(f=>this.sendGetSessionConfig()),(0,xe.map)(f=>!0)),(0,Lt.of)(!1))),(0,xe.distinctUntilChanged)(),(0,xe.catchError)(a=>(0,Lt.of)(!1))).subscribe(a=>this.connectedSubject.next(a))),this.subscriptions.add(s.connectionState$.pipe((0,xe.skip)(1),(0,xe.switchMap)(a=>(0,Lt.iif)(()=>a===Hi.ConnectionState.CONNECTED,(0,Lt.timer)(0,tl)))).subscribe(a=>a===0?this.updateLastHeartbeat():this.heartbeat())),this.subscriptions.add(s.incomingData$.pipe((0,xe.filter)(a=>a==="h")).subscribe(a=>this.updateLastHeartbeat())),this.subscriptions.add(s.incomingJSONData$.pipe((0,xe.filter)(a=>["IsLinkedOK","Linked"].includes(a.type))).subscribe(a=>{var f;const p=a;(f=this.diagnostic)===null||f===void 0||f.log(Kn.EVENTS.LINKED,{sessionIdHash:Gn.Session.hash(e),linked:p.linked,type:a.type,onlineGuests:p.onlineGuests}),this.linkedSubject.next(p.linked||p.onlineGuests>0)})),this.subscriptions.add(s.incomingJSONData$.pipe((0,xe.filter)(a=>["GetSessionConfigOK","SessionConfigUpdated"].includes(a.type))).subscribe(a=>{var f;const p=a;(f=this.diagnostic)===null||f===void 0||f.log(Kn.EVENTS.SESSION_CONFIG_RECEIVED,{sessionIdHash:Gn.Session.hash(e),metadata_keys:p&&p.metadata?Object.keys(p.metadata):void 0}),this.sessionConfigSubject.next({webhookId:p.webhookId,webhookUrl:p.webhookUrl,metadata:p.metadata})}))}connect(){var e;if(this.destroyed)throw new Error("instance is destroyed");(e=this.diagnostic)===null||e===void 0||e.log(Kn.EVENTS.STARTED_CONNECTING,{sessionIdHash:Gn.Session.hash(this.sessionId)}),this.ws.connect().subscribe()}destroy(){var e;this.subscriptions.unsubscribe(),this.ws.disconnect(),(e=this.diagnostic)===null||e===void 0||e.log(Kn.EVENTS.DISCONNECTED,{sessionIdHash:Gn.Session.hash(this.sessionId)}),this.destroyed=!0}get isDestroyed(){return this.destroyed}get connected$(){return this.connectedSubject.asObservable()}get onceConnected$(){return this.connected$.pipe((0,xe.filter)(e=>e),(0,xe.take)(1),(0,xe.map)(()=>{}))}get linked$(){return this.linkedSubject.asObservable()}get onceLinked$(){return this.linked$.pipe((0,xe.filter)(e=>e),(0,xe.take)(1),(0,xe.map)(()=>{}))}get sessionConfig$(){return this.sessionConfigSubject.asObservable()}get incomingEvent$(){return this.ws.incomingJSONData$.pipe((0,xe.filter)(e=>{if(e.type!=="Event")return!1;const r=e;return typeof r.sessionId=="string"&&typeof r.eventId=="string"&&typeof r.event=="string"&&typeof r.data=="string"}),(0,xe.map)(e=>e))}setSessionMetadata(e,r){const n=(0,Zn.ClientMessageSetSessionConfig)({id:(0,on.IntNumber)(this.nextReqId++),sessionId:this.sessionId,metadata:{[e]:r}});return this.onceConnected$.pipe((0,xe.flatMap)(i=>this.makeRequest(n)),(0,xe.map)(i=>{if((0,Qs.isServerMessageFail)(i))throw new Error(i.error||"failed to set session metadata")}))}publishEvent(e,r,n=!1){const i=(0,Zn.ClientMessagePublishEvent)({id:(0,on.IntNumber)(this.nextReqId++),sessionId:this.sessionId,event:e,data:r,callWebhook:n});return this.onceLinked$.pipe((0,xe.flatMap)(o=>this.makeRequest(i)),(0,xe.map)(o=>{if((0,Qs.isServerMessageFail)(o))throw new Error(o.error||"failed to publish event");return o.eventId}))}sendData(e){this.ws.sendData(JSON.stringify(e))}updateLastHeartbeat(){this.lastHeartbeatResponse=Date.now()}heartbeat(){if(Date.now()-this.lastHeartbeatResponse>tl*2){this.ws.disconnect();return}try{this.ws.sendData("h")}catch{}}makeRequest(e,r=OE){const n=e.id;try{this.sendData(e)}catch(i){return(0,Lt.throwError)(i)}return this.ws.incomingJSONData$.pipe((0,xe.timeoutWith)(r,(0,Lt.throwError)(new Error(`request ${n} timed out`))),(0,xe.filter)(i=>i.id===n),(0,xe.take)(1))}authenticate(){const e=(0,Zn.ClientMessageHostSession)({id:(0,on.IntNumber)(this.nextReqId++),sessionId:this.sessionId,sessionKey:this.sessionKey});return this.makeRequest(e).pipe((0,xe.map)(r=>{if((0,Qs.isServerMessageFail)(r))throw new Error(r.error||"failed to authentcate")}))}sendIsLinked(){const e=(0,Zn.ClientMessageIsLinked)({id:(0,on.IntNumber)(this.nextReqId++),sessionId:this.sessionId});this.sendData(e)}sendGetSessionConfig(){const e=(0,Zn.ClientMessageGetSessionConfig)({id:(0,on.IntNumber)(this.nextReqId++),sessionId:this.sessionId});this.sendData(e)}}Xo.WalletSDKConnection=NE;var ts={};Object.defineProperty(ts,"__esModule",{value:!0});ts.WalletUIError=void 0;class hi extends Error{constructor(e,r){super(e),this.message=e,this.errorCode=r}}ts.WalletUIError=hi;hi.UserRejectedRequest=new hi("User rejected request");hi.SwitchEthereumChainUnsupportedChainId=new hi("Unsupported chainId",4902);var kn={};Object.defineProperty(kn,"__esModule",{value:!0});kn.decrypt=kn.encrypt=void 0;const BE=Dn,po=ne;async function PE(t,e){if(e.length!==64)throw Error("secret must be 256 bits");const r=crypto.getRandomValues(new Uint8Array(12)),n=await crypto.subtle.importKey("raw",(0,po.hexStringToUint8Array)(e),{name:"aes-gcm"},!1,["encrypt","decrypt"]),i=new TextEncoder,o=await window.crypto.subtle.encrypt({name:"AES-GCM",iv:r},n,i.encode(t)),s=16,a=o.slice(o.byteLength-s),f=o.slice(0,o.byteLength-s),p=new Uint8Array(a),g=new Uint8Array(f),I=new Uint8Array([...r,...p,...g]);return(0,po.uint8ArrayToHex)(I)}kn.encrypt=PE;function LE(t,e){if(e.length!==64)throw Error("secret must be 256 bits");return new BE.Observable(r=>{(async function(){const n=await crypto.subtle.importKey("raw",(0,po.hexStringToUint8Array)(e),{name:"aes-gcm"},!1,["encrypt","decrypt"]),i=(0,po.hexStringToUint8Array)(t),o=i.slice(0,12),s=i.slice(12,28),a=i.slice(28),f=new Uint8Array([...a,...s]),p={name:"AES-GCM",iv:new Uint8Array(o)};try{const g=await window.crypto.subtle.decrypt(p,n,f),I=new TextDecoder;r.next(I.decode(g)),r.complete()}catch(g){r.error(g)}})()})}kn.decrypt=LE;var gu={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.Web3Method=void 0,function(e){e.requestEthereumAccounts="requestEthereumAccounts",e.signEthereumMessage="signEthereumMessage",e.signEthereumTransaction="signEthereumTransaction",e.submitEthereumTransaction="submitEthereumTransaction",e.ethereumAddressFromSignedMessage="ethereumAddressFromSignedMessage",e.scanQRCode="scanQRCode",e.generic="generic",e.childRequestEthereumAccounts="childRequestEthereumAccounts",e.addEthereumChain="addEthereumChain",e.switchEthereumChain="switchEthereumChain",e.makeEthereumJSONRPCRequest="makeEthereumJSONRPCRequest",e.watchAsset="watchAsset",e.selectProvider="selectProvider"}(t.Web3Method||(t.Web3Method={}))})(gu);var rs={},ns={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.RelayMessageType=void 0,function(e){e.SESSION_ID_REQUEST="SESSION_ID_REQUEST",e.SESSION_ID_RESPONSE="SESSION_ID_RESPONSE",e.LINKED="LINKED",e.UNLINKED="UNLINKED",e.WEB3_REQUEST="WEB3_REQUEST",e.WEB3_REQUEST_CANCELED="WEB3_REQUEST_CANCELED",e.WEB3_RESPONSE="WEB3_RESPONSE"}(t.RelayMessageType||(t.RelayMessageType={}))})(ns);Object.defineProperty(rs,"__esModule",{value:!0});rs.Web3RequestCanceledMessage=void 0;const DE=ns;function FE(t){return{type:DE.RelayMessageType.WEB3_REQUEST_CANCELED,id:t}}rs.Web3RequestCanceledMessage=FE;var is={};Object.defineProperty(is,"__esModule",{value:!0});is.Web3RequestMessage=void 0;const jE=ns;function $E(t){return Object.assign({type:jE.RelayMessageType.WEB3_REQUEST},t)}is.Web3RequestMessage=$E;var Xe={};Object.defineProperty(Xe,"__esModule",{value:!0});Xe.EthereumAddressFromSignedMessageResponse=Xe.SubmitEthereumTransactionResponse=Xe.SignEthereumTransactionResponse=Xe.SignEthereumMessageResponse=Xe.isRequestEthereumAccountsResponse=Xe.SelectProviderResponse=Xe.WatchAssetReponse=Xe.RequestEthereumAccountsResponse=Xe.SwitchEthereumChainResponse=Xe.AddEthereumChainResponse=Xe.ErrorResponse=void 0;const Gt=gu;function UE(t,e,r){return{method:t,errorMessage:e,errorCode:r}}Xe.ErrorResponse=UE;function WE(t){return{method:Gt.Web3Method.addEthereumChain,result:t}}Xe.AddEthereumChainResponse=WE;function HE(t){return{method:Gt.Web3Method.switchEthereumChain,result:t}}Xe.SwitchEthereumChainResponse=HE;function VE(t){return{method:Gt.Web3Method.requestEthereumAccounts,result:t}}Xe.RequestEthereumAccountsResponse=VE;function zE(t){return{method:Gt.Web3Method.watchAsset,result:t}}Xe.WatchAssetReponse=zE;function qE(t){return{method:Gt.Web3Method.selectProvider,result:t}}Xe.SelectProviderResponse=qE;function GE(t){return t&&t.method===Gt.Web3Method.requestEthereumAccounts}Xe.isRequestEthereumAccountsResponse=GE;function ZE(t){return{method:Gt.Web3Method.signEthereumMessage,result:t}}Xe.SignEthereumMessageResponse=ZE;function KE(t){return{method:Gt.Web3Method.signEthereumTransaction,result:t}}Xe.SignEthereumTransactionResponse=KE;function YE(t){return{method:Gt.Web3Method.submitEthereumTransaction,result:t}}Xe.SubmitEthereumTransactionResponse=YE;function QE(t){return{method:Gt.Web3Method.ethereumAddressFromSignedMessage,result:t}}Xe.EthereumAddressFromSignedMessageResponse=QE;var In={};Object.defineProperty(In,"__esModule",{value:!0});In.isWeb3ResponseMessage=In.Web3ResponseMessage=void 0;const ed=ns;function JE(t){return Object.assign({type:ed.RelayMessageType.WEB3_RESPONSE},t)}In.Web3ResponseMessage=JE;function XE(t){return t&&t.type===ed.RelayMessageType.WEB3_RESPONSE}In.isWeb3ResponseMessage=XE;var ex=_e&&_e.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r),Object.defineProperty(t,n,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),tx=_e&&_e.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),td=_e&&_e.__decorate||function(t,e,r,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,r):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(s=t[a])&&(o=(i<3?s(o):i>3?s(e,r,o):s(e,r))||o);return i>3&&o&&Object.defineProperty(e,r,o),o},rx=_e&&_e.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&ex(e,t,r);return tx(e,t),e},nx=_e&&_e.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Qo,"__esModule",{value:!0});Qo.WalletSDKRelay=void 0;const rd=nx(Jo),rl=mo,Yn=Dn,ht=xo,mt=On,ix=Xo,Js=ts,ox=xi,Je=ne,Or=rx(kn),nr=Nn,Vi=jt,ut=gu,sx=rs,ax=is,xt=Xe,_t=In;class Ft extends Vi.WalletSDKRelayAbstract{constructor(e){var r;super(),this.accountsCallback=null,this.chainCallback=null,this.dappDefaultChainSubject=new Yn.BehaviorSubject(1),this.dappDefaultChain=1,this.appName="",this.appLogoUrl=null,this.subscriptions=new Yn.Subscription,this.linkAPIUrl=e.linkAPIUrl,this.storage=e.storage,this.options=e;const{session:n,ui:i,connection:o}=this.subscribe();if(this._session=n,this.connection=o,this.relayEventManager=e.relayEventManager,e.diagnosticLogger&&e.eventListener)throw new Error("Can't have both eventListener and diagnosticLogger options, use only diagnosticLogger");e.eventListener?this.diagnostic={log:e.eventListener.onEvent}:this.diagnostic=e.diagnosticLogger,this._reloadOnDisconnect=(r=e.reloadOnDisconnect)!==null&&r!==void 0?r:!0,this.ui=i}subscribe(){this.subscriptions.add(this.dappDefaultChainSubject.subscribe(i=>{this.dappDefaultChain!==i&&(this.dappDefaultChain=i)}));const e=nr.Session.load(this.storage)||new nr.Session(this.storage).save(),r=new ix.WalletSDKConnection(e.id,e.key,this.linkAPIUrl,this.diagnostic);this.subscriptions.add(r.sessionConfig$.subscribe({next:i=>{this.onSessionConfigChanged(i)},error:()=>{var i;(i=this.diagnostic)===null||i===void 0||i.log(mt.EVENTS.GENERAL_ERROR,{message:"error while invoking session config callback"})}})),this.subscriptions.add(r.incomingEvent$.pipe((0,ht.filter)(i=>i.event==="Web3Response")).subscribe({next:this.handleIncomingEvent})),this.subscriptions.add(r.linked$.pipe((0,ht.skip)(1),(0,ht.tap)(i=>{var o;this.isLinked=i;const s=this.storage.getItem(Vi.LOCAL_STORAGE_ADDRESSES_KEY);if(i&&(this.session.linked=i),this.isUnlinkedErrorState=!1,s){const a=s.split(" "),f=this.storage.getItem("IsStandaloneSigning")==="true";if(a[0]!==""&&!i&&this.session.linked&&!f){this.isUnlinkedErrorState=!0;const p=this.getSessionIdHash();(o=this.diagnostic)===null||o===void 0||o.log(mt.EVENTS.UNLINKED_ERROR_STATE,{sessionIdHash:p})}}})).subscribe()),this.subscriptions.add(r.sessionConfig$.pipe((0,ht.filter)(i=>!!i.metadata&&i.metadata.__destroyed==="1")).subscribe(()=>{var i;const o=r.isDestroyed;return(i=this.diagnostic)===null||i===void 0||i.log(mt.EVENTS.METADATA_DESTROYED,{alreadyDestroyed:o,sessionIdHash:this.getSessionIdHash()}),this.resetAndReload()})),this.subscriptions.add(r.sessionConfig$.pipe((0,ht.filter)(i=>i.metadata&&i.metadata.WalletUsername!==void 0)).pipe((0,ht.mergeMap)(i=>Or.decrypt(i.metadata.WalletUsername,e.secret))).subscribe({next:i=>{this.storage.setItem(Vi.WALLET_USER_NAME_KEY,i)},error:()=>{var i;(i=this.diagnostic)===null||i===void 0||i.log(mt.EVENTS.GENERAL_ERROR,{message:"Had error decrypting",value:"username"})}})),this.subscriptions.add(r.sessionConfig$.pipe((0,ht.filter)(i=>i.metadata&&i.metadata.AppVersion!==void 0)).pipe((0,ht.mergeMap)(i=>Or.decrypt(i.metadata.AppVersion,e.secret))).subscribe({next:i=>{this.storage.setItem(Vi.APP_VERSION_KEY,i)},error:()=>{var i;(i=this.diagnostic)===null||i===void 0||i.log(mt.EVENTS.GENERAL_ERROR,{message:"Had error decrypting",value:"appversion"})}})),this.subscriptions.add(r.sessionConfig$.pipe((0,ht.filter)(i=>i.metadata&&i.metadata.ChainId!==void 0&&i.metadata.JsonRpcUrl!==void 0)).pipe((0,ht.mergeMap)(i=>(0,Yn.zip)(Or.decrypt(i.metadata.ChainId,e.secret),Or.decrypt(i.metadata.JsonRpcUrl,e.secret)))).pipe((0,ht.distinctUntilChanged)()).subscribe({next:([i,o])=>{this.chainCallback&&this.chainCallback(i,o)},error:()=>{var i;(i=this.diagnostic)===null||i===void 0||i.log(mt.EVENTS.GENERAL_ERROR,{message:"Had error decrypting",value:"chainId|jsonRpcUrl"})}})),this.subscriptions.add(r.sessionConfig$.pipe((0,ht.filter)(i=>i.metadata&&i.metadata.EthereumAddress!==void 0)).pipe((0,ht.mergeMap)(i=>Or.decrypt(i.metadata.EthereumAddress,e.secret))).subscribe({next:i=>{this.accountsCallback&&this.accountsCallback([i]),Ft.accountRequestCallbackIds.size>0&&(Array.from(Ft.accountRequestCallbackIds.values()).forEach(o=>{const s=(0,_t.Web3ResponseMessage)({id:o,response:(0,xt.RequestEthereumAccountsResponse)([i])});this.invokeCallback(Object.assign(Object.assign({},s),{id:o}))}),Ft.accountRequestCallbackIds.clear())},error:()=>{var i;(i=this.diagnostic)===null||i===void 0||i.log(mt.EVENTS.GENERAL_ERROR,{message:"Had error decrypting",value:"selectedAddress"})}}));const n=this.options.uiConstructor({linkAPIUrl:this.options.linkAPIUrl,version:this.options.version,darkMode:this.options.darkMode,session:e,connected$:r.connected$,chainId$:this.dappDefaultChainSubject});return r.connect(),{session:e,ui:n,connection:r}}attachUI(){this.ui.attach()}resetAndReload(){this.connection.setSessionMetadata("__destroyed","1").pipe((0,ht.timeout)(1e3),(0,ht.catchError)(e=>(0,Yn.of)(null))).subscribe(e=>{var r,n,i;const o=this.ui.isStandalone();try{this.subscriptions.unsubscribe()}catch{(r=this.diagnostic)===null||r===void 0||r.log(mt.EVENTS.GENERAL_ERROR,{message:"Had error unsubscribing"})}(n=this.diagnostic)===null||n===void 0||n.log(mt.EVENTS.SESSION_STATE_CHANGE,{method:"relay::resetAndReload",sessionMetadataChange:"__destroyed, 1",sessionIdHash:this.getSessionIdHash()}),this.connection.destroy();const s=nr.Session.load(this.storage);if((s==null?void 0:s.id)===this._session.id?this.storage.clear():s&&((i=this.diagnostic)===null||i===void 0||i.log(mt.EVENTS.SKIPPED_CLEARING_SESSION,{sessionIdHash:this.getSessionIdHash(),storedSessionIdHash:nr.Session.hash(s.id)})),this._reloadOnDisconnect){this.ui.reloadUI();return}this.accountsCallback&&this.accountsCallback([],!0);const{session:a,ui:f,connection:p}=this.subscribe();this._session=a,this.connection=p,this.ui=f,o&&this.ui.setStandalone&&this.ui.setStandalone(!0),this.attachUI()},e=>{var r;(r=this.diagnostic)===null||r===void 0||r.log(mt.EVENTS.FAILURE,{method:"relay::resetAndReload",message:`failed to reset and reload with ${e}`,sessionIdHash:this.getSessionIdHash()})})}setAppInfo(e,r){this.appName=e,this.appLogoUrl=r}getStorageItem(e){return this.storage.getItem(e)}get session(){return this._session}setStorageItem(e,r){this.storage.setItem(e,r)}signEthereumMessage(e,r,n,i){return this.sendRequest({method:ut.Web3Method.signEthereumMessage,params:{message:(0,Je.hexStringFromBuffer)(e,!0),address:r,addPrefix:n,typedDataJson:i||null}})}ethereumAddressFromSignedMessage(e,r,n){return this.sendRequest({method:ut.Web3Method.ethereumAddressFromSignedMessage,params:{message:(0,Je.hexStringFromBuffer)(e,!0),signature:(0,Je.hexStringFromBuffer)(r,!0),addPrefix:n}})}signEthereumTransaction(e){return this.sendRequest({method:ut.Web3Method.signEthereumTransaction,params:{fromAddress:e.fromAddress,toAddress:e.toAddress,weiValue:(0,Je.bigIntStringFromBN)(e.weiValue),data:(0,Je.hexStringFromBuffer)(e.data,!0),nonce:e.nonce,gasPriceInWei:e.gasPriceInWei?(0,Je.bigIntStringFromBN)(e.gasPriceInWei):null,maxFeePerGas:e.gasPriceInWei?(0,Je.bigIntStringFromBN)(e.gasPriceInWei):null,maxPriorityFeePerGas:e.gasPriceInWei?(0,Je.bigIntStringFromBN)(e.gasPriceInWei):null,gasLimit:e.gasLimit?(0,Je.bigIntStringFromBN)(e.gasLimit):null,chainId:e.chainId,shouldSubmit:!1}})}signAndSubmitEthereumTransaction(e){return this.sendRequest({method:ut.Web3Method.signEthereumTransaction,params:{fromAddress:e.fromAddress,toAddress:e.toAddress,weiValue:(0,Je.bigIntStringFromBN)(e.weiValue),data:(0,Je.hexStringFromBuffer)(e.data,!0),nonce:e.nonce,gasPriceInWei:e.gasPriceInWei?(0,Je.bigIntStringFromBN)(e.gasPriceInWei):null,maxFeePerGas:e.maxFeePerGas?(0,Je.bigIntStringFromBN)(e.maxFeePerGas):null,maxPriorityFeePerGas:e.maxPriorityFeePerGas?(0,Je.bigIntStringFromBN)(e.maxPriorityFeePerGas):null,gasLimit:e.gasLimit?(0,Je.bigIntStringFromBN)(e.gasLimit):null,chainId:e.chainId,shouldSubmit:!0}})}submitEthereumTransaction(e,r){return this.sendRequest({method:ut.Web3Method.submitEthereumTransaction,params:{signedTransaction:(0,Je.hexStringFromBuffer)(e,!0),chainId:r}})}scanQRCode(e){return this.sendRequest({method:ut.Web3Method.scanQRCode,params:{regExp:e}})}getQRCodeUrl(){return(0,Je.createQrUrl)(this._session.id,this._session.secret,this.linkAPIUrl,!1,this.options.version,this.dappDefaultChain)}genericRequest(e,r){return this.sendRequest({method:ut.Web3Method.generic,params:{action:r,data:e}})}sendGenericMessage(e){return this.sendRequest(e)}sendRequest(e){let r=null;const n=(0,Je.randomBytesHex)(8),i=s=>{this.publishWeb3RequestCanceledEvent(n),this.handleErrorResponse(n,e.method,s),r==null||r()};return{promise:new Promise((s,a)=>{this.ui.isStandalone()||(r=this.ui.showConnecting({isUnlinkedErrorState:this.isUnlinkedErrorState,onCancel:i,onResetConnection:this.resetAndReload})),this.relayEventManager.callbacks.set(n,f=>{if(r==null||r(),f.errorMessage)return a(new Error(f.errorMessage));s(f)}),this.ui.isStandalone()?this.sendRequestStandalone(n,e):this.publishWeb3RequestEvent(n,e)}),cancel:i}}setConnectDisabled(e){this.ui.setConnectDisabled(e)}setAccountsCallback(e){this.accountsCallback=e}setChainCallback(e){this.chainCallback=e}setDappDefaultChainCallback(e){this.dappDefaultChainSubject.next(e)}publishWeb3RequestEvent(e,r){var n;const i=(0,ax.Web3RequestMessage)({id:e,request:r}),o=nr.Session.load(this.storage);(n=this.diagnostic)===null||n===void 0||n.log(mt.EVENTS.WEB3_REQUEST,{eventId:i.id,method:`relay::${i.request.method}`,sessionIdHash:this.getSessionIdHash(),storedSessionIdHash:o?nr.Session.hash(o.id):"",isSessionMismatched:((o==null?void 0:o.id)!==this._session.id).toString()}),this.subscriptions.add(this.publishEvent("Web3Request",i,!0).subscribe({next:s=>{var a;(a=this.diagnostic)===null||a===void 0||a.log(mt.EVENTS.WEB3_REQUEST_PUBLISHED,{eventId:i.id,method:`relay::${i.request.method}`,sessionIdHash:this.getSessionIdHash(),storedSessionIdHash:o?nr.Session.hash(o.id):"",isSessionMismatched:((o==null?void 0:o.id)!==this._session.id).toString()})},error:s=>{this.handleWeb3ResponseMessage((0,_t.Web3ResponseMessage)({id:i.id,response:{method:i.request.method,errorMessage:s.message}}))}}))}publishWeb3RequestCanceledEvent(e){const r=(0,sx.Web3RequestCanceledMessage)(e);this.subscriptions.add(this.publishEvent("Web3RequestCanceled",r,!1).subscribe())}publishEvent(e,r,n){const i=this.session.secret;return new Yn.Observable(o=>{Or.encrypt(JSON.stringify(Object.assign(Object.assign({},r),{origin:location.origin})),i).then(s=>{o.next(s),o.complete()})}).pipe((0,ht.mergeMap)(o=>this.connection.publishEvent(e,o,n)))}handleIncomingEvent(e){try{this.subscriptions.add(Or.decrypt(e.data,this.session.secret).pipe((0,ht.map)(r=>JSON.parse(r))).subscribe({next:r=>{const n=(0,_t.isWeb3ResponseMessage)(r)?r:null;!n||this.handleWeb3ResponseMessage(n)},error:()=>{var r;(r=this.diagnostic)===null||r===void 0||r.log(mt.EVENTS.GENERAL_ERROR,{message:"Had error decrypting",value:"incomingEvent"})}}))}catch{return}}handleWeb3ResponseMessage(e){var r;const{response:n}=e;if((r=this.diagnostic)===null||r===void 0||r.log(mt.EVENTS.WEB3_RESPONSE,{eventId:e.id,method:`relay::${n.method}`,sessionIdHash:this.getSessionIdHash()}),(0,xt.isRequestEthereumAccountsResponse)(n)){Ft.accountRequestCallbackIds.forEach(i=>this.invokeCallback(Object.assign(Object.assign({},e),{id:i}))),Ft.accountRequestCallbackIds.clear();return}this.invokeCallback(e)}handleErrorResponse(e,r,n,i){this.handleWeb3ResponseMessage((0,_t.Web3ResponseMessage)({id:e,response:(0,xt.ErrorResponse)(r,(n!=null?n:Js.WalletUIError.UserRejectedRequest).message,i)}))}invokeCallback(e){const r=this.relayEventManager.callbacks.get(e.id);r&&(r(e.response),this.relayEventManager.callbacks.delete(e.id))}requestEthereumAccounts(){const e={method:ut.Web3Method.requestEthereumAccounts,params:{appName:this.appName,appLogoUrl:this.appLogoUrl||null}},r=(0,Je.randomBytesHex)(8),n=o=>{this.publishWeb3RequestCanceledEvent(r),this.handleErrorResponse(r,e.method,o)};return{promise:new Promise((o,s)=>{var a;this.relayEventManager.callbacks.set(r,p=>{if(this.ui.hideRequestEthereumAccounts(),p.errorMessage)return s(new Error(p.errorMessage));o(p)});const f=((a=window==null?void 0:window.navigator)===null||a===void 0?void 0:a.userAgent)||null;if(f&&/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(f)){let p;try{(0,Je.isInIFrame)()&&window.top?p=window.top.location:p=window.location}catch{p=window.location}p.href=`https://go.cb-w.com/xoXnYwQimhb?cb_url=${encodeURIComponent(p.href)}`;return}if(this.ui.inlineAccountsResponse()){const p=g=>{this.handleWeb3ResponseMessage((0,_t.Web3ResponseMessage)({id:r,response:(0,xt.RequestEthereumAccountsResponse)(g)}))};this.ui.requestEthereumAccounts({onCancel:n,onAccounts:p})}else{const p=rl.ethErrors.provider.userRejectedRequest("User denied account authorization");this.ui.requestEthereumAccounts({onCancel:()=>n(p)})}Ft.accountRequestCallbackIds.add(r),!this.ui.inlineAccountsResponse()&&!this.ui.isStandalone()&&this.publishWeb3RequestEvent(r,e)}),cancel:n}}selectProvider(e){const r={method:ut.Web3Method.selectProvider,params:{providerOptions:e}},n=(0,Je.randomBytesHex)(8),i=s=>{this.publishWeb3RequestCanceledEvent(n),this.handleErrorResponse(n,r.method,s)},o=new Promise((s,a)=>{this.relayEventManager.callbacks.set(n,g=>{if(g.errorMessage)return a(new Error(g.errorMessage));s(g)});const f=g=>{this.handleWeb3ResponseMessage((0,_t.Web3ResponseMessage)({id:n,response:(0,xt.SelectProviderResponse)(ox.ProviderType.Unselected)}))},p=g=>{this.handleWeb3ResponseMessage((0,_t.Web3ResponseMessage)({id:n,response:(0,xt.SelectProviderResponse)(g)}))};this.ui.selectProvider&&this.ui.selectProvider({onApprove:p,onCancel:f,providerOptions:e})});return{cancel:i,promise:o}}watchAsset(e,r,n,i,o,s){const a={method:ut.Web3Method.watchAsset,params:{type:e,options:{address:r,symbol:n,decimals:i,image:o},chainId:s}};let f=null;const p=(0,Je.randomBytesHex)(8),g=m=>{this.publishWeb3RequestCanceledEvent(p),this.handleErrorResponse(p,a.method,m),f==null||f()};this.ui.inlineWatchAsset()||(f=this.ui.showConnecting({isUnlinkedErrorState:this.isUnlinkedErrorState,onCancel:g,onResetConnection:this.resetAndReload}));const I=new Promise((m,C)=>{this.relayEventManager.callbacks.set(p,U=>{if(f==null||f(),U.errorMessage)return C(new Error(U.errorMessage));m(U)});const N=U=>{this.handleWeb3ResponseMessage((0,_t.Web3ResponseMessage)({id:p,response:(0,xt.WatchAssetReponse)(!1)}))},H=()=>{this.handleWeb3ResponseMessage((0,_t.Web3ResponseMessage)({id:p,response:(0,xt.WatchAssetReponse)(!0)}))};this.ui.inlineWatchAsset()&&this.ui.watchAsset({onApprove:H,onCancel:N,type:e,address:r,symbol:n,decimals:i,image:o,chainId:s}),!this.ui.inlineWatchAsset()&&!this.ui.isStandalone()&&this.publishWeb3RequestEvent(p,a)});return{cancel:g,promise:I}}addEthereumChain(e,r,n,i,o,s){const a={method:ut.Web3Method.addEthereumChain,params:{chainId:e,rpcUrls:r,blockExplorerUrls:i,chainName:o,iconUrls:n,nativeCurrency:s}};let f=null;const p=(0,Je.randomBytesHex)(8),g=m=>{this.publishWeb3RequestCanceledEvent(p),this.handleErrorResponse(p,a.method,m),f==null||f()};return this.ui.inlineAddEthereumChain(e)||(f=this.ui.showConnecting({isUnlinkedErrorState:this.isUnlinkedErrorState,onCancel:g,onResetConnection:this.resetAndReload})),{promise:new Promise((m,C)=>{this.relayEventManager.callbacks.set(p,U=>{if(f==null||f(),U.errorMessage)return C(new Error(U.errorMessage));m(U)});const N=U=>{this.handleWeb3ResponseMessage((0,_t.Web3ResponseMessage)({id:p,response:(0,xt.AddEthereumChainResponse)({isApproved:!1,rpcUrl:""})}))},H=U=>{this.handleWeb3ResponseMessage((0,_t.Web3ResponseMessage)({id:p,response:(0,xt.AddEthereumChainResponse)({isApproved:!0,rpcUrl:U})}))};this.ui.inlineAddEthereumChain(e)&&this.ui.addEthereumChain({onCancel:N,onApprove:H,chainId:a.params.chainId,rpcUrls:a.params.rpcUrls,blockExplorerUrls:a.params.blockExplorerUrls,chainName:a.params.chainName,iconUrls:a.params.iconUrls,nativeCurrency:a.params.nativeCurrency}),!this.ui.inlineAddEthereumChain(e)&&!this.ui.isStandalone()&&this.publishWeb3RequestEvent(p,a)}),cancel:g}}switchEthereumChain(e,r){const n={method:ut.Web3Method.switchEthereumChain,params:Object.assign({chainId:e},{address:r})},i=(0,Je.randomBytesHex)(8),o=a=>{this.publishWeb3RequestCanceledEvent(i),this.handleErrorResponse(i,n.method,a)};return{promise:new Promise((a,f)=>{this.relayEventManager.callbacks.set(i,I=>{if(I.errorMessage&&I.errorCode)return f(rl.ethErrors.provider.custom({code:I.errorCode,message:"Unrecognized chain ID. Try adding the chain using addEthereumChain first."}));if(I.errorMessage)return f(new Error(I.errorMessage));a(I)});const p=I=>{if(typeof I=="number"){const m=I;this.handleWeb3ResponseMessage((0,_t.Web3ResponseMessage)({id:i,response:(0,xt.ErrorResponse)(ut.Web3Method.switchEthereumChain,Js.WalletUIError.SwitchEthereumChainUnsupportedChainId.message,m)}))}else I instanceof Js.WalletUIError?this.handleErrorResponse(i,ut.Web3Method.switchEthereumChain,I,I.errorCode):this.handleWeb3ResponseMessage((0,_t.Web3ResponseMessage)({id:i,response:(0,xt.SwitchEthereumChainResponse)({isApproved:!1,rpcUrl:""})}))},g=I=>{this.handleWeb3ResponseMessage((0,_t.Web3ResponseMessage)({id:i,response:(0,xt.SwitchEthereumChainResponse)({isApproved:!0,rpcUrl:I})}))};this.ui.switchEthereumChain({onCancel:p,onApprove:g,chainId:n.params.chainId,address:n.params.address}),!this.ui.inlineSwitchEthereumChain()&&!this.ui.isStandalone()&&this.publishWeb3RequestEvent(i,n)}),cancel:o}}inlineAddEthereumChain(e){return this.ui.inlineAddEthereumChain(e)}getSessionIdHash(){return nr.Session.hash(this._session.id)}sendRequestStandalone(e,r){const n=o=>{this.handleErrorResponse(e,r.method,o)},i=o=>{this.handleWeb3ResponseMessage((0,_t.Web3ResponseMessage)({id:e,response:o}))};switch(r.method){case ut.Web3Method.signEthereumMessage:this.ui.signEthereumMessage({request:r,onSuccess:i,onCancel:n});break;case ut.Web3Method.signEthereumTransaction:this.ui.signEthereumTransaction({request:r,onSuccess:i,onCancel:n});break;case ut.Web3Method.submitEthereumTransaction:this.ui.submitEthereumTransaction({request:r,onSuccess:i,onCancel:n});break;case ut.Web3Method.ethereumAddressFromSignedMessage:this.ui.ethereumAddressFromSignedMessage({request:r,onSuccess:i});break;default:n();break}}onSessionConfigChanged(e){}}Ft.accountRequestCallbackIds=new Set;td([rd.default],Ft.prototype,"resetAndReload",null);td([rd.default],Ft.prototype,"handleIncomingEvent",null);Qo.WalletSDKRelay=Ft;var os={};Object.defineProperty(os,"__esModule",{value:!0});os.WalletSDKRelayEventManager=void 0;const ux=ne;class cx{constructor(){this._nextRequestId=0,this.callbacks=new Map}makeRequestId(){this._nextRequestId=(this._nextRequestId+1)%2147483647;const e=this._nextRequestId,r=(0,ux.prepend0x)(e.toString(16));return this.callbacks.get(r)&&this.callbacks.delete(r),e}}os.WalletSDKRelayEventManager=cx;const lx="@coinbase/wallet-sdk",fx="3.5.2",hx="Coinbase Wallet JavaScript SDK",dx=["cipher","cipherbrowser","coinbase","coinbasewallet","eth","ether","ethereum","etherium","injection","toshi","wallet","walletlink","web3"],px="dist/index.js",gx="dist/index.d.ts",yx="https://github.com/coinbase/coinbase-wallet-sdk.git",bx="Coinbase, Inc.",vx="Apache-2.0",mx={"pretest:unit":"node compile-assets.js","test:unit":"jest","test:unit:coverage":"yarn test:unit && open coverage/lcov-report/index.html","test:karma":"yarn build-npm && karma start",prebuild:`node -p "'export const LIB_VERSION = ' + JSON.stringify(require('./package.json').version) + ';'" > src/version.ts`,build:"node compile-assets.js && webpack --config webpack.config.js","build-npm":"tsc -p ./tsconfig.build.json","build:dev":"export LINK_API_URL='http://localhost:3000'; yarn build","build:dev:watch":"nodemon -e 'ts,tsx,js,json,css,scss,svg' --ignore 'src/**/*-css.ts' --ignore 'src/**/*-svg.ts' --watch src/ --exec 'yarn build:dev'","build:prod":`yarn prebuild && yarn build && yarn build-npm && cp ./package.json ../../README.md ./LICENSE build/npm && cp -a src/vendor-js build/npm/dist && sed -i.bak 's|  "private": true,||g' build/npm/package.json && rm -f build/npm/package.json.bak`,"lint:types":"tsc --noEmit","lint:prettier":'prettier --check "{src,__tests__}/**/*.(js|ts|tsx)"',"lint:eslint":"eslint ./src --ext .ts,.tsx","fix:eslint":"yarn lint:eslint --fix","fix:prettier":"prettier . --write",release:"./scripts/release.sh"},_x={"@metamask/safe-event-emitter":"2.0.0","@solana/web3.js":"1.52.0","bind-decorator":"^1.0.11","bn.js":"^5.1.1",buffer:"^6.0.3",clsx:"^1.1.0","eth-block-tracker":"4.4.3","eth-json-rpc-filters":"4.2.2","eth-rpc-errors":"4.0.2","json-rpc-engine":"6.1.0",keccak:"^3.0.1",preact:"^10.5.9",qs:"^6.10.3",rxjs:"^6.6.3","sha.js":"^2.4.11","stream-browserify":"^3.0.0",util:"^0.12.4"},wx={"@babel/core":"^7.17.9","@babel/plugin-proposal-decorators":"^7.17.9","@babel/plugin-transform-react-jsx":"^7.17.3","@babel/preset-env":"^7.16.11","@babel/preset-typescript":"^7.16.7","@peculiar/webcrypto":"^1.3.3","@testing-library/jest-dom":"^5.16.4","@testing-library/preact":"^2.0.1","@types/bn.js":"^4.11.6","@types/jest":"^27.4.1","@types/node":"^14.14.20","@types/qs":"^6.9.7","@types/sha.js":"^2.4.0","@typescript-eslint/eslint-plugin":"^5.7.0","@typescript-eslint/eslint-plugin-tslint":"^5.7.0","@typescript-eslint/parser":"^5.7.0","babel-jest":"^27.5.1",browserify:"17.0.0","copy-webpack-plugin":"^6.4.1","core-js":"^3.8.2",eslint:"^8.4.1","eslint-config-prettier":"^8.3.0","eslint-plugin-import":"^2.25.3","eslint-plugin-preact":"^0.1.0","eslint-plugin-prettier":"^4.0.0","eslint-plugin-simple-import-sort":"^7.0.0",jasmine:"3.8.0",jest:"^27.5.1","jest-chrome":"^0.7.2","jest-websocket-mock":"^2.3.0",karma:"^6.3.15","karma-browserify":"8.1.0","karma-chrome-launcher":"^3.1.0","karma-jasmine":"^4.0.1",nodemon:"^2.0.6",prettier:"^2.5.1","raw-loader":"^4.0.2","regenerator-runtime":"^0.13.7",sass:"^1.50.0",svgo:"^2.8.0","ts-jest":"^27.1.4","ts-loader":"^8.0.13","ts-node":"^10.7.0",tslib:"^2.0.3",typescript:"^4.1.3",watchify:"4.0.0",webpack:"^5.72.0","webpack-cli":"^4.9.2","whatwg-fetch":"^3.5.0"},Sx={node:">= 10.0.0"},Ex={name:lx,version:fx,description:hx,keywords:dx,main:px,types:gx,repository:yx,author:bx,license:vx,scripts:mx,dependencies:_x,devDependencies:wx,engines:Sx};Object.defineProperty(si,"__esModule",{value:!0});si.CoinbaseWalletSDK=void 0;const xx=bo,Mx=vo,Ax=yn,Cx=Vo,kx=Qo,Ix=os,Rx=ne,Tx=ve.env.LINK_API_URL||"https://www.walletlink.org",nd=ve.env.SDK_VERSION||Ex.version||"unknown";class ss{constructor(e){var r,n,i;this._appName="",this._appLogoUrl=null,this._relay=null,this._relayEventManager=null;const o=e.linkAPIUrl||Tx;let s;if(e.uiConstructor?s=e.uiConstructor:s=p=>new Cx.WalletSDKUI(p),typeof e.overrideIsMetaMask>"u"?this._overrideIsMetaMask=!1:this._overrideIsMetaMask=e.overrideIsMetaMask,this._overrideIsCoinbaseWallet=(r=e.overrideIsCoinbaseWallet)!==null&&r!==void 0?r:!0,this._overrideIsCoinbaseBrowser=(n=e.overrideIsCoinbaseBrowser)!==null&&n!==void 0?n:!1,e.diagnosticLogger&&e.eventListener)throw new Error("Can't have both eventListener and diagnosticLogger options, use only diagnosticLogger");e.eventListener?this._diagnosticLogger={log:e.eventListener.onEvent}:this._diagnosticLogger=e.diagnosticLogger,this._reloadOnDisconnect=(i=e.reloadOnDisconnect)!==null&&i!==void 0?i:!0;const a=new URL(o),f=`${a.protocol}//${a.host}`;this._storage=new Mx.ScopedLocalStorage(`-walletlink:${f}`),this._storage.setItem("version",ss.VERSION),!(this.walletExtension||this.coinbaseBrowser)&&(this._relayEventManager=new Ix.WalletSDKRelayEventManager,this._relay=new kx.WalletSDKRelay({linkAPIUrl:o,version:nd,darkMode:!!e.darkMode,uiConstructor:s,storage:this._storage,relayEventManager:this._relayEventManager,diagnosticLogger:this._diagnosticLogger}),this.setAppInfo(e.appName,e.appLogoUrl),!e.headlessMode&&this._relay.attachUI())}makeWeb3Provider(e="",r=1){const n=this.walletExtension;if(n)return this.isCipherProvider(n)||n.setProviderInfo(e,r),this._reloadOnDisconnect===!1&&typeof n.disableReloadOnDisconnect=="function"&&n.disableReloadOnDisconnect(),n;const i=this.coinbaseBrowser;if(i)return i;const o=this._relay;if(!o||!this._relayEventManager||!this._storage)throw new Error("Relay not initialized, should never happen");return e||o.setConnectDisabled(!0),new Ax.CoinbaseWalletProvider({relayProvider:()=>Promise.resolve(o),relayEventManager:this._relayEventManager,storage:this._storage,jsonRpcUrl:e,chainId:r,qrUrl:this.getQrUrl(),diagnosticLogger:this._diagnosticLogger,overrideIsMetaMask:this._overrideIsMetaMask,overrideIsCoinbaseWallet:this._overrideIsCoinbaseWallet,overrideIsCoinbaseBrowser:this._overrideIsCoinbaseBrowser})}setAppInfo(e,r){var n;this._appName=e||"DApp",this._appLogoUrl=r||(0,Rx.getFavicon)();const i=this.walletExtension;i?this.isCipherProvider(i)||i.setAppInfo(this._appName,this._appLogoUrl):(n=this._relay)===null||n===void 0||n.setAppInfo(this._appName,this._appLogoUrl)}disconnect(){var e;const r=this.walletExtension;r?r.close():(e=this._relay)===null||e===void 0||e.resetAndReload()}getQrUrl(){var e,r;return(r=(e=this._relay)===null||e===void 0?void 0:e.getQRCodeUrl())!==null&&r!==void 0?r:null}getCoinbaseWalletLogo(e,r=240){return(0,xx.walletLogo)(e,r)}get walletExtension(){var e;return(e=window.coinbaseWalletExtension)!==null&&e!==void 0?e:window.walletLinkExtension}get coinbaseBrowser(){var e,r;try{const n=(e=window.ethereum)!==null&&e!==void 0?e:(r=window.top)===null||r===void 0?void 0:r.ethereum;return n&&"isCoinbaseBrowser"in n&&n.isCoinbaseBrowser?n:void 0}catch{return}}isCipherProvider(e){return typeof e.isCipher=="boolean"&&e.isCipher}}si.CoinbaseWalletSDK=ss;ss.VERSION=nd;(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.CoinbaseWalletProvider=t.CoinbaseWalletSDK=void 0;const e=si,r=yn;var n=si;Object.defineProperty(t,"CoinbaseWalletSDK",{enumerable:!0,get:function(){return n.CoinbaseWalletSDK}});var i=yn;Object.defineProperty(t,"CoinbaseWalletProvider",{enumerable:!0,get:function(){return i.CoinbaseWalletProvider}}),t.default=e.CoinbaseWalletSDK,typeof window<"u"&&(window.CoinbaseWalletSDK=e.CoinbaseWalletSDK,window.CoinbaseWalletProvider=r.CoinbaseWalletProvider,window.WalletLink=e.CoinbaseWalletSDK,window.WalletLinkProvider=r.CoinbaseWalletProvider)})(Sa);const Ox=od(Sa),Dx=ud({__proto__:null,default:Ox},[Sa]);export{Dx as i};
